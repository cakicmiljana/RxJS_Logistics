(()=>{"use strict";var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};function e(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}function n(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(u){return function(c){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,r=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){a.label=u[1];break}if(6===u[0]&&a.label<o[1]){a.label=o[1],o=u;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(u);break}o[2]&&a.ops.pop(),a.trys.pop();continue}u=e.call(t,a)}catch(t){u=[6,t],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,c])}}}function r(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function o(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function i(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))}function a(t){return this instanceof a?(this.v=t,this):new a(t)}function u(t){return"function"==typeof t}function c(t){var e=t((function(t){Error.call(t),t.stack=(new Error).stack}));return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError;var s=c((function(t){return function(e){t(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map((function(t,e){return e+1+") "+t.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e}}));function l(t,e){if(t){var n=t.indexOf(e);0<=n&&t.splice(n,1)}}var d=function(){function t(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){var t,e,n,a,c;if(!this.closed){this.closed=!0;var l=this._parentage;if(l)if(this._parentage=null,Array.isArray(l))try{for(var d=r(l),f=d.next();!f.done;f=d.next())f.value.remove(this)}catch(e){t={error:e}}finally{try{f&&!f.done&&(e=d.return)&&e.call(d)}finally{if(t)throw t.error}}else l.remove(this);var p=this.initialTeardown;if(u(p))try{p()}catch(t){c=t instanceof s?t.errors:[t]}var v=this._finalizers;if(v){this._finalizers=null;try{for(var b=r(v),y=b.next();!y.done;y=b.next()){var m=y.value;try{h(m)}catch(t){c=null!=c?c:[],t instanceof s?c=i(i([],o(c)),o(t.errors)):c.push(t)}}}catch(t){n={error:t}}finally{try{y&&!y.done&&(a=b.return)&&a.call(b)}finally{if(n)throw n.error}}}if(c)throw new s(c)}},t.prototype.add=function(e){var n;if(e&&e!==this)if(this.closed)h(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}},t.prototype._hasParent=function(t){var e=this._parentage;return e===t||Array.isArray(e)&&e.includes(t)},t.prototype._addParent=function(t){var e=this._parentage;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t},t.prototype._removeParent=function(t){var e=this._parentage;e===t?this._parentage=null:Array.isArray(e)&&l(e,t)},t.prototype.remove=function(e){var n=this._finalizers;n&&l(n,e),e instanceof t&&e._removeParent(this)},t.EMPTY=((e=new t).closed=!0,e),t;var e}(),f=d.EMPTY;function p(t){return t instanceof d||t&&"closed"in t&&u(t.remove)&&u(t.add)&&u(t.unsubscribe)}function h(t){u(t)?t():t.unsubscribe()}var v={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},b={setTimeout:function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var a=b.delegate;return(null==a?void 0:a.setTimeout)?a.setTimeout.apply(a,i([t,e],o(n))):setTimeout.apply(void 0,i([t,e],o(n)))},clearTimeout:function(t){var e=b.delegate;return((null==e?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0};function y(t){b.setTimeout((function(){var e=v.onUnhandledError;if(!e)throw t;e(t)}))}function m(){}var w=g("C",void 0,void 0);function g(t,e,n){return{kind:t,value:e,error:n}}var S=null;function E(t){if(v.useDeprecatedSynchronousErrorHandling){var e=!S;if(e&&(S={errorThrown:!1,error:null}),t(),e){var n=S,r=n.errorThrown,o=n.error;if(S=null,r)throw o}}else t()}var C=function(t){function n(e){var n=t.call(this)||this;return n.isStopped=!1,e?(n.destination=e,p(e)&&e.add(n)):n.destination=k,n}return e(n,t),n.create=function(t,e,n){return new T(t,e,n)},n.prototype.next=function(t){this.isStopped?O(function(t){return g("N",t,void 0)}(t),this):this._next(t)},n.prototype.error=function(t){this.isStopped?O(g("E",void 0,t),this):(this.isStopped=!0,this._error(t))},n.prototype.complete=function(){this.isStopped?O(w,this):(this.isStopped=!0,this._complete())},n.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},n.prototype._next=function(t){this.destination.next(t)},n.prototype._error=function(t){try{this.destination.error(t)}finally{this.unsubscribe()}},n.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},n}(d),L=Function.prototype.bind;function x(t,e){return L.call(t,e)}var D=function(){function t(t){this.partialObserver=t}return t.prototype.next=function(t){var e=this.partialObserver;if(e.next)try{e.next(t)}catch(t){I(t)}},t.prototype.error=function(t){var e=this.partialObserver;if(e.error)try{e.error(t)}catch(t){I(t)}else I(t)},t.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(t){I(t)}},t}(),T=function(t){function n(e,n,r){var o,i,a=t.call(this)||this;return u(e)||!e?o={next:null!=e?e:void 0,error:null!=n?n:void 0,complete:null!=r?r:void 0}:a&&v.useDeprecatedNextContext?((i=Object.create(e)).unsubscribe=function(){return a.unsubscribe()},o={next:e.next&&x(e.next,i),error:e.error&&x(e.error,i),complete:e.complete&&x(e.complete,i)}):o=e,a.destination=new D(o),a}return e(n,t),n}(C);function I(t){var e;v.useDeprecatedSynchronousErrorHandling?(e=t,v.useDeprecatedSynchronousErrorHandling&&S&&(S.errorThrown=!0,S.error=e)):y(t)}function O(t,e){var n=v.onStoppedNotification;n&&b.setTimeout((function(){return n(t,e)}))}var k={closed:!0,next:m,error:function(t){throw t},complete:m},A="function"==typeof Symbol&&Symbol.observable||"@@observable";function _(t){return t}var P=function(){function t(t){t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var r,o=this,i=(r=t)&&r instanceof C||function(t){return t&&u(t.next)&&u(t.error)&&u(t.complete)}(r)&&p(r)?t:new T(t,e,n);return E((function(){var t=o,e=t.operator,n=t.source;i.add(e?e.call(i,n):n?o._subscribe(i):o._trySubscribe(i))})),i},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){t.error(e)}},t.prototype.forEach=function(t,e){var n=this;return new(e=R(e))((function(e,r){var o=new T({next:function(e){try{t(e)}catch(t){r(t),o.unsubscribe()}},error:r,complete:e});n.subscribe(o)}))},t.prototype._subscribe=function(t){var e;return null===(e=this.source)||void 0===e?void 0:e.subscribe(t)},t.prototype[A]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return(0===(n=t).length?_:1===n.length?n[0]:function(t){return n.reduce((function(t,e){return e(t)}),t)})(this);var n},t.prototype.toPromise=function(t){var e=this;return new(t=R(t))((function(t,n){var r;e.subscribe((function(t){return r=t}),(function(t){return n(t)}),(function(){return t(r)}))}))},t.create=function(e){return new t(e)},t}();function R(t){var e;return null!==(e=null!=t?t:v.Promise)&&void 0!==e?e:Promise}var N=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t};function F(t){return u(null==t?void 0:t.then)}function U(t){return u(t[A])}function j(t){return Symbol.asyncIterator&&u(null==t?void 0:t[Symbol.asyncIterator])}function G(t){return new TypeError("You provided "+(null!==t&&"object"==typeof t?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}var M="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function z(t){return u(null==t?void 0:t[M])}function V(t){return function(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(t,e||[]),i=[];return r={},u("next"),u("throw"),u("return"),r[Symbol.asyncIterator]=function(){return this},r;function u(t){o[t]&&(r[t]=function(e){return new Promise((function(n,r){i.push([t,e,n,r])>1||c(t,e)}))})}function c(t,e){try{(n=o[t](e)).value instanceof a?Promise.resolve(n.value.v).then(s,l):d(i[0][2],n)}catch(t){d(i[0][3],t)}var n}function s(t){c("next",t)}function l(t){c("throw",t)}function d(t,e){t(e),i.shift(),i.length&&c(i[0][0],i[0][1])}}(this,arguments,(function(){var e,r,o;return n(this,(function(n){switch(n.label){case 0:e=t.getReader(),n.label=1;case 1:n.trys.push([1,,9,10]),n.label=2;case 2:return[4,a(e.read())];case 3:return r=n.sent(),o=r.value,r.done?[4,a(void 0)]:[3,5];case 4:return[2,n.sent()];case 5:return[4,a(o)];case 6:return[4,n.sent()];case 7:return n.sent(),[3,2];case 8:return[3,10];case 9:return e.releaseLock(),[7];case 10:return[2]}}))}))}function B(t){return u(null==t?void 0:t.getReader)}function K(t){if(t instanceof P)return t;if(null!=t){if(U(t))return i=t,new P((function(t){var e=i[A]();if(u(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")}));if(N(t))return o=t,new P((function(t){for(var e=0;e<o.length&&!t.closed;e++)t.next(o[e]);t.complete()}));if(F(t))return n=t,new P((function(t){n.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,y)}));if(j(t))return H(t);if(z(t))return e=t,new P((function(t){var n,o;try{for(var i=r(e),a=i.next();!a.done;a=i.next()){var u=a.value;if(t.next(u),t.closed)return}}catch(t){n={error:t}}finally{try{a&&!a.done&&(o=i.return)&&o.call(i)}finally{if(n)throw n.error}}t.complete()}));if(B(t))return H(V(t))}var e,n,o,i;throw G(t)}function H(t){return new P((function(e){(function(t,e){var o,i,a,u,c,s,l,d;return c=this,s=void 0,d=function(){var c,s;return n(this,(function(n){switch(n.label){case 0:n.trys.push([0,5,6,11]),o=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=r(t),e={},o("next"),o("throw"),o("return"),e[Symbol.asyncIterator]=function(){return this},e);function o(n){e[n]=t[n]&&function(e){return new Promise((function(r,o){!function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)}(r,o,(e=t[n](e)).done,e.value)}))}}}(t),n.label=1;case 1:return[4,o.next()];case 2:if((i=n.sent()).done)return[3,4];if(c=i.value,e.next(c),e.closed)return[2];n.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return s=n.sent(),a={error:s},[3,11];case 6:return n.trys.push([6,,9,10]),i&&!i.done&&(u=o.return)?[4,u.call(o)]:[3,8];case 7:n.sent(),n.label=8;case 8:return[3,10];case 9:if(a)throw a.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}}))},new((l=void 0)||(l=Promise))((function(t,e){function n(t){try{o(d.next(t))}catch(t){e(t)}}function r(t){try{o(d.throw(t))}catch(t){e(t)}}function o(e){var o;e.done?t(e.value):(o=e.value,o instanceof l?o:new l((function(t){t(o)}))).then(n,r)}o((d=d.apply(c,s||[])).next())}))})(t,e).catch((function(t){return e.error(t)}))}))}var J=Array.isArray,Y=new P((function(t){return t.complete()}));function W(t,e,n,r,o){return new q(t,e,n,r,o)}var q=function(t){function n(e,n,r,o,i,a){var u=t.call(this,e)||this;return u.onFinalize=i,u.shouldUnsubscribe=a,u._next=n?function(t){try{n(t)}catch(t){e.error(t)}}:t.prototype._next,u._error=o?function(t){try{o(t)}catch(t){e.error(t)}finally{this.unsubscribe()}}:t.prototype._error,u._complete=r?function(){try{r()}catch(t){e.error(t)}finally{this.unsubscribe()}}:t.prototype._complete,u}return e(n,t),n.prototype.unsubscribe=function(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;t.prototype.unsubscribe.call(this),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}},n}(C);function Q(t){return t&&u(t.schedule)}function X(t){return t[t.length-1]}function Z(t){return u(X(t))?t.pop():void 0}function $(t){return Q(X(t))?t.pop():void 0}function tt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Z(t),r=function(t){return 1===t.length&&J(t[0])?t[0]:t}(t);return r.length?new P((function(t){var e=r.map((function(){return[]})),a=r.map((function(){return!1}));t.add((function(){e=a=null}));for(var u=function(u){K(r[u]).subscribe(W(t,(function(r){if(e[u].push(r),e.every((function(t){return t.length}))){var c=e.map((function(t){return t.shift()}));t.next(n?n.apply(void 0,i([],o(c))):c),e.some((function(t,e){return!t.length&&a[e]}))&&t.complete()}}),(function(){a[u]=!0,!e[u].length&&t.complete()})))},c=0;!t.closed&&c<r.length;c++)u(c);return function(){e=a=null}})):Y}function et(t,e,n,r,o){void 0===r&&(r=0),void 0===o&&(o=!1);var i=e.schedule((function(){n(),o?t.add(this.schedule(null,r)):this.unsubscribe()}),r);if(t.add(i),!o)return i}function nt(t){return function(e){if(function(t){return u(null==t?void 0:t.lift)}(e))return e.lift((function(e){try{return t(e,this)}catch(t){this.error(t)}}));throw new TypeError("Unable to lift unknown Observable type")}}function rt(t,e){return void 0===e&&(e=0),nt((function(n,r){n.subscribe(W(r,(function(n){return et(r,t,(function(){return r.next(n)}),e)}),(function(){return et(r,t,(function(){return r.complete()}),e)}),(function(n){return et(r,t,(function(){return r.error(n)}),e)})))}))}function ot(t,e){return void 0===e&&(e=0),nt((function(n,r){r.add(t.schedule((function(){return n.subscribe(r)}),e))}))}function it(t,e){if(!t)throw new Error("Iterable cannot be null");return new P((function(n){et(n,e,(function(){var r=t[Symbol.asyncIterator]();et(n,e,(function(){r.next().then((function(t){t.done?n.complete():n.next(t.value)}))}),0,!0)}))}))}function at(t,e){return e?function(t,e){if(null!=t){if(U(t))return function(t,e){return K(t).pipe(ot(e),rt(e))}(t,e);if(N(t))return function(t,e){return new P((function(n){var r=0;return e.schedule((function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())}))}))}(t,e);if(F(t))return function(t,e){return K(t).pipe(ot(e),rt(e))}(t,e);if(j(t))return it(t,e);if(z(t))return function(t,e){return new P((function(n){var r;return et(n,e,(function(){r=t[M](),et(n,e,(function(){var t,e,o;try{e=(t=r.next()).value,o=t.done}catch(t){return void n.error(t)}o?n.complete():n.next(e)}),0,!0)})),function(){return u(null==r?void 0:r.return)&&r.return()}}))}(t,e);if(B(t))return function(t,e){return it(V(t),e)}(t,e)}throw G(t)}(t,e):K(t)}const ut="http://localhost:3000/vehicles/",ct="http://localhost:3000/drivers/",st="http://localhost:3000/orders/",lt={lat:42.9977,lng:21.9654};var dt;function ft(t){return at(fetch(ut+t).then((function(t){if(t.ok)return t.json();throw new Error("Vehicle not found.")})).catch((function(t){return console.error(t)})))}function pt(t){fetch("".concat(ut,"/").concat(t.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){t.updateTruckData(t)}))}function ht(t){fetch("".concat(st,"/").concat(t.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){t.updateOrderData(t)}))}function vt(t){fetch("".concat(ct,"/").concat(t.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){t.updateDriverData(t)}))}function bt(t,e,n){for(t.target;n.firstChild;)n.classList.contains(e)||n.removeChild(n.lastChild)}!function(t){t.pending="pending",t.shipped="shipped",t.delivered="delivered"}(dt||(dt={}));var yt,mt=function(){function t(t,e,n,r,o,i){"number"==typeof t?(this.id=t,this.Status=e,this.TotalLoad=n,this.Destination=r,this.AssignedDriverID=o,this.AssignedTruckID=i):(this.id=t.id,this.Status=t.Status,this.TotalLoad=t.TotalLoad,this.Destination=new google.maps.LatLng(t.Destination),this.AssignedDriverID=t.AssignedDriverID,this.AssignedTruckID=t.AssignedTruckID)}return t.prototype.placeNewOrder=function(e,n,r,o,i,a){new t(e,n,r,o,i,a),ht(this)},t.prototype.updateOrderData=function(t){t.hasOwnProperty("Status")&&(this.Status=t.Status),t.hasOwnProperty("TotalLoad")&&(this.TotalLoad=t.TotalLoad),t.hasOwnProperty("Destination")&&(this.Destination=t.Destination),t.hasOwnProperty("AssignedDriverID")&&(this.AssignedDriverID=t.AssignedDriverID),t.hasOwnProperty("AssignedTruckID")&&(this.AssignedTruckID=t.AssignedTruckID)},t.prototype.shipOrder=function(t,e){var n=this,r=t.find((function(t){return"idle"===t.Status&&t.Capacity>=n.TotalLoad})),o=e.find((function(t){return"available"===t.Status}));r.Status="inTransit",r.Load=this.TotalLoad,r.FinalDestination=new google.maps.LatLng(this.Destination),o.Status="onRoad",o.AssignedVehicleID=r.id,this.Status="shipped",this.AssignedTruckID=r.id,this.AssignedDriverID=o.id,pt(r),vt(o),ht(this)},t.prototype.destinationReachedUpdate=function(){this.Status="delivered"},t}();function wt(t){var e=new google.maps.Map(document.getElementById("map"),{center:lt,zoom:7});yt=new google.maps.Marker({position:t.CurrentLocation,map:e}),new google.maps.Marker({position:t.FinalDestination,map:e}),setInterval((function(){yt.setPosition(t.CurrentLocation),console.log("CURR ",t.CurrentLocation.lat())}),1e3)}var gt=Array.isArray,St=Object.getPrototypeOf,Et=Object.prototype,Ct=Object.keys;function Lt(t,e){return nt((function(n,r){var o=0;n.subscribe(W(r,(function(n){r.next(t.call(e,n,o++))})))}))}var xt=Array.isArray;var Dt=c((function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})),Tt=function(t){function n(){var e=t.call(this)||this;return e.closed=!1,e.currentObservers=null,e.observers=[],e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return e(n,t),n.prototype.lift=function(t){var e=new It(this,this);return e.operator=t,e},n.prototype._throwIfClosed=function(){if(this.closed)throw new Dt},n.prototype.next=function(t){var e=this;E((function(){var n,o;if(e._throwIfClosed(),!e.isStopped){e.currentObservers||(e.currentObservers=Array.from(e.observers));try{for(var i=r(e.currentObservers),a=i.next();!a.done;a=i.next())a.value.next(t)}catch(t){n={error:t}}finally{try{a&&!a.done&&(o=i.return)&&o.call(i)}finally{if(n)throw n.error}}}}))},n.prototype.error=function(t){var e=this;E((function(){if(e._throwIfClosed(),!e.isStopped){e.hasError=e.isStopped=!0,e.thrownError=t;for(var n=e.observers;n.length;)n.shift().error(t)}}))},n.prototype.complete=function(){var t=this;E((function(){if(t._throwIfClosed(),!t.isStopped){t.isStopped=!0;for(var e=t.observers;e.length;)e.shift().complete()}}))},n.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(n.prototype,"observed",{get:function(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0},enumerable:!1,configurable:!0}),n.prototype._trySubscribe=function(e){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,e)},n.prototype._subscribe=function(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)},n.prototype._innerSubscribe=function(t){var e=this,n=this,r=n.hasError,o=n.isStopped,i=n.observers;return r||o?f:(this.currentObservers=null,i.push(t),new d((function(){e.currentObservers=null,l(i,t)})))},n.prototype._checkFinalizedStatuses=function(t){var e=this,n=e.hasError,r=e.thrownError,o=e.isStopped;n?t.error(r):o&&t.complete()},n.prototype.asObservable=function(){var t=new P;return t.source=this,t},n.create=function(t,e){return new It(t,e)},n}(P),It=function(t){function n(e,n){var r=t.call(this)||this;return r.destination=e,r.source=n,r}return e(n,t),n.prototype.next=function(t){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===n||n.call(e,t)},n.prototype.error=function(t){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===n||n.call(e,t)},n.prototype.complete=function(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)},n.prototype._subscribe=function(t){var e,n;return null!==(n=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==n?n:f},n}(Tt),Ot=function(t){function n(e,n){return t.call(this)||this}return e(n,t),n.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},n}(d),kt={setInterval:function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var a=kt.delegate;return(null==a?void 0:a.setInterval)?a.setInterval.apply(a,i([t,e],o(n))):setInterval.apply(void 0,i([t,e],o(n)))},clearInterval:function(t){var e=kt.delegate;return((null==e?void 0:e.clearInterval)||clearInterval)(t)},delegate:void 0},At=function(t){function n(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r.pending=!1,r}return e(n,t),n.prototype.schedule=function(t,e){var n;if(void 0===e&&(e=0),this.closed)return this;this.state=t;var r=this.id,o=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(o,r,e)),this.pending=!0,this.delay=e,this.id=null!==(n=this.id)&&void 0!==n?n:this.requestAsyncId(o,this.id,e),this},n.prototype.requestAsyncId=function(t,e,n){return void 0===n&&(n=0),kt.setInterval(t.flush.bind(t,this),n)},n.prototype.recycleAsyncId=function(t,e,n){if(void 0===n&&(n=0),null!=n&&this.delay===n&&!1===this.pending)return e;null!=e&&kt.clearInterval(e)},n.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},n.prototype._execute=function(t,e){var n,r=!1;try{this.work(t)}catch(t){r=!0,n=t||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),n},n.prototype.unsubscribe=function(){if(!this.closed){var e=this.id,n=this.scheduler,r=n.actions;this.work=this.state=this.scheduler=null,this.pending=!1,l(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,t.prototype.unsubscribe.call(this)}},n}(Ot),_t={now:function(){return(_t.delegate||Date).now()},delegate:void 0},Pt=function(){function t(e,n){void 0===n&&(n=t.now),this.schedulerActionCtor=e,this.now=n}return t.prototype.schedule=function(t,e,n){return void 0===e&&(e=0),new this.schedulerActionCtor(this,t).schedule(n,e)},t.now=_t.now,t}(),Rt=new(function(t){function n(e,n){void 0===n&&(n=Pt.now);var r=t.call(this,e,n)||this;return r.actions=[],r._active=!1,r}return e(n,t),n.prototype.flush=function(t){var e=this.actions;if(this._active)e.push(t);else{var n;this._active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}},n}(Pt))(At),Nt=Rt;function Ft(t,e){return void 0===t&&(t=0),void 0===e&&(e=Rt),t<0&&(t=0),function(t,e,n){void 0===t&&(t=0),void 0===n&&(n=Nt);var r=-1;return null!=e&&(Q(e)?n=e:r=e),new P((function(e){var o,i=(o=t)instanceof Date&&!isNaN(o)?+t-n.now():t;i<0&&(i=0);var a=0;return n.schedule((function(){e.closed||(e.next(a++),0<=r?this.schedule(void 0,r):e.complete())}),i)}))}(t,t,e)}function Ut(t){return nt((function(e,n){K(t).subscribe(W(n,(function(){return n.complete()}),m)),!n.closed&&e.subscribe(n)}))}function jt(t,e,n){return void 0===n&&(n=1/0),u(e)?jt((function(n,r){return Lt((function(t,o){return e(n,t,r,o)}))(K(t(n,r)))}),n):("number"==typeof e&&(n=e),nt((function(e,r){return function(t,e,n,r,o,i,a,u){var c=[],s=0,l=0,d=!1,f=function(){!d||c.length||s||e.complete()},p=function(t){return s<r?h(t):c.push(t)},h=function(t){s++;var o=!1;K(n(t,l++)).subscribe(W(e,(function(t){e.next(t)}),(function(){o=!0}),void 0,(function(){if(o)try{s--;for(;c.length&&s<r;)t=void 0,t=c.shift(),h(t);f()}catch(t){e.error(t)}var t})))};return t.subscribe(W(e,p,(function(){d=!0,f()}))),function(){}}(e,r,t,n)})))}function Gt(){return void 0===(t=1)&&(t=1/0),jt(_,t);var t}function Mt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Gt()(at(t,$(t)))}function zt(t,e,n){var r=u(t)||e||n?{next:t,error:e,complete:n}:t;return r?nt((function(t,e){var n;null===(n=r.subscribe)||void 0===n||n.call(r);var o=!0;t.subscribe(W(e,(function(t){var n;null===(n=r.next)||void 0===n||n.call(r,t),e.next(t)}),(function(){var t;o=!1,null===(t=r.complete)||void 0===t||t.call(r),e.complete()}),(function(t){var n;o=!1,null===(n=r.error)||void 0===n||n.call(r,t),e.error(t)}),(function(){var t,e;o&&(null===(t=r.unsubscribe)||void 0===t||t.call(r)),null===(e=r.finalize)||void 0===e||e.call(r)})))})):_}function Vt(t){return nt((function(e,n){var r=!1,o=W(n,(function(){null==o||o.unsubscribe(),r=!0}),m);K(t).subscribe(o),e.subscribe(W(n,(function(t){return r&&n.next(t)})))}))}function Bt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return at(t,$(t))}function Kt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return Mt(e,Bt.apply(void 0,i([],o(t))))}}var Ht;!function(t){t[t.available=0]="available",t[t.onRoad=1]="onRoad",t[t.onBreak=2]="onBreak"}(Ht||(Ht={}));var Jt,Yt=function(){function t(t){this.id=t.id,this.FullName=t.FullName,this.PhoneNumber=t.PhoneNumber,this.Email=t.Email,this.DateOfBirth=t.DateOfBirth,this.Status=t.Status,this.AssignedVehicleID=t.AssignedVehicleID}return t.prototype.assignShipment=function(t){return e=this,n=void 0,o=function(){return function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(u){return function(c){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,r=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){a.label=u[1];break}if(6===u[0]&&a.label<o[1]){a.label=o[1],o=u;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(u);break}o[2]&&a.ops.pop(),a.trys.pop();continue}u=e.call(t,a)}catch(t){u=[6,t],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,c])}}}(this,(function(e){switch(e.label){case 0:return[4,fetch(st+t)];case 1:return e.sent(),[4,fetch(ct)];case 2:return e.sent(),[2]}}))},new((r=void 0)||(r=Promise))((function(t,i){function a(t){try{c(o.next(t))}catch(t){i(t)}}function u(t){try{c(o.throw(t))}catch(t){i(t)}}function c(e){var n;e.done?t(e.value):(n=e.value,n instanceof r?n:new r((function(t){t(n)}))).then(a,u)}c((o=o.apply(e,n||[])).next())}));var e,n,r,o},t.prototype.destinationReachedUpdate=function(){this.Status="available",this.AssignedVehicleID=""},t.prototype.updateDriverData=function(t){t.hasOwnProperty("id")&&(this.id=t.id),t.hasOwnProperty("FullName")&&(this.FullName=t.FullName),t.hasOwnProperty("DateOfBirth")&&(this.DateOfBirth=t.DateOfBirth),t.hasOwnProperty("Email")&&(this.Email=t.Email),t.hasOwnProperty("PhoneNumber")&&(this.PhoneNumber=t.PhoneNumber),t.hasOwnProperty("Status")&&(this.Status=t.Status)},t}();!function(t){t.idle="idle",t.inTransit="inTransit"}(Jt||(Jt={}));var Wt,qt=function(){function t(t){this.id=t.id,this.RegistrationExpiryDate=t.RegistrationExpiryDate,this.Model=t.Model,this.Capacity=t.Capacity,this.Load=t.Load,this.CurrentSpeed=t.CurrentSpeed,this.GasLevel=t.GasLevel,this.Status=t.Status,this.CurrentLocation=new google.maps.LatLng(t.CurrentLocation),this.FinalDestination=new google.maps.LatLng(t.FinalDestination)}return t.prototype.updateTruckData=function(t){t.hasOwnProperty("CurrentLocation")&&(this.CurrentLocation=t.CurrentLocation),t.hasOwnProperty("CurrentSpeed")&&(this.CurrentSpeed=t.CurrentSpeed),t.hasOwnProperty("GasLevel")&&(this.GasLevel=t.GasLevel),t.hasOwnProperty("Status")&&(this.Status=t.Status),t.hasOwnProperty("FinalDestination")&&(this.FinalDestination=t.FinalDestination)},t.prototype.trackTruckLocation=function(t,e){return n=this,r=void 0,i=function(){var t;return function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(u){return function(c){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,r=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){a.label=u[1];break}if(6===u[0]&&a.label<o[1]){a.label=o[1],o=u;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(u);break}o[2]&&a.ops.pop(),a.trys.pop();continue}u=e.call(t,a)}catch(t){u=[6,t],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,c])}}}(this,(function(n){return t=new google.maps.Map(e,{center:this.CurrentLocation,zoom:4}),new google.maps.Marker({position:this.CurrentLocation,map:t}),[2]}))},new((o=void 0)||(o=Promise))((function(t,e){function a(t){try{c(i.next(t))}catch(t){e(t)}}function u(t){try{c(i.throw(t))}catch(t){e(t)}}function c(e){var n;e.done?t(e.value):(n=e.value,n instanceof o?n:new o((function(t){t(n)}))).then(a,u)}c((i=i.apply(n,r||[])).next())}));var n,r,o,i},t.prototype.destinationReachedUpdate=function(){this.Status="idle",this.Load=0,this.CurrentLocation=new google.maps.LatLng(lt),this.FinalDestination=new google.maps.LatLng(lt)},t}();function Qt(t,e){if(t.AssignedTruckID&&t.AssignedDriverID){var n,r,a=ft(t.AssignedTruckID),u=(s=t.AssignedDriverID,at(fetch(ct+s).then((function(t){if(t.ok)return t.json();throw new Error("Driver not found.")})).catch((function(t){return console.error(t)}))));if(!a)throw new Error("Failed to load truck.");if(!u)throw new Error("Failed to load driver.");(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n,r=Z(t),a=function(t){if(1===t.length){var e=t[0];if(gt(e))return{args:e,keys:null};if((r=e)&&"object"==typeof r&&St(r)===Et){var n=Ct(e);return{args:n.map((function(t){return e[t]})),keys:n}}}var r;return{args:t,keys:null}}(t),u=a.args,c=a.keys,s=new P((function(t){var e=u.length;if(e)for(var n=new Array(e),r=e,o=e,i=function(e){var i=!1;K(u[e]).subscribe(W(t,(function(t){i||(i=!0,o--),n[e]=t}),(function(){return r--}),void 0,(function(){r&&i||(o||t.next(c?function(t,e){return t.reduce((function(t,n,r){return t[n]=e[r],t}),{})}(c,n):n),t.complete())})))},a=0;a<e;a++)i(a);else t.complete()}));return r?s.pipe((n=r,Lt((function(t){return function(t,e){return xt(e)?t.apply(void 0,i([],o(e))):t(e)}(n,t)})))):s})([a,u]).pipe((c=function(o){var i,a,u,c,s,l,d=o[0],f=o[1];return n=new qt(d),r=new Yt(f),Wt=new google.maps.Marker({position:n.CurrentLocation,map:e,title:"TRUCK "+n.id+"\nSpeed: "+n.CurrentSpeed.toString()+"\nGas level: "+n.GasLevel}),at((u=n,new P,new P,new P,l=new Tt,c=Ft(2e3).pipe(Ut(l),function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=$(t);return nt((function(e,r){(n?Mt(t,e,n):Mt(t,e)).subscribe(r)}))}(u.GasLevel),function(t,e){return nt(function(t,e,n,r,o){return function(r,o){var i=n,a=e,u=0;r.subscribe(W(o,(function(e){var n=u++;a=i?t(a,e,n):(i=!0,e),o.next(a)}),void 0))}}(t,e,arguments.length>=2))}((function(t){return t-1}),u.GasLevel),zt((function(t){u.GasLevel=t}))),s=Ft(2e3).pipe(Ut(l),Vt(c),Lt((function(t){return Math.floor(100*Math.random())})),zt((function(t){u.CurrentSpeed=t})),Kt(0)),tt([s,c]).pipe(Ut(l),(a=function(t){return t[0],t[1]>0},nt((function(t,e){var n=0;t.subscribe(W(e,(function(t){return a.call(undefined,t,n++)&&e.next(t)})))}))),Vt(c),Vt(s),Lt((function(t){var e=t[0],n=t[1],r=1e3*e/3600,o=r*Math.pow(n,2)/(google.maps.geometry.spherical.computeDistanceBetween(u.CurrentLocation,u.FinalDestination)||1)*(u.FinalDestination.lat()-u.CurrentLocation.lat()),i=r*Math.pow(n,2)/(google.maps.geometry.spherical.computeDistanceBetween(u.CurrentLocation,u.FinalDestination)||1)*(u.FinalDestination.lng()-u.CurrentLocation.lng()),a=u.CurrentLocation,c=new google.maps.LatLng(a.lat()+o,a.lng()+i);return a=c,Math.abs(a.lat()-u.FinalDestination.lat())<.01&&Math.abs(a.lng()-u.FinalDestination.lng())<.01&&(l.next(),console.log("final: "+a),console.log(u.id+" destination reached.")),a}))))).pipe(Lt((function(t){return{truck:n,driver:r,location:t}})),(i=function(){console.log("trackTruckLocation completed."),n.destinationReachedUpdate(),r.destinationReachedUpdate(),t.destinationReachedUpdate(),pt(n),vt(r),ht(t)},nt((function(t,e){try{t.subscribe(e)}finally{e.add(i)}}))))},nt((function(t,e){var n=null,r=!1,o=function(){return r&&!n&&e.complete()};t.subscribe(W(e,(function(t){null==n||n.unsubscribe();0;K(c(t)).subscribe(n=W(e,(function(t){return e.next(t)}),(function(){n=null,o()})))}),(function(){r=!0,o()})))})))).subscribe((function(t){var e=t.truck,n=(t.driver,t.location);e.CurrentLocation=n,console.log("Gas level: ",e.GasLevel),console.log("Speed: ",e.CurrentSpeed),console.log("Location: "+e.CurrentLocation),Wt.setPosition(n),Wt.setTitle("TRUCK "+e.id+"\nSpeed: "+e.CurrentSpeed.toString()+"\nGas level: "+e.GasLevel)}))}var c,s}function Xt(t,e){var n=this,r=document.createElement("div");r.classList.add("truck-div"),e.appendChild(r);var o=document.createElement("label");o.classList.add("label"),o.textContent=t.id,r.appendChild(o);var i=document.createElement("label");i.classList.add("label"),i.textContent=t.Model,r.appendChild(i);var a=document.createElement("label");a.classList.add("label"),a.textContent="CURRENT LOCATION: "+t.CurrentLocation.toString(),r.appendChild(a);var u=document.createElement("label");u.classList.add("label"),u.textContent="DESTINATION: "+t.FinalDestination.toString(),r.appendChild(u);var c=document.createElement("label");c.classList.add("label"),c.textContent="CURRENT SPEED: "+t.CurrentSpeed.toString()+"km/s",r.appendChild(c);var s=document.createElement("label");if(s.classList.add("label"),s.textContent="GAS LEVEL: "+t.GasLevel.toString()+"%",r.appendChild(s),"inTransit"==t.Status){var l=document.createElement("input");l.type="button",l.value="TRACK LOCATION",r.appendChild(l),l.addEventListener("click",(function(e){return r=n,o=void 0,a=function(){return function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(u){return function(c){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,r=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){a.label=u[1];break}if(6===u[0]&&a.label<o[1]){a.label=o[1],o=u;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(u);break}o[2]&&a.ops.pop(),a.trys.pop();continue}u=e.call(t,a)}catch(t){u=[6,t],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,c])}}}(this,(function(e){return wt(new qt(t)),[2]}))},new((i=void 0)||(i=Promise))((function(t,e){function n(t){try{c(a.next(t))}catch(t){e(t)}}function u(t){try{c(a.throw(t))}catch(t){e(t)}}function c(e){var r;e.done?t(e.value):(r=e.value,r instanceof i?r:new i((function(t){t(r)}))).then(n,u)}c((a=a.apply(r,o||[])).next())}));var r,o,i,a}))}console.log("div: ",r)}function Zt(t,e,n,r){var o=document.createElement("div");o.classList.add("order-div"),e.appendChild(o);var i=document.createElement("label");i.classList.add("label"),i.textContent="ORDER ID: "+t.id.toString(),o.appendChild(i);var a=document.createElement("label");a.classList.add("label"),a.textContent="STATUS: "+t.Status.toUpperCase(),o.appendChild(a);var u=document.createElement("label");u.classList.add("label"),u.textContent="TOTAL LOAD: "+t.TotalLoad.toString()+"t",o.appendChild(u);var c=document.createElement("label");if(c.classList.add("label"),c.textContent="DESTINATION: "+t.Destination.toString(),o.appendChild(c),"shipped"===t.Status){var s=document.createElement("input");s.type="button",s.value="TRACK ORDER",o.appendChild(s),s.addEventListener("click",(function(e){ft(t.AssignedTruckID).subscribe((function(t){wt(new qt(t))}))}))}else if("pending"===t.Status){var l=document.createElement("input");l.type="button",l.value="SHIP ORDER",l.id="shipButtonID",o.appendChild(l),l.addEventListener("click",(function(e){!function(t,e,n){console.log("ORDER: ",t);var r=e.find((function(e){return"idle"===e.Status&&e.Capacity>=t.TotalLoad})),o=n.find((function(t){return"available"===t.Status}));r.Status="inTransit",r.Load=t.TotalLoad,r.FinalDestination=new google.maps.LatLng(t.Destination),o.Status="onRoad",o.AssignedVehicleID=r.id,t.Status="shipped",t.AssignedTruckID=r.id,t.AssignedDriverID=o.id,console.log("ORDER IS: ",t),console.log("TRUCK IS: ",r),console.log("DRIVER IS: ",o),pt(r),vt(o),ht(t)}(t,n,r)}))}}function $t(t,e){var n=document.createElement("div");n.classList.add("driver-div"),e.appendChild(n);var r=document.createElement("label");r.classList.add("label"),r.textContent="DRIVER ID: "+t.id.toString(),n.appendChild(r);var o=document.createElement("label");o.classList.add("label"),o.textContent="FULL NAME: "+t.FullName,n.appendChild(o);var i=document.createElement("label");i.classList.add("label"),i.textContent="EMAIL: "+t.Email,n.appendChild(i);var a=document.createElement("label");if(a.classList.add("label"),a.textContent="PHONE NUMBER: "+t.PhoneNumber,n.appendChild(a),"onRoad"===t.Status){var u=document.createElement("label");u.classList.add("label"),u.textContent="ASSIGNED TRUCK: "+t.AssignedVehicleID,n.appendChild(u);var c=document.createElement("input");c.type="button",c.value="TRACK DRIVER",n.appendChild(c),c.addEventListener("click",(function(e){ft(t.AssignedVehicleID).subscribe((function(t){wt(new qt(t))}))}))}}var te,ee=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function u(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}c((r=r.apply(t,e||[])).next())}))},ne=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(u){return function(c){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,r=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){a.label=u[1];break}if(6===u[0]&&a.label<o[1]){a.label=o[1],o=u;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(u);break}o[2]&&a.ops.pop(),a.trys.pop();continue}u=e.call(t,a)}catch(t){u=[6,t],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,c])}}},re=document.createElement("div"),oe=document.createElement("div"),ie=document.createElement("div"),ae=document.createElement("div"),ue=document.createElement("div"),ce=document.createElement("div");ce.id="map",function(t,e,n,r,o,i){var a=document.createElement("div");a.classList.add("main-div"),a.id="main",document.body.appendChild(a),t.classList.add("menu-div"),a.appendChild(t);var u=document.createElement("h2");u.classList.add("menu-h"),u.textContent="MENU",u.style.marginBottom="40px",t.appendChild(u),e.classList.add("trucks-div"),e.textContent="TRUCKS",t.appendChild(e),n.classList.add("drivers-div"),n.textContent="DRIVERS",t.appendChild(n),r.classList.add("orders-div"),r.textContent="ORDERS",t.appendChild(r),o.classList.add("content-div"),a.appendChild(o);var c=document.createElement("h1");c.textContent="Welcome to order tracking. Please select entity.",o.appendChild(c),i.classList.add("map-div"),i.id="map",a.appendChild(i)}(re,oe,ie,ae,ue,ce),function(){ee(this,void 0,void 0,(function(){return ne(this,(function(t){return te=function(t){var e=new google.maps.Map(t,{center:lt,zoom:7});return yt=new google.maps.Marker({position:lt,map:e}),e}(ce),[2]}))}))}();var se=[],le=[],de=[];tt([at(fetch(ut).then((function(t){if(t.ok)return t.json();throw new Error("Vehicles fetch failed.")})).catch((function(t){return console.log(t)}))),at(fetch(st).then((function(t){if(t.ok)return t.json();throw new Error("Orders fetch failed.")})).catch((function(t){return console.log(t)}))),at(fetch(ct).then((function(t){if(t.ok)return t.json();throw new Error("Drivers fetch failed.")})).catch((function(t){return console.log(t)})))]).subscribe((function(t){var e=t[0],n=t[1],r=t[2];se=e,de=r,(le=n).forEach((function(t){var e=new mt(t);"shipped"===t.Status?Qt(e,te):t.Status})),oe.addEventListener("click",(function(t){return ee(void 0,void 0,void 0,(function(){return ne(this,(function(e){return t.preventDefault(),bt(t,"trucks-div",ue),function(t,e){var n=document.createElement("div");n.classList.add("container-div"),e.appendChild(n);for(var r=0,o=t;r<o.length;r++){var i=o[r];Xt(new qt(i),n)}}(se,ue),[2]}))}))})),ie.addEventListener("click",(function(t){t.preventDefault(),bt(t,"drivers-div",ue),function(t,e){var n=document.createElement("div");n.classList.add("container-div"),e.appendChild(n);for(var r=0,o=t;r<o.length;r++){var i=o[r];$t(new Yt(i),n)}}(de,ue)})),ae.addEventListener("click",(function(t){return ee(void 0,void 0,void 0,(function(){return ne(this,(function(e){return t.preventDefault(),bt(t,"orders-div",ue),function(t,e,n,r){var o=document.createElement("div");o.classList.add("newOrder-div"),o.textContent="NEW ORDER",e.appendChild(o);var i=document.createElement("div");o.appendChild(i);var a=document.createElement("label");a.classList.add("label"),a.textContent="TOTAL LOAD:",i.appendChild(a);var u=document.createElement("input");u.type="number",u.classList.add("input"),i.appendChild(u);var c=document.createElement("div");c.classList.add("newOrderDestination-div"),o.appendChild(c);var s=document.createElement("label");s.classList.add("label"),s.textContent="ENTER DESTINATION LATITUDE AND LONGITUDE:",c.appendChild(s);var l=document.createElement("input");l.type="text",l.classList.add("input"),c.appendChild(l);var d=document.createElement("input");d.type="text",d.classList.add("input"),c.appendChild(d);var f=document.createElement("input");f.type="button",f.classList.add("newOrder-button"),f.value="PLACE NEW ORDER",o.appendChild(f);var p=document.createElement("div");p.classList.add("container-div"),e.appendChild(p);for(var h=0,v=t;h<v.length;h++){var b=v[h],y=new mt(b);"pending"===b.Status?Zt(y,p,n,r):Zt(y,p)}f.addEventListener("click",(function(e){var n=new mt(t.length,"pending",parseInt(u.value),new google.maps.LatLng(parseFloat(l.value),parseFloat(d.value)),"","");t.push(n),function(t){fetch(st,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(t){return t.json()})).catch((function(t){return console.error(t)})).then((function(t){return console.log(t)}))}(n)}))}(le,ue,se,de),[2]}))}))}))}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYnVuZGxlLmpzIiwibWFwcGluZ3MiOiJtQkFnQkEsSUFBSUEsRUFBZ0IsU0FBU0MsRUFBR0MsR0FJOUIsT0FIQUYsRUFBZ0JHLE9BQU9DLGdCQUNsQixDQUFFQyxVQUFXLGNBQWdCQyxPQUFTLFNBQVVMLEVBQUdDLEdBQUtELEVBQUVJLFVBQVlILENBQUcsR0FDMUUsU0FBVUQsRUFBR0MsR0FBSyxJQUFLLElBQUlLLEtBQUtMLEVBQU9DLE9BQU9LLFVBQVVDLGVBQWVDLEtBQUtSLEVBQUdLLEtBQUlOLEVBQUVNLEdBQUtMLEVBQUVLLEdBQUksRUFDN0ZQLEVBQWNDLEVBQUdDLEVBQzFCLEVBRU8sU0FBU1MsRUFBVVYsRUFBR0MsR0FDM0IsR0FBaUIsbUJBQU5BLEdBQTBCLE9BQU5BLEVBQzNCLE1BQU0sSUFBSVUsVUFBVSx1QkFBeUJDLE9BQU9YLEdBQUssaUNBRTdELFNBQVNZLElBQU9DLEtBQUtDLFlBQWNmLENBQUcsQ0FEdENELEVBQWNDLEVBQUdDLEdBRWpCRCxFQUFFTyxVQUFrQixPQUFOTixFQUFhQyxPQUFPYyxPQUFPZixJQUFNWSxFQUFHTixVQUFZTixFQUFFTSxVQUFXLElBQUlNLEVBQ2pGLENBK0ZPLFNBQVNJLEVBQVlDLEVBQVNDLEdBQ25DLElBQXNHQyxFQUFHQyxFQUFHQyxFQUFHQyxFQUEzR0MsRUFBSSxDQUFFQyxNQUFPLEVBQUdDLEtBQU0sV0FBYSxHQUFXLEVBQVBKLEVBQUUsR0FBUSxNQUFNQSxFQUFFLEdBQUksT0FBT0EsRUFBRSxFQUFJLEVBQUdLLEtBQU0sR0FBSUMsSUFBSyxJQUNoRyxPQUFPTCxFQUFJLENBQUVNLEtBQU1DLEVBQUssR0FBSSxNQUFTQSxFQUFLLEdBQUksT0FBVUEsRUFBSyxJQUF3QixtQkFBWEMsU0FBMEJSLEVBQUVRLE9BQU9DLFVBQVksV0FBYSxPQUFPbEIsSUFBTSxHQUFJUyxFQUN2SixTQUFTTyxFQUFLRyxHQUFLLE9BQU8sU0FBVUMsR0FBSyxPQUN6QyxTQUFjQyxHQUNWLEdBQUlmLEVBQUcsTUFBTSxJQUFJVCxVQUFVLG1DQUMzQixLQUFPWSxJQUFNQSxFQUFJLEVBQUdZLEVBQUcsS0FBT1gsRUFBSSxJQUFLQSxPQUNuQyxHQUFJSixFQUFJLEVBQUdDLElBQU1DLEVBQVksRUFBUmEsRUFBRyxHQUFTZCxFQUFVLE9BQUljLEVBQUcsR0FBS2QsRUFBUyxTQUFPQyxFQUFJRCxFQUFVLFNBQU1DLEVBQUViLEtBQUtZLEdBQUksR0FBS0EsRUFBRVEsU0FBV1AsRUFBSUEsRUFBRWIsS0FBS1ksRUFBR2MsRUFBRyxLQUFLQyxLQUFNLE9BQU9kLEVBRTNKLE9BRElELEVBQUksRUFBR0MsSUFBR2EsRUFBSyxDQUFTLEVBQVJBLEVBQUcsR0FBUWIsRUFBRWUsUUFDekJGLEVBQUcsSUFDUCxLQUFLLEVBQUcsS0FBSyxFQUFHYixFQUFJYSxFQUFJLE1BQ3hCLEtBQUssRUFBYyxPQUFYWCxFQUFFQyxRQUFnQixDQUFFWSxNQUFPRixFQUFHLEdBQUlDLE1BQU0sR0FDaEQsS0FBSyxFQUFHWixFQUFFQyxRQUFTSixFQUFJYyxFQUFHLEdBQUlBLEVBQUssQ0FBQyxHQUFJLFNBQ3hDLEtBQUssRUFBR0EsRUFBS1gsRUFBRUksSUFBSVUsTUFBT2QsRUFBRUcsS0FBS1csTUFBTyxTQUN4QyxRQUNJLE1BQWtCaEIsR0FBWkEsRUFBSUUsRUFBRUcsTUFBWVksT0FBUyxHQUFLakIsRUFBRUEsRUFBRWlCLE9BQVMsS0FBa0IsSUFBVkosRUFBRyxJQUFzQixJQUFWQSxFQUFHLElBQVcsQ0FBRVgsRUFBSSxFQUFHLFFBQVUsQ0FDM0csR0FBYyxJQUFWVyxFQUFHLE1BQWNiLEdBQU1hLEVBQUcsR0FBS2IsRUFBRSxJQUFNYSxFQUFHLEdBQUtiLEVBQUUsSUFBTSxDQUFFRSxFQUFFQyxNQUFRVSxFQUFHLEdBQUksS0FBTyxDQUNyRixHQUFjLElBQVZBLEVBQUcsSUFBWVgsRUFBRUMsTUFBUUgsRUFBRSxHQUFJLENBQUVFLEVBQUVDLE1BQVFILEVBQUUsR0FBSUEsRUFBSWEsRUFBSSxLQUFPLENBQ3BFLEdBQUliLEdBQUtFLEVBQUVDLE1BQVFILEVBQUUsR0FBSSxDQUFFRSxFQUFFQyxNQUFRSCxFQUFFLEdBQUlFLEVBQUVJLElBQUlZLEtBQUtMLEdBQUssS0FBTyxDQUM5RGIsRUFBRSxJQUFJRSxFQUFFSSxJQUFJVSxNQUNoQmQsRUFBRUcsS0FBS1csTUFBTyxTQUV0QkgsRUFBS2hCLEVBQUtWLEtBQUtTLEVBQVNNLEVBQzVCLENBQUUsTUFBT2lCLEdBQUtOLEVBQUssQ0FBQyxFQUFHTSxHQUFJcEIsRUFBSSxDQUFHLENBQUUsUUFBVUQsRUFBSUUsRUFBSSxDQUFHLENBQ3pELEdBQVksRUFBUmEsRUFBRyxHQUFRLE1BQU1BLEVBQUcsR0FBSSxNQUFPLENBQUVFLE1BQU9GLEVBQUcsR0FBS0EsRUFBRyxRQUFLLEVBQVFDLE1BQU0sRUFDOUUsQ0F0QmdETSxDQUFLLENBQUNULEVBQUdDLEdBQUssQ0FBRyxDQXVCbkUsQ0FrQk8sU0FBU1MsRUFBU0MsR0FDdkIsSUFBSUMsRUFBc0IsbUJBQVhkLFFBQXlCQSxPQUFPQyxTQUFVYyxFQUFJRCxHQUFLRCxFQUFFQyxHQUFJRSxFQUFJLEVBQzVFLEdBQUlELEVBQUcsT0FBT0EsRUFBRXJDLEtBQUttQyxHQUNyQixHQUFJQSxHQUF5QixpQkFBYkEsRUFBRUwsT0FBcUIsTUFBTyxDQUMxQ1YsS0FBTSxXQUVGLE9BREllLEdBQUtHLEdBQUtILEVBQUVMLFNBQVFLLE9BQUksR0FDckIsQ0FBRVAsTUFBT08sR0FBS0EsRUFBRUcsS0FBTVgsTUFBT1EsRUFDeEMsR0FFSixNQUFNLElBQUlqQyxVQUFVa0MsRUFBSSwwQkFBNEIsa0NBQ3RELENBRU8sU0FBU0csRUFBT0osRUFBR1gsR0FDeEIsSUFBSWEsRUFBc0IsbUJBQVhmLFFBQXlCYSxFQUFFYixPQUFPQyxVQUNqRCxJQUFLYyxFQUFHLE9BQU9GLEVBQ2YsSUFBbUJLLEVBQVlSLEVBQTNCTSxFQUFJRCxFQUFFckMsS0FBS21DLEdBQU9NLEVBQUssR0FDM0IsSUFDSSxXQUFjLElBQU5qQixHQUFnQkEsS0FBTSxNQUFRZ0IsRUFBSUYsRUFBRWxCLFFBQVFPLE1BQU1jLEVBQUdWLEtBQUtTLEVBQUVaLE1BQ3hFLENBQ0EsTUFBT2MsR0FBU1YsRUFBSSxDQUFFVSxNQUFPQSxFQUFTLENBQ3RDLFFBQ0ksSUFDUUYsSUFBTUEsRUFBRWIsT0FBU1UsRUFBSUMsRUFBVSxTQUFJRCxFQUFFckMsS0FBS3NDLEVBQ2xELENBQ0EsUUFBVSxHQUFJTixFQUFHLE1BQU1BLEVBQUVVLEtBQU8sQ0FDcEMsQ0FDQSxPQUFPRCxDQUNULENBa0JPLFNBQVNFLEVBQWNDLEVBQUlDLEVBQU1DLEdBQ3RDLEdBQUlBLEdBQTZCLElBQXJCQyxVQUFVakIsT0FBYyxJQUFLLElBQTRCVyxFQUF4QkgsRUFBSSxFQUFHVSxFQUFJSCxFQUFLZixPQUFZUSxFQUFJVSxFQUFHVixLQUN4RUcsR0FBUUgsS0FBS08sSUFDUkosSUFBSUEsRUFBSzdDLE1BQU1FLFVBQVVtRCxNQUFNakQsS0FBSzZDLEVBQU0sRUFBR1AsSUFDbERHLEVBQUdILEdBQUtPLEVBQUtQLElBR3JCLE9BQU9NLEVBQUdNLE9BQU9ULEdBQU03QyxNQUFNRSxVQUFVbUQsTUFBTWpELEtBQUs2QyxHQUNwRCxDQUVPLFNBQVNNLEVBQVExQixHQUN0QixPQUFPcEIsZ0JBQWdCOEMsR0FBVzlDLEtBQUtvQixFQUFJQSxFQUFHcEIsTUFBUSxJQUFJOEMsRUFBUTFCLEVBQ3BFLENDak9PLFNBQVMyQixFQUFXeEIsR0FDdkIsTUFBd0IsbUJBQVZBLENBQ2xCLENDRk8sU0FBU3lCLEVBQWlCQyxHQUM3QixJQUlJQyxFQUFXRCxHQUpGLFNBQVVFLEdBQ25CQyxNQUFNekQsS0FBS3dELEdBQ1hBLEVBQVNFLE9BQVEsSUFBSUQsT0FBUUMsS0FDakMsSUFJQSxPQUZBSCxFQUFTekQsVUFBWUwsT0FBT2MsT0FBT2tELE1BQU0zRCxXQUN6Q3lELEVBQVN6RCxVQUFVUSxZQUFjaUQsRUFDMUJBLENBQ1gsQ0YrSTZCOUQsT0FBT2MsT0EwR1hkLE9BQU9jLE9BeURrQixtQkFBcEJvRCxpQkFBaUNBLGdCRzFUeEQsSUFBSUMsRUFBc0JQLEdBQWlCLFNBQVVRLEdBQ3hELE9BQU8sU0FBaUNDLEdBQ3BDRCxFQUFPeEQsTUFDUEEsS0FBSzBELFFBQVVELEVBQ1RBLEVBQU9oQyxPQUFTLDRDQUE4Q2dDLEVBQU9FLEtBQUksU0FBVUMsRUFBSzNCLEdBQUssT0FBT0EsRUFBSSxFQUFJLEtBQU8yQixFQUFJQyxVQUFZLElBQUdDLEtBQUssUUFDM0ksR0FDTjlELEtBQUsrRCxLQUFPLHNCQUNaL0QsS0FBS3lELE9BQVNBLENBQ2xCLENBQ0osSUNWTyxTQUFTTyxFQUFVQyxFQUFLQyxHQUMzQixHQUFJRCxFQUFLLENBQ0wsSUFBSUUsRUFBUUYsRUFBSUcsUUFBUUYsR0FDeEIsR0FBS0MsR0FBU0YsRUFBSUksT0FBT0YsRUFBTyxFQUNwQyxDQUNKLENDREEsSUFBSUcsRUFBZ0IsV0FDaEIsU0FBU0EsRUFBYUMsR0FDbEJ2RSxLQUFLdUUsZ0JBQWtCQSxFQUN2QnZFLEtBQUt3RSxRQUFTLEVBQ2R4RSxLQUFLeUUsV0FBYSxLQUNsQnpFLEtBQUswRSxZQUFjLElBQ3ZCLENBb0hBLE9BbkhBSixFQUFhN0UsVUFBVWtGLFlBQWMsV0FDakMsSUFBSUMsRUFBS0MsRUFBSUMsRUFBS0MsRUFDZHRCLEVBQ0osSUFBS3pELEtBQUt3RSxPQUFRLENBQ2R4RSxLQUFLd0UsUUFBUyxFQUNkLElBQUlDLEVBQWF6RSxLQUFLeUUsV0FDdEIsR0FBSUEsRUFFQSxHQURBekUsS0FBS3lFLFdBQWEsS0FDZGxGLE1BQU15RixRQUFRUCxHQUNkLElBQ0ksSUFBSyxJQUFJUSxFQUFlcEQsRUFBUzRDLEdBQWFTLEVBQWlCRCxFQUFhbEUsUUFBU21FLEVBQWU1RCxLQUFNNEQsRUFBaUJELEVBQWFsRSxPQUNySG1FLEVBQWUzRCxNQUNyQjRELE9BQU9uRixLQUV4QixDQUNBLE1BQU9vRixHQUFTUixFQUFNLENBQUV2QyxNQUFPK0MsRUFBUyxDQUN4QyxRQUNJLElBQ1FGLElBQW1CQSxFQUFlNUQsT0FBU3VELEVBQUtJLEVBQWFJLFNBQVNSLEVBQUdsRixLQUFLc0YsRUFDdEYsQ0FDQSxRQUFVLEdBQUlMLEVBQUssTUFBTUEsRUFBSXZDLEtBQU8sQ0FDeEMsTUFHQW9DLEVBQVdVLE9BQU9uRixNQUcxQixJQUFJc0YsRUFBbUJ0RixLQUFLdUUsZ0JBQzVCLEdBQUl4QixFQUFXdUMsR0FDWCxJQUNJQSxHQUNKLENBQ0EsTUFBTzNELEdBQ0g4QixFQUFTOUIsYUFBYTRCLEVBQXNCNUIsRUFBRThCLE9BQVMsQ0FBQzlCLEVBQzVELENBRUosSUFBSStDLEVBQWMxRSxLQUFLMEUsWUFDdkIsR0FBSUEsRUFBYSxDQUNiMUUsS0FBSzBFLFlBQWMsS0FDbkIsSUFDSSxJQUFLLElBQUlhLEVBQWdCMUQsRUFBUzZDLEdBQWNjLEVBQWtCRCxFQUFjeEUsUUFBU3lFLEVBQWdCbEUsS0FBTWtFLEVBQWtCRCxFQUFjeEUsT0FBUSxDQUNuSixJQUFJMEUsRUFBWUQsRUFBZ0JqRSxNQUNoQyxJQUNJbUUsRUFBY0QsRUFDbEIsQ0FDQSxNQUFPN0IsR0FDSEgsRUFBU0EsUUFBdUNBLEVBQVMsR0FDckRHLGFBQWVMLEVBQ2ZFLEVBQVNuQixFQUFjQSxFQUFjLEdBQUlKLEVBQU91QixJQUFVdkIsRUFBTzBCLEVBQUlILFNBR3JFQSxFQUFPL0IsS0FBS2tDLEVBRXBCLENBQ0osQ0FDSixDQUNBLE1BQU8rQixHQUFTYixFQUFNLENBQUV6QyxNQUFPc0QsRUFBUyxDQUN4QyxRQUNJLElBQ1FILElBQW9CQSxFQUFnQmxFLE9BQVN5RCxFQUFLUSxFQUFjRixTQUFTTixFQUFHcEYsS0FBSzRGLEVBQ3pGLENBQ0EsUUFBVSxHQUFJVCxFQUFLLE1BQU1BLEVBQUl6QyxLQUFPLENBQ3hDLENBQ0osQ0FDQSxHQUFJb0IsRUFDQSxNQUFNLElBQUlGLEVBQW9CRSxFQUV0QyxDQUNKLEVBQ0FhLEVBQWE3RSxVQUFVbUcsSUFBTSxTQUFVQyxHQUNuQyxJQUFJaEIsRUFDSixHQUFJZ0IsR0FBWUEsSUFBYTdGLEtBQ3pCLEdBQUlBLEtBQUt3RSxPQUNMa0IsRUFBY0csT0FFYixDQUNELEdBQUlBLGFBQW9CdkIsRUFBYyxDQUNsQyxHQUFJdUIsRUFBU3JCLFFBQVVxQixFQUFTQyxXQUFXOUYsTUFDdkMsT0FFSjZGLEVBQVNFLFdBQVcvRixLQUN4QixFQUNDQSxLQUFLMEUsWUFBMEMsUUFBM0JHLEVBQUs3RSxLQUFLMEUsbUJBQWdDLElBQVBHLEVBQWdCQSxFQUFLLElBQUluRCxLQUFLbUUsRUFDMUYsQ0FFUixFQUNBdkIsRUFBYTdFLFVBQVVxRyxXQUFhLFNBQVVFLEdBQzFDLElBQUl2QixFQUFhekUsS0FBS3lFLFdBQ3RCLE9BQU9BLElBQWV1QixHQUFXekcsTUFBTXlGLFFBQVFQLElBQWVBLEVBQVd3QixTQUFTRCxFQUN0RixFQUNBMUIsRUFBYTdFLFVBQVVzRyxXQUFhLFNBQVVDLEdBQzFDLElBQUl2QixFQUFhekUsS0FBS3lFLFdBQ3RCekUsS0FBS3lFLFdBQWFsRixNQUFNeUYsUUFBUVAsSUFBZUEsRUFBVy9DLEtBQUtzRSxHQUFTdkIsR0FBY0EsRUFBYSxDQUFDQSxFQUFZdUIsR0FBVUEsQ0FDOUgsRUFDQTFCLEVBQWE3RSxVQUFVeUcsY0FBZ0IsU0FBVUYsR0FDN0MsSUFBSXZCLEVBQWF6RSxLQUFLeUUsV0FDbEJBLElBQWV1QixFQUNmaEcsS0FBS3lFLFdBQWEsS0FFYmxGLE1BQU15RixRQUFRUCxJQUNuQlQsRUFBVVMsRUFBWXVCLEVBRTlCLEVBQ0ExQixFQUFhN0UsVUFBVTBGLE9BQVMsU0FBVVUsR0FDdEMsSUFBSW5CLEVBQWMxRSxLQUFLMEUsWUFDdkJBLEdBQWVWLEVBQVVVLEVBQWFtQixHQUNsQ0EsYUFBb0J2QixHQUNwQnVCLEVBQVNLLGNBQWNsRyxLQUUvQixFQUNBc0UsRUFBYTZCLFFBQ0xDLEVBQVEsSUFBSTlCLEdBQ1ZFLFFBQVMsRUFDUjRCLEdBRUo5QixFQUxjLElBQ2I4QixDQUtaLENBM0htQixHQTZIUkMsRUFBcUIvQixFQUFhNkIsTUFDdEMsU0FBU0csRUFBZS9FLEdBQzNCLE9BQVFBLGFBQWlCK0MsR0FDcEIvQyxHQUFTLFdBQVlBLEdBQVN3QixFQUFXeEIsRUFBTTRELFNBQVdwQyxFQUFXeEIsRUFBTXFFLE1BQVE3QyxFQUFXeEIsRUFBTW9ELFlBQzdHLENBQ0EsU0FBU2UsRUFBY0QsR0FDZjFDLEVBQVcwQyxHQUNYQSxJQUdBQSxFQUFVZCxhQUVsQixDQzdJTyxJQUFJNEIsRUFBUyxDQUNoQkMsaUJBQWtCLEtBQ2xCQyxzQkFBdUIsS0FDdkJDLGFBQVNDLEVBQ1RDLHVDQUF1QyxFQUN2Q0MsMEJBQTBCLEdDSm5CQyxFQUFrQixDQUN6QkMsV0FBWSxTQUFVQyxFQUFTQyxHQUUzQixJQURBLElBQUlDLEVBQU8sR0FDRkMsRUFBSyxFQUFHQSxFQUFLekUsVUFBVWpCLE9BQVEwRixJQUNwQ0QsRUFBS0MsRUFBSyxHQUFLekUsVUFBVXlFLEdBRTdCLElBQUlDLEVBQVdOLEVBQWdCTSxTQUMvQixPQUFJQSxhQUEyQyxFQUFTQSxFQUFTTCxZQUN0REssRUFBU0wsV0FBV00sTUFBTUQsRUFBVTlFLEVBQWMsQ0FBQzBFLEVBQVNDLEdBQVUvRSxFQUFPZ0YsS0FFakZILFdBQVdNLFdBQU0sRUFBUS9FLEVBQWMsQ0FBQzBFLEVBQVNDLEdBQVUvRSxFQUFPZ0YsSUFDN0UsRUFDQUksYUFBYyxTQUFVQyxHQUNwQixJQUFJSCxFQUFXTixFQUFnQk0sU0FDL0IsUUFBU0EsYUFBMkMsRUFBU0EsRUFBU0UsZUFBaUJBLGNBQWNDLEVBQ3pHLEVBQ0FILGNBQVVULEdDZlAsU0FBU2EsRUFBcUI1RCxHQUNqQ2tELEVBQWdCQyxZQUFXLFdBQ3ZCLElBQUlQLEVBQW1CRCxFQUFPQyxpQkFDOUIsSUFBSUEsRUFJQSxNQUFNNUMsRUFITjRDLEVBQWlCNUMsRUFLekIsR0FDSixDQ1pPLFNBQVM2RCxJQUFTLENDQWxCLElBQUlDLEVBQThDQyxFQUFtQixTQUFLaEIsT0FBV0EsR0FPckYsU0FBU2dCLEVBQW1CQyxFQUFNckcsRUFBT2MsR0FDNUMsTUFBTyxDQUNIdUYsS0FBTUEsRUFDTnJHLE1BQU9BLEVBQ1BjLE1BQU9BLEVBRWYsQ0NaQSxJQUFJd0YsRUFBVSxLQUNQLFNBQVNDLEVBQWFDLEdBQ3pCLEdBQUl4QixFQUFPSyxzQ0FBdUMsQ0FDOUMsSUFBSW9CLEdBQVVILEVBS2QsR0FKSUcsSUFDQUgsRUFBVSxDQUFFSSxhQUFhLEVBQU81RixNQUFPLE9BRTNDMEYsSUFDSUMsRUFBUSxDQUNSLElBQUluRCxFQUFLZ0QsRUFBU0ksRUFBY3BELEVBQUdvRCxZQUFhNUYsRUFBUXdDLEVBQUd4QyxNQUUzRCxHQURBd0YsRUFBVSxLQUNOSSxFQUNBLE1BQU01RixDQUVkLENBQ0osTUFFSTBGLEdBRVIsQ0NYQSxJQUFJRyxFQUFjLFNBQVUxRSxHQUV4QixTQUFTMEUsRUFBV0MsR0FDaEIsSUFBSUMsRUFBUTVFLEVBQU83RCxLQUFLSyxPQUFTQSxLQVdqQyxPQVZBb0ksRUFBTUMsV0FBWSxFQUNkRixHQUNBQyxFQUFNRCxZQUFjQSxFQUNoQjdCLEVBQWU2QixJQUNmQSxFQUFZdkMsSUFBSXdDLElBSXBCQSxFQUFNRCxZQUFjRyxFQUVqQkYsQ0FDWCxDQXdEQSxPQXRFQXhJLEVBQVVzSSxFQUFZMUUsR0FldEIwRSxFQUFXaEksT0FBUyxTQUFVYSxFQUFNc0IsRUFBT2tHLEdBQ3ZDLE9BQU8sSUFBSUMsRUFBZXpILEVBQU1zQixFQUFPa0csRUFDM0MsRUFDQUwsRUFBV3pJLFVBQVVzQixLQUFPLFNBQVVRLEdBQzlCdkIsS0FBS3FJLFVBQ0xJLEVGMUJMLFNBQTBCbEgsR0FDN0IsT0FBT29HLEVBQW1CLElBQUtwRyxPQUFPb0YsRUFDMUMsQ0V3QnNDK0IsQ0FBaUJuSCxHQUFRdkIsTUFHbkRBLEtBQUsySSxNQUFNcEgsRUFFbkIsRUFDQTJHLEVBQVd6SSxVQUFVNEMsTUFBUSxTQUFVdUIsR0FDL0I1RCxLQUFLcUksVUFDTEksRUZwQ0RkLEVBQW1CLFNBQUtoQixFRW9DcUIvQyxHQUFNNUQsT0FHbERBLEtBQUtxSSxXQUFZLEVBQ2pCckksS0FBSzRJLE9BQU9oRixHQUVwQixFQUNBc0UsRUFBV3pJLFVBQVU4SSxTQUFXLFdBQ3hCdkksS0FBS3FJLFVBQ0xJLEVBQTBCZixFQUF1QjFILE9BR2pEQSxLQUFLcUksV0FBWSxFQUNqQnJJLEtBQUs2SSxZQUViLEVBQ0FYLEVBQVd6SSxVQUFVa0YsWUFBYyxXQUMxQjNFLEtBQUt3RSxTQUNOeEUsS0FBS3FJLFdBQVksRUFDakI3RSxFQUFPL0QsVUFBVWtGLFlBQVloRixLQUFLSyxNQUNsQ0EsS0FBS21JLFlBQWMsS0FFM0IsRUFDQUQsRUFBV3pJLFVBQVVrSixNQUFRLFNBQVVwSCxHQUNuQ3ZCLEtBQUttSSxZQUFZcEgsS0FBS1EsRUFDMUIsRUFDQTJHLEVBQVd6SSxVQUFVbUosT0FBUyxTQUFVaEYsR0FDcEMsSUFDSTVELEtBQUttSSxZQUFZOUYsTUFBTXVCLEVBQzNCLENBQ0EsUUFDSTVELEtBQUsyRSxhQUNULENBQ0osRUFDQXVELEVBQVd6SSxVQUFVb0osVUFBWSxXQUM3QixJQUNJN0ksS0FBS21JLFlBQVlJLFVBQ3JCLENBQ0EsUUFDSXZJLEtBQUsyRSxhQUNULENBQ0osRUFDT3VELENBQ1gsQ0F4RWlCLENBd0VmNUQsR0FFRXdFLEVBQVFDLFNBQVN0SixVQUFVdUosS0FDL0IsU0FBU0EsRUFBS0MsRUFBSTdJLEdBQ2QsT0FBTzBJLEVBQU1uSixLQUFLc0osRUFBSTdJLEVBQzFCLENBQ0EsSUFBSThJLEVBQW9CLFdBQ3BCLFNBQVNBLEVBQWlCQyxHQUN0Qm5KLEtBQUttSixnQkFBa0JBLENBQzNCLENBcUNBLE9BcENBRCxFQUFpQnpKLFVBQVVzQixLQUFPLFNBQVVRLEdBQ3hDLElBQUk0SCxFQUFrQm5KLEtBQUttSixnQkFDM0IsR0FBSUEsRUFBZ0JwSSxLQUNoQixJQUNJb0ksRUFBZ0JwSSxLQUFLUSxFQUN6QixDQUNBLE1BQU9jLEdBQ0grRyxFQUFxQi9HLEVBQ3pCLENBRVIsRUFDQTZHLEVBQWlCekosVUFBVTRDLE1BQVEsU0FBVXVCLEdBQ3pDLElBQUl1RixFQUFrQm5KLEtBQUttSixnQkFDM0IsR0FBSUEsRUFBZ0I5RyxNQUNoQixJQUNJOEcsRUFBZ0I5RyxNQUFNdUIsRUFDMUIsQ0FDQSxNQUFPdkIsR0FDSCtHLEVBQXFCL0csRUFDekIsTUFHQStHLEVBQXFCeEYsRUFFN0IsRUFDQXNGLEVBQWlCekosVUFBVThJLFNBQVcsV0FDbEMsSUFBSVksRUFBa0JuSixLQUFLbUosZ0JBQzNCLEdBQUlBLEVBQWdCWixTQUNoQixJQUNJWSxFQUFnQlosVUFDcEIsQ0FDQSxNQUFPbEcsR0FDSCtHLEVBQXFCL0csRUFDekIsQ0FFUixFQUNPNkcsQ0FDWCxDQXpDdUIsR0EwQ25CVixFQUFrQixTQUFVaEYsR0FFNUIsU0FBU2dGLEVBQWVhLEVBQWdCaEgsRUFBT2tHLEdBQzNDLElBQ0lZLEVBU0lHLEVBVkpsQixFQUFRNUUsRUFBTzdELEtBQUtLLE9BQVNBLEtBeUJqQyxPQXZCSStDLEVBQVdzRyxLQUFvQkEsRUFDL0JGLEVBQWtCLENBQ2RwSSxLQUFPc0ksUUFBdURBLE9BQWlCMUMsRUFDL0V0RSxNQUFPQSxRQUFxQ0EsT0FBUXNFLEVBQ3BENEIsU0FBVUEsUUFBMkNBLE9BQVc1QixHQUtoRXlCLEdBQVM3QixFQUFPTSwyQkFDaEJ5QyxFQUFZbEssT0FBT2MsT0FBT21KLElBQ2hCMUUsWUFBYyxXQUFjLE9BQU95RCxFQUFNekQsYUFBZSxFQUNsRXdFLEVBQWtCLENBQ2RwSSxLQUFNc0ksRUFBZXRJLE1BQVFpSSxFQUFLSyxFQUFldEksS0FBTXVJLEdBQ3ZEakgsTUFBT2dILEVBQWVoSCxPQUFTMkcsRUFBS0ssRUFBZWhILE1BQU9pSCxHQUMxRGYsU0FBVWMsRUFBZWQsVUFBWVMsRUFBS0ssRUFBZWQsU0FBVWUsS0FJdkVILEVBQWtCRSxFQUcxQmpCLEVBQU1ELFlBQWMsSUFBSWUsRUFBaUJDLEdBQ2xDZixDQUNYLENBQ0EsT0E3QkF4SSxFQUFVNEksRUFBZ0JoRixHQTZCbkJnRixDQUNYLENBL0JxQixDQStCbkJOLEdBRUYsU0FBU2tCLEVBQXFCL0csR0Q3SXZCLElBQXNCdUIsRUM4SXJCMkMsRUFBT0ssdUNEOUljaEQsRUMrSVJ2QixFRDlJYmtFLEVBQU9LLHVDQUF5Q2lCLElBQ2hEQSxFQUFRSSxhQUFjLEVBQ3RCSixFQUFReEYsTUFBUXVCLElDK0loQjRELEVBQXFCbkYsRUFFN0IsQ0FJQSxTQUFTb0csRUFBMEJjLEVBQWNDLEdBQzdDLElBQUkvQyxFQUF3QkYsRUFBT0Usc0JBQ25DQSxHQUF5QkssRUFBZ0JDLFlBQVcsV0FBYyxPQUFPTixFQUFzQjhDLEVBQWNDLEVBQWEsR0FDOUgsQ0FDTyxJQUFJbEIsRUFBaUIsQ0FDeEI5RCxRQUFRLEVBQ1J6RCxLQUFNMEcsRUFDTnBGLE1BVkosU0FBNkJ1QixHQUN6QixNQUFNQSxDQUNWLEVBU0kyRSxTQUFVZCxHQ3JMSGdDLEVBQXNELG1CQUFYeEksUUFBeUJBLE9BQU93SSxZQUFlLGVDQTlGLFNBQVNDLEVBQVNDLEdBQ3JCLE9BQU9BLENBQ1gsQ0NLQSxJQUFJLEVBQWMsV0FDZCxTQUFTQyxFQUFXQyxHQUNaQSxJQUNBN0osS0FBSzhKLFdBQWFELEVBRTFCLENBNEVBLE9BM0VBRCxFQUFXbkssVUFBVXNLLEtBQU8sU0FBVUMsR0FDbEMsSUFBSVAsRUFBYSxJQUFJRyxFQUdyQixPQUZBSCxFQUFXUSxPQUFTakssS0FDcEJ5SixFQUFXTyxTQUFXQSxFQUNmUCxDQUNYLEVBQ0FHLEVBQVduSyxVQUFVb0ssVUFBWSxTQUFVUixFQUFnQmhILEVBQU9rRyxHQUM5RCxJQThFY2hILEVBOUVWNkcsRUFBUXBJLEtBQ1J3SixHQTZFVWpJLEVBN0VnQjhILElBOEVqQjlILGFBQWlCMkcsR0FKdEMsU0FBb0IzRyxHQUNoQixPQUFPQSxHQUFTd0IsRUFBV3hCLEVBQU1SLE9BQVNnQyxFQUFXeEIsRUFBTWMsUUFBVVUsRUFBV3hCLEVBQU1nSCxTQUMxRixDQUVzRDJCLENBQVczSSxJQUFVK0UsRUFBZS9FLEdBOUVsQzhILEVBQWlCLElBQUliLEVBQWVhLEVBQWdCaEgsRUFBT2tHLEdBWTNHLE9BWEFULEdBQWEsV0FDVCxJQUFJakQsRUFBS3VELEVBQU80QixFQUFXbkYsRUFBR21GLFNBQVVDLEVBQVNwRixFQUFHb0YsT0FDcERULEVBQVc1RCxJQUFJb0UsRUFFUEEsRUFBU3JLLEtBQUs2SixFQUFZUyxHQUM1QkEsRUFFTTdCLEVBQU0wQixXQUFXTixHQUVqQnBCLEVBQU0rQixjQUFjWCxHQUNwQyxJQUNPQSxDQUNYLEVBQ0FJLEVBQVduSyxVQUFVMEssY0FBZ0IsU0FBVUMsR0FDM0MsSUFDSSxPQUFPcEssS0FBSzhKLFdBQVdNLEVBQzNCLENBQ0EsTUFBT3hHLEdBQ0h3RyxFQUFLL0gsTUFBTXVCLEVBQ2YsQ0FDSixFQUNBZ0csRUFBV25LLFVBQVU0SyxRQUFVLFNBQVV0SixFQUFNdUosR0FDM0MsSUFBSWxDLEVBQVFwSSxLQUVaLE9BQU8sSUFEUHNLLEVBQWNDLEVBQWVELEtBQ04sU0FBVUUsRUFBU0MsR0FDdEMsSUFBSWpCLEVBQWEsSUFBSWhCLEVBQWUsQ0FDaEN6SCxLQUFNLFNBQVVRLEdBQ1osSUFDSVIsRUFBS1EsRUFDVCxDQUNBLE1BQU9xQyxHQUNINkcsRUFBTzdHLEdBQ1A0RixFQUFXN0UsYUFDZixDQUNKLEVBQ0F0QyxNQUFPb0ksRUFDUGxDLFNBQVVpQyxJQUVkcEMsRUFBTXlCLFVBQVVMLEVBQ3BCLEdBQ0osRUFDQUksRUFBV25LLFVBQVVxSyxXQUFhLFNBQVVOLEdBQ3hDLElBQUkzRSxFQUNKLE9BQThCLFFBQXRCQSxFQUFLN0UsS0FBS2lLLGNBQTJCLElBQVBwRixPQUFnQixFQUFTQSxFQUFHZ0YsVUFBVUwsRUFDaEYsRUFDQUksRUFBV25LLFVBQVUsR0FBcUIsV0FDdEMsT0FBT08sSUFDWCxFQUNBNEosRUFBV25LLFVBQVVpTCxLQUFPLFdBRXhCLElBREEsSUFBSUMsRUFBYSxHQUNSeEQsRUFBSyxFQUFHQSxFQUFLekUsVUFBVWpCLE9BQVEwRixJQUNwQ3dELEVBQVd4RCxHQUFNekUsVUFBVXlFLEdBRS9CLE9DbEVlLEtBRE95RCxFRG1FREQsR0NsRWpCbEosT0FDR2lJLEVBRVEsSUFBZmtCLEVBQUluSixPQUNHbUosRUFBSSxHQUVSLFNBQWVDLEdBQ2xCLE9BQU9ELEVBQUlFLFFBQU8sU0FBVUMsRUFBTTlCLEdBQU0sT0FBT0EsRUFBRzhCLEVBQU8sR0FBR0YsRUFDaEUsR0QwRHFDN0ssTUNuRWxDLElBQXVCNEssQ0RvRTFCLEVBQ0FoQixFQUFXbkssVUFBVXVMLFVBQVksU0FBVVYsR0FDdkMsSUFBSWxDLEVBQVFwSSxLQUVaLE9BQU8sSUFEUHNLLEVBQWNDLEVBQWVELEtBQ04sU0FBVUUsRUFBU0MsR0FDdEMsSUFBSWxKLEVBQ0o2RyxFQUFNeUIsV0FBVSxTQUFVRixHQUFLLE9BQVFwSSxFQUFRb0ksQ0FBSSxJQUFHLFNBQVUvRixHQUFPLE9BQU82RyxFQUFPN0csRUFBTSxJQUFHLFdBQWMsT0FBTzRHLEVBQVFqSixFQUFRLEdBQ3ZJLEdBQ0osRUFDQXFJLEVBQVcxSixPQUFTLFNBQVUySixHQUMxQixPQUFPLElBQUlELEVBQVdDLEVBQzFCLEVBQ09ELENBQ1gsQ0FsRmlCLEdBb0ZqQixTQUFTVyxFQUFlRCxHQUNwQixJQUFJekYsRUFDSixPQUFnRyxRQUF4RkEsRUFBS3lGLFFBQWlEQSxFQUFjL0QsRUFBT0csZUFBNEIsSUFBUDdCLEVBQWdCQSxFQUFLNkIsT0FDakksQ0U5Rk8sSUFBSXVFLEVBQWMsU0FBV3RCLEdBQUssT0FBT0EsR0FBeUIsaUJBQWJBLEVBQUVsSSxRQUFvQyxtQkFBTmtJLENBQW1CLEVDQ3hHLFNBQVN1QixFQUFVM0osR0FDdEIsT0FBT3dCLEVBQVd4QixhQUFxQyxFQUFTQSxFQUFNNEosS0FDMUUsQ0NETyxTQUFTQyxFQUFvQlAsR0FDaEMsT0FBTzlILEVBQVc4SCxFQUFNLEdBQzVCLENDSE8sU0FBU1EsRUFBZ0JDLEdBQzVCLE9BQU9ySyxPQUFPc0ssZUFBaUJ4SSxFQUFXdUksYUFBaUMsRUFBU0EsRUFBSXJLLE9BQU9zSyxlQUNuRyxDQ0hPLFNBQVNDLEVBQWlDWCxHQUM3QyxPQUFPLElBQUloTCxVQUFVLGlCQUE2QixPQUFWZ0wsR0FBbUMsaUJBQVZBLEVBQXFCLG9CQUFzQixJQUFNQSxFQUFRLEtBQU8sMkhBQ3JJLENDSU8sSUFBSSxFQUxlLG1CQUFYNUosUUFBMEJBLE9BQU9DLFNBR3JDRCxPQUFPQyxTQUZILGFDQVIsU0FBU3VLLEVBQVdaLEdBQ3ZCLE9BQU85SCxFQUFXOEgsYUFBcUMsRUFBU0EsRUFBTSxHQUMxRSxDQ0ZPLFNBQVNhLEVBQW1DQyxHQUMvQyxPeEJnT0csU0FBMEJ2TCxFQUFTd0wsRUFBWUMsR0FDcEQsSUFBSzVLLE9BQU9zSyxjQUFlLE1BQU0sSUFBSTFMLFVBQVUsd0NBQy9DLElBQW9Eb0MsRUFBaER4QixFQUFJb0wsRUFBVXhFLE1BQU1qSCxFQUFTd0wsR0FBYyxJQUFRRSxFQUFJLEdBQzNELE9BQU83SixFQUFJLENBQUMsRUFBR2pCLEVBQUssUUFBU0EsRUFBSyxTQUFVQSxFQUFLLFVBQVdpQixFQUFFaEIsT0FBT3NLLGVBQWlCLFdBQWMsT0FBT3ZMLElBQU0sRUFBR2lDLEVBQ3BILFNBQVNqQixFQUFLRyxHQUFTVixFQUFFVSxLQUFJYyxFQUFFZCxHQUFLLFNBQVVDLEdBQUssT0FBTyxJQUFJc0YsU0FBUSxTQUFVcUYsRUFBRzVNLEdBQUsyTSxFQUFFcEssS0FBSyxDQUFDUCxFQUFHQyxFQUFHMkssRUFBRzVNLElBQU0sR0FBSzZNLEVBQU83SyxFQUFHQyxFQUFJLEdBQUksRUFBRyxDQUN6SSxTQUFTNEssRUFBTzdLLEVBQUdDLEdBQUssS0FDVmUsRUFEcUIxQixFQUFFVSxHQUFHQyxJQUNuQkcsaUJBQWlCdUIsRUFBVTRELFFBQVE4RCxRQUFRckksRUFBRVosTUFBTUgsR0FBRytKLEtBQUtjLEVBQVN4QixHQUFVeUIsRUFBT0osRUFBRSxHQUFHLEdBQUkzSixFQUR0RSxDQUFFLE1BQU9SLEdBQUt1SyxFQUFPSixFQUFFLEdBQUcsR0FBSW5LLEVBQUksQ0FDL0UsSUFBY1EsQ0FEbUUsQ0FFakYsU0FBUzhKLEVBQVExSyxHQUFTeUssRUFBTyxPQUFRekssRUFBUSxDQUNqRCxTQUFTa0osRUFBT2xKLEdBQVN5SyxFQUFPLFFBQVN6SyxFQUFRLENBQ2pELFNBQVMySyxFQUFPNUwsRUFBR2MsR0FBU2QsRUFBRWMsR0FBSTBLLEVBQUVLLFFBQVNMLEVBQUVySyxRQUFRdUssRUFBT0YsRUFBRSxHQUFHLEdBQUlBLEVBQUUsR0FBRyxHQUFLLENBQ25GLEN3QjFPV00sQ0FBaUJwTSxLQUFNMEMsV0FBVyxXQUNyQyxJQUFJMkosRUFBUXhILEVBQUl0RCxFQUNoQixPQUFPcEIsRUFBWUgsTUFBTSxTQUFVK0UsR0FDL0IsT0FBUUEsRUFBR3BFLE9BQ1AsS0FBSyxFQUNEMEwsRUFBU1YsRUFBZVcsWUFDeEJ2SCxFQUFHcEUsTUFBUSxFQUNmLEtBQUssRUFDRG9FLEVBQUdsRSxLQUFLYSxLQUFLLENBQUMsRUFBRyxDQUFFLEVBQUcsS0FDdEJxRCxFQUFHcEUsTUFBUSxFQUNmLEtBQUssRUFFRCxNQUFPLENBQUMsRUFBR21DLEVBQVF1SixFQUFPRSxTQUM5QixLQUFLLEVBRUQsT0FEQTFILEVBQUtFLEVBQUduRSxPQUFRVyxFQUFRc0QsRUFBR3RELE1BQWNzRCxFQUFHdkQsS0FFckMsQ0FBQyxFQUFHd0IsT0FBUSxJQURELENBQUMsRUFBRyxHQUUxQixLQUFLLEVBQUcsTUFBTyxDQUFDLEVBQUdpQyxFQUFHbkUsUUFDdEIsS0FBSyxFQUFHLE1BQU8sQ0FBQyxFQUFHa0MsRUFBUXZCLElBQzNCLEtBQUssRUFBRyxNQUFPLENBQUMsRUFBR3dELEVBQUduRSxRQUN0QixLQUFLLEVBRUQsT0FEQW1FLEVBQUduRSxPQUNJLENBQUMsRUFBRyxHQUNmLEtBQUssRUFBRyxNQUFPLENBQUMsRUFBRyxJQUNuQixLQUFLLEVBRUQsT0FEQXlMLEVBQU9HLGNBQ0EsQ0FBQyxHQUNaLEtBQUssR0FBSSxNQUFPLENBQUMsR0FFekIsR0FDSixHQUNKLENBQ08sU0FBU0MsRUFBcUJuQixHQUNqQyxPQUFPdkksRUFBV3VJLGFBQWlDLEVBQVNBLEVBQUlnQixVQUNwRSxDQ3pCTyxTQUFTSSxFQUFVN0IsR0FDdEIsR0FBSUEsYUFBaUIsRUFDakIsT0FBT0EsRUFFWCxHQUFhLE1BQVRBLEVBQWUsQ0FDZixHQUFJTyxFQUFvQlAsR0FDcEIsT0FvQjBCUyxFQXBCR1QsRUFxQjlCLElBQUksR0FBVyxTQUFVckIsR0FDNUIsSUFBSW1ELEVBQU1yQixFQUFJLEtBQ2QsR0FBSXZJLEVBQVc0SixFQUFJOUMsV0FDZixPQUFPOEMsRUFBSTlDLFVBQVVMLEdBRXpCLE1BQU0sSUFBSTNKLFVBQVUsaUVBQ3hCLElBekJJLEdBQUlvTCxFQUFZSixHQUNaLE9BMEJrQitCLEVBMUJHL0IsRUEyQnRCLElBQUksR0FBVyxTQUFVckIsR0FDNUIsSUFBSyxJQUFJdkgsRUFBSSxFQUFHQSxFQUFJMkssRUFBTW5MLFNBQVcrSCxFQUFXaEYsT0FBUXZDLElBQ3BEdUgsRUFBV3pJLEtBQUs2TCxFQUFNM0ssSUFFMUJ1SCxFQUFXakIsVUFDZixJQTlCSSxHQUFJMkMsRUFBVUwsR0FDVixPQStCZ0JnQyxFQS9CR2hDLEVBZ0NwQixJQUFJLEdBQVcsU0FBVXJCLEdBQzVCcUQsRUFDSzFCLE1BQUssU0FBVTVKLEdBQ1hpSSxFQUFXaEYsU0FDWmdGLEVBQVd6SSxLQUFLUSxHQUNoQmlJLEVBQVdqQixXQUVuQixJQUFHLFNBQVUzRSxHQUFPLE9BQU80RixFQUFXbkgsTUFBTXVCLEVBQU0sSUFDN0N1SCxLQUFLLEtBQU0zRCxFQUNwQixJQXZDSSxHQUFJNkQsRUFBZ0JSLEdBQ2hCLE9BQU9pQyxFQUFrQmpDLEdBRTdCLEdBQUlZLEVBQVdaLEdBQ1gsT0FxQ2lCa0MsRUFyQ0dsQyxFQXNDckIsSUFBSSxHQUFXLFNBQVVyQixHQUM1QixJQUFJNUUsRUFBS0MsRUFDVCxJQUNJLElBQUssSUFBSW1JLEVBQWFuTCxFQUFTa0wsR0FBV0UsRUFBZUQsRUFBV2pNLFFBQVNrTSxFQUFhM0wsS0FBTTJMLEVBQWVELEVBQVdqTSxPQUFRLENBQzlILElBQUlRLEVBQVEwTCxFQUFhMUwsTUFFekIsR0FEQWlJLEVBQVd6SSxLQUFLUSxHQUNaaUksRUFBV2hGLE9BQ1gsTUFFUixDQUNKLENBQ0EsTUFBT1ksR0FBU1IsRUFBTSxDQUFFdkMsTUFBTytDLEVBQVMsQ0FDeEMsUUFDSSxJQUNRNkgsSUFBaUJBLEVBQWEzTCxPQUFTdUQsRUFBS21JLEVBQVczSCxTQUFTUixFQUFHbEYsS0FBS3FOLEVBQ2hGLENBQ0EsUUFBVSxHQUFJcEksRUFBSyxNQUFNQSxFQUFJdkMsS0FBTyxDQUN4QyxDQUNBbUgsRUFBV2pCLFVBQ2YsSUF2REksR0FBSWtFLEVBQXFCNUIsR0FDckIsT0E4RERpQyxFQUFrQnBCLEVBOURhYixHQUV0QyxDQTJERyxJQTNCc0JrQyxFQVpERixFQVJFRCxFQVRRdEIsRUFGbEMsTUFBTUUsRUFBaUNYLEVBQzNDLENBb0RPLFNBQVNpQyxFQUFrQkksR0FDOUIsT0FBTyxJQUFJLEdBQVcsU0FBVTFELElBT3BDLFNBQWlCMEQsRUFBZTFELEdBQzVCLElBQUkyRCxFQUFpQkMsRUFDakJ0SSxFQUFLRCxFekJlYXpFLEVBQVN3TCxFQUFZeUIsRUFBR3hCLEV5QmQ5QyxPekJjc0J6TCxFeUJkTEosS3pCY2M0TCxPeUJkUixFekJjdUJDLEV5QmRQLFdBQ25DLElBQUl0SyxFQUFPb0UsRUFDWCxPQUFPeEYsRUFBWUgsTUFBTSxTQUFVK0UsR0FDL0IsT0FBUUEsRUFBR3BFLE9BQ1AsS0FBSyxFQUNEb0UsRUFBR2xFLEtBQUthLEtBQUssQ0FBQyxFQUFHLEVBQUcsRUFBRyxLQUN2QnlMLEV6QjJJYixTQUF1QnJMLEdBQzVCLElBQUtiLE9BQU9zSyxjQUFlLE1BQU0sSUFBSTFMLFVBQVUsd0NBQy9DLElBQWlDb0MsRUFBN0JELEVBQUlGLEVBQUViLE9BQU9zSyxlQUNqQixPQUFPdkosRUFBSUEsRUFBRXJDLEtBQUttQyxJQUFNQSxFQUFxQ0QsRUFBU0MsR0FBMkJHLEVBQUksQ0FBQyxFQUFHakIsRUFBSyxRQUFTQSxFQUFLLFNBQVVBLEVBQUssVUFBV2lCLEVBQUVoQixPQUFPc0ssZUFBaUIsV0FBYyxPQUFPdkwsSUFBTSxFQUFHaUMsR0FDOU0sU0FBU2pCLEVBQUtHLEdBQUtjLEVBQUVkLEdBQUtXLEVBQUVYLElBQU0sU0FBVUMsR0FBSyxPQUFPLElBQUlzRixTQUFRLFNBQVU4RCxFQUFTQyxJQUN2RixTQUFnQkQsRUFBU0MsRUFBUXZMLEVBQUdrQyxHQUFLc0YsUUFBUThELFFBQVFwSixHQUFHK0osTUFBSyxTQUFTL0osR0FBS29KLEVBQVEsQ0FBRWpKLE1BQU9ILEVBQUdFLEtBQU1wQyxHQUFNLEdBQUd1TCxFQUFTLENBRGJ5QixDQUFPMUIsRUFBU0MsR0FBN0JySixFQUFJVSxFQUFFWCxHQUFHQyxJQUE4QkUsS0FBTUYsRUFBRUcsTUFBUSxHQUFJLENBQUcsQ0FFakssQ3lCakpzQytMLENBQWNKLEdBQ2hDbkksRUFBR3BFLE1BQVEsRUFDZixLQUFLLEVBQUcsTUFBTyxDQUFDLEVBQUd3TSxFQUFnQnBNLFFBQ25DLEtBQUssRUFDRCxJQUFNcU0sRUFBb0JySSxFQUFHbkUsUUFBMkJVLEtBQU8sTUFBTyxDQUFDLEVBQUcsR0FHMUUsR0FGQUMsRUFBUTZMLEVBQWtCN0wsTUFDMUJpSSxFQUFXekksS0FBS1EsR0FDWmlJLEVBQVdoRixPQUNYLE1BQU8sQ0FBQyxHQUVaTyxFQUFHcEUsTUFBUSxFQUNmLEtBQUssRUFBRyxNQUFPLENBQUMsRUFBRyxHQUNuQixLQUFLLEVBQUcsTUFBTyxDQUFDLEVBQUcsSUFDbkIsS0FBSyxFQUdELE9BRkFnRixFQUFRWixFQUFHbkUsT0FDWGtFLEVBQU0sQ0FBRXpDLE1BQU9zRCxHQUNSLENBQUMsRUFBRyxJQUNmLEtBQUssRUFFRCxPQURBWixFQUFHbEUsS0FBS2EsS0FBSyxDQUFDLEVBQUcsQ0FBRSxFQUFHLEtBQ2hCMEwsSUFBc0JBLEVBQWtCOUwsT0FBU3VELEVBQUtzSSxFQUFnQjlILFFBQ3JFLENBQUMsRUFBR1IsRUFBR2xGLEtBQUt3TixJQUQwRSxDQUFDLEVBQUcsR0FFckcsS0FBSyxFQUNEcEksRUFBR25FLE9BQ0htRSxFQUFHcEUsTUFBUSxFQUNmLEtBQUssRUFBRyxNQUFPLENBQUMsRUFBRyxJQUNuQixLQUFLLEVBQ0QsR0FBSW1FLEVBQUssTUFBTUEsRUFBSXpDLE1BQ25CLE1BQU8sQ0FBQyxHQUNaLEtBQUssR0FBSSxNQUFPLENBQUMsR0FDakIsS0FBSyxHQUVELE9BREFtSCxFQUFXakIsV0FDSixDQUFDLEdBRXBCLEdBQ0osRXpCeEJLLEtBRnNDOEUsT3lCZFosS3pCZ0JmQSxFQUFJM0csV0FBVSxTQUFVOEQsRUFBU0MsR0FDL0MsU0FBUzhDLEVBQVVoTSxHQUFTLElBQU1LLEVBQUtpSyxFQUFVOUssS0FBS1EsR0FBUyxDQUFFLE1BQU9JLEdBQUs4SSxFQUFPOUksRUFBSSxDQUFFLENBQzFGLFNBQVM2TCxFQUFTak0sR0FBUyxJQUFNSyxFQUFLaUssRUFBaUIsTUFBRXRLLEdBQVMsQ0FBRSxNQUFPSSxHQUFLOEksRUFBTzlJLEVBQUksQ0FBRSxDQUM3RixTQUFTQyxFQUFLNkwsR0FKbEIsSUFBZWxNLEVBSWFrTSxFQUFPbk0sS0FBT2tKLEVBQVFpRCxFQUFPbE0sUUFKMUNBLEVBSXlEa00sRUFBT2xNLE1BSmhEQSxhQUFpQjhMLEVBQUk5TCxFQUFRLElBQUk4TCxHQUFFLFNBQVU3QyxHQUFXQSxFQUFRakosRUFBUSxLQUlqQjRKLEtBQUtvQyxFQUFXQyxFQUFXLENBQzdHNUwsR0FBTWlLLEVBQVlBLEVBQVV4RSxNQUFNakgsRUFBU3dMLEdBQWMsS0FBSzdLLE9BQ2xFLEd5Qm9CRixFQWxEUTJNLENBQVFSLEVBQWUxRCxHQUFZbUUsT0FBTSxTQUFVL0osR0FBTyxPQUFPNEYsRUFBV25ILE1BQU11QixFQUFNLEdBQzVGLEdBQ0osQ0M3RkEsSUFBSW9CLEVBQVV6RixNQUFNeUYsUUNDVG1CLEVBQVEsSUFBSSxHQUFXLFNBQVVxRCxHQUFjLE9BQU9BLEVBQVdqQixVQUFZLElDQ2pGLFNBQVNxRixFQUF5QnpGLEVBQWEwRixFQUFRQyxFQUFZQyxFQUFTQyxHQUMvRSxPQUFPLElBQUlDLEVBQW1COUYsRUFBYTBGLEVBQVFDLEVBQVlDLEVBQVNDLEVBQzVFLENBQ0EsSUFBSUMsRUFBc0IsU0FBVXpLLEdBRWhDLFNBQVN5SyxFQUFtQjlGLEVBQWEwRixFQUFRQyxFQUFZQyxFQUFTQyxFQUFZRSxHQUM5RSxJQUFJOUYsRUFBUTVFLEVBQU83RCxLQUFLSyxLQUFNbUksSUFBZ0JuSSxLQXVDOUMsT0F0Q0FvSSxFQUFNNEYsV0FBYUEsRUFDbkI1RixFQUFNOEYsa0JBQW9CQSxFQUMxQjlGLEVBQU1PLE1BQVFrRixFQUNSLFNBQVV0TSxHQUNSLElBQ0lzTSxFQUFPdE0sRUFDWCxDQUNBLE1BQU9xQyxHQUNIdUUsRUFBWTlGLE1BQU11QixFQUN0QixDQUNKLEVBQ0VKLEVBQU8vRCxVQUFVa0osTUFDdkJQLEVBQU1RLE9BQVNtRixFQUNULFNBQVVuSyxHQUNSLElBQ0ltSyxFQUFRbkssRUFDWixDQUNBLE1BQU9BLEdBQ0h1RSxFQUFZOUYsTUFBTXVCLEVBQ3RCLENBQ0EsUUFDSTVELEtBQUsyRSxhQUNULENBQ0osRUFDRW5CLEVBQU8vRCxVQUFVbUosT0FDdkJSLEVBQU1TLFVBQVlpRixFQUNaLFdBQ0UsSUFDSUEsR0FDSixDQUNBLE1BQU9sSyxHQUNIdUUsRUFBWTlGLE1BQU11QixFQUN0QixDQUNBLFFBQ0k1RCxLQUFLMkUsYUFDVCxDQUNKLEVBQ0VuQixFQUFPL0QsVUFBVW9KLFVBQ2hCVCxDQUNYLENBU0EsT0FuREF4SSxFQUFVcU8sRUFBb0J6SyxHQTJDOUJ5SyxFQUFtQnhPLFVBQVVrRixZQUFjLFdBQ3ZDLElBQUlFLEVBQ0osSUFBSzdFLEtBQUtrTyxtQkFBcUJsTyxLQUFLa08sb0JBQXFCLENBQ3JELElBQUlDLEVBQVduTyxLQUFLd0UsT0FDcEJoQixFQUFPL0QsVUFBVWtGLFlBQVloRixLQUFLSyxPQUNqQ21PLElBQXdDLFFBQTFCdEosRUFBSzdFLEtBQUtnTyxrQkFBK0IsSUFBUG5KLEdBQXlCQSxFQUFHbEYsS0FBS0ssTUFDdEYsQ0FDSixFQUNPaU8sQ0FDWCxDQXJEeUIsQ0FxRHZCL0YsR0N6REssU0FBU2tHLEVBQVk3TSxHQUN4QixPQUFPQSxHQUFTd0IsRUFBV3hCLEVBQU04TSxTQUNyQyxDQ0RBLFNBQVNDLEVBQUtySyxHQUNWLE9BQU9BLEVBQUlBLEVBQUl4QyxPQUFTLEVBQzVCLENBQ08sU0FBUzhNLEVBQWtCckgsR0FDOUIsT0FBT25FLEVBQVd1TCxFQUFLcEgsSUFBU0EsRUFBSzFGLFdBQVFtRixDQUNqRCxDQUNPLFNBQVM2SCxFQUFhdEgsR0FDekIsT0FBT2tILEVBQVlFLEVBQUtwSCxJQUFTQSxFQUFLMUYsV0FBUW1GLENBQ2xELENDSE8sU0FBUzhILEtBRVosSUFEQSxJQUFJdkgsRUFBTyxHQUNGQyxFQUFLLEVBQUdBLEVBQUt6RSxVQUFVakIsT0FBUTBGLElBQ3BDRCxFQUFLQyxHQUFNekUsVUFBVXlFLEdBRXpCLElBQUl1SCxFQUFpQkgsRUFBa0JySCxHQUNuQ3lILEVMWkQsU0FBd0J6SCxHQUMzQixPQUF1QixJQUFoQkEsRUFBS3pGLFFBQWdCdUQsRUFBUWtDLEVBQUssSUFBTUEsRUFBSyxHQUFLQSxDQUM3RCxDS1VrQjBILENBQWUxSCxHQUM3QixPQUFPeUgsRUFBUWxOLE9BQ1QsSUFBSSxHQUFXLFNBQVUrSCxHQUN2QixJQUFJcUYsRUFBVUYsRUFBUWhMLEtBQUksV0FBYyxNQUFPLEVBQUksSUFDL0NtTCxFQUFZSCxFQUFRaEwsS0FBSSxXQUFjLE9BQU8sQ0FBTyxJQUN4RDZGLEVBQVc1RCxLQUFJLFdBQ1hpSixFQUFVQyxFQUFZLElBQzFCLElBZ0JBLElBZkEsSUFBSUMsRUFBVSxTQUFVQyxHQUNwQnRDLEVBQVVpQyxFQUFRSyxJQUFjbkYsVUFBVStELEVBQXlCcEUsR0FBWSxTQUFVakksR0FFckYsR0FEQXNOLEVBQVFHLEdBQWF0TixLQUFLSCxHQUN0QnNOLEVBQVFJLE9BQU0sU0FBVUMsR0FBVSxPQUFPQSxFQUFPek4sTUFBUSxJQUFJLENBQzVELElBQUlnTSxFQUFTb0IsRUFBUWxMLEtBQUksU0FBVXVMLEdBQVUsT0FBT0EsRUFBTy9DLE9BQVMsSUFDcEUzQyxFQUFXekksS0FBSzJOLEVBQWlCQSxFQUFlckgsV0FBTSxFQUFRL0UsRUFBYyxHQUFJSixFQUFPdUwsS0FBWUEsR0FDL0ZvQixFQUFRTSxNQUFLLFNBQVVELEVBQVFqTixHQUFLLE9BQVFpTixFQUFPek4sUUFBVXFOLEVBQVU3TSxFQUFJLEtBQzNFdUgsRUFBV2pCLFVBRW5CLENBQ0osSUFBRyxXQUNDdUcsRUFBVUUsSUFBZSxHQUN4QkgsRUFBUUcsR0FBYXZOLFFBQVUrSCxFQUFXakIsVUFDL0MsSUFDSixFQUNTeUcsRUFBYyxHQUFJeEYsRUFBV2hGLFFBQVV3SyxFQUFjTCxFQUFRbE4sT0FBUXVOLElBQzFFRCxFQUFRQyxHQUVaLE9BQU8sV0FDSEgsRUFBVUMsRUFBWSxJQUMxQixDQUNKLElBQ0UzSSxDQUNWLENDNUNPLFNBQVNpSixHQUFnQkMsRUFBb0JDLEVBQVdDLEVBQU1DLEVBQU9DLFFBQzFELElBQVZELElBQW9CQSxFQUFRLFFBQ2pCLElBQVhDLElBQXFCQSxHQUFTLEdBQ2xDLElBQUlDLEVBQXVCSixFQUFVakIsVUFBUyxXQUMxQ2tCLElBQ0lFLEVBQ0FKLEVBQW1CekosSUFBSTVGLEtBQUtxTyxTQUFTLEtBQU1tQixJQUczQ3hQLEtBQUsyRSxhQUViLEdBQUc2SyxHQUVILEdBREFILEVBQW1CekosSUFBSThKLElBQ2xCRCxFQUNELE9BQU9DLENBRWYsQ0NaTyxTQUFTQyxHQUFRQyxHQUNwQixPQUFPLFNBQVUzRixHQUNiLEdBTEQsU0FBaUJBLEdBQ3BCLE9BQU9sSCxFQUFXa0gsYUFBdUMsRUFBU0EsRUFBT0YsS0FDN0UsQ0FHWThGLENBQVE1RixHQUNSLE9BQU9BLEVBQU9GLE1BQUssU0FBVStGLEdBQ3pCLElBQ0ksT0FBT0YsRUFBS0UsRUFBYzlQLEtBQzlCLENBQ0EsTUFBTzRELEdBQ0g1RCxLQUFLcUMsTUFBTXVCLEVBQ2YsQ0FDSixJQUVKLE1BQU0sSUFBSS9ELFVBQVUseUNBQ3hCLENBQ0osQ0NmTyxTQUFTa1EsR0FBVVQsRUFBV0UsR0FFakMsWUFEYyxJQUFWQSxJQUFvQkEsRUFBUSxHQUN6QkcsSUFBUSxTQUFVMUYsRUFBUVQsR0FDN0JTLEVBQU9KLFVBQVUrRCxFQUF5QnBFLEdBQVksU0FBVWpJLEdBQVMsT0FBTzZOLEdBQWdCNUYsRUFBWThGLEdBQVcsV0FBYyxPQUFPOUYsRUFBV3pJLEtBQUtRLEVBQVEsR0FBR2lPLEVBQVEsSUFBRyxXQUFjLE9BQU9KLEdBQWdCNUYsRUFBWThGLEdBQVcsV0FBYyxPQUFPOUYsRUFBV2pCLFVBQVksR0FBR2lILEVBQVEsSUFBRyxTQUFVNUwsR0FBTyxPQUFPd0wsR0FBZ0I1RixFQUFZOEYsR0FBVyxXQUFjLE9BQU85RixFQUFXbkgsTUFBTXVCLEVBQU0sR0FBRzRMLEVBQVEsSUFDbGEsR0FDSixDQ1BPLFNBQVNRLEdBQVlWLEVBQVdFLEdBRW5DLFlBRGMsSUFBVkEsSUFBb0JBLEVBQVEsR0FDekJHLElBQVEsU0FBVTFGLEVBQVFULEdBQzdCQSxFQUFXNUQsSUFBSTBKLEVBQVVqQixVQUFTLFdBQWMsT0FBT3BFLEVBQU9KLFVBQVVMLEVBQWEsR0FBR2dHLEdBQzVGLEdBQ0osQ0NKTyxTQUFTUyxHQUFzQnBGLEVBQU95RSxHQUN6QyxJQUFLekUsRUFDRCxNQUFNLElBQUl6SCxNQUFNLDJCQUVwQixPQUFPLElBQUksR0FBVyxTQUFVb0csR0FDNUI0RixHQUFnQjVGLEVBQVk4RixHQUFXLFdBQ25DLElBQUlwTyxFQUFXMkosRUFBTTVKLE9BQU9zSyxpQkFDNUI2RCxHQUFnQjVGLEVBQVk4RixHQUFXLFdBQ25DcE8sRUFBU0gsT0FBT29LLE1BQUssU0FBVXNDLEdBQ3ZCQSxFQUFPbk0sS0FDUGtJLEVBQVdqQixXQUdYaUIsRUFBV3pJLEtBQUswTSxFQUFPbE0sTUFFL0IsR0FDSixHQUFHLEdBQUcsRUFDVixHQUNKLEdBQ0osQ0NuQk8sU0FBUyxHQUFLc0osRUFBT3lFLEdBQ3hCLE9BQU9BLEVDVUosU0FBbUJ6RSxFQUFPeUUsR0FDN0IsR0FBYSxNQUFUekUsRUFBZSxDQUNmLEdBQUlPLEVBQW9CUCxHQUNwQixPQ2JMLFNBQTRCQSxFQUFPeUUsR0FDdEMsT0FBTzVDLEVBQVU3QixHQUFPSCxLQUFLc0YsR0FBWVYsR0FBWVMsR0FBVVQsR0FDbkUsQ0RXbUJZLENBQW1CckYsRUFBT3lFLEdBRXJDLEdBQUlyRSxFQUFZSixHQUNaLE9FbEJMLFNBQXVCQSxFQUFPeUUsR0FDakMsT0FBTyxJQUFJLEdBQVcsU0FBVTlGLEdBQzVCLElBQUl2SCxFQUFJLEVBQ1IsT0FBT3FOLEVBQVVqQixVQUFTLFdBQ2xCcE0sSUFBTTRJLEVBQU1wSixPQUNaK0gsRUFBV2pCLFlBR1hpQixFQUFXekksS0FBSzhKLEVBQU01SSxNQUNqQnVILEVBQVdoRixRQUNaeEUsS0FBS3FPLFdBR2pCLEdBQ0osR0FDSixDRkdtQjhCLENBQWN0RixFQUFPeUUsR0FFaEMsR0FBSXBFLEVBQVVMLEdBQ1YsT0duQkwsU0FBeUJBLEVBQU95RSxHQUNuQyxPQUFPNUMsRUFBVTdCLEdBQU9ILEtBQUtzRixHQUFZVixHQUFZUyxHQUFVVCxHQUNuRSxDSGlCbUJjLENBQWdCdkYsRUFBT3lFLEdBRWxDLEdBQUlqRSxFQUFnQlIsR0FDaEIsT0FBT29GLEdBQXNCcEYsRUFBT3lFLEdBRXhDLEdBQUk3RCxFQUFXWixHQUNYLE9JeEJMLFNBQTBCQSxFQUFPeUUsR0FDcEMsT0FBTyxJQUFJLEdBQVcsU0FBVTlGLEdBQzVCLElBQUl0SSxFQXNCSixPQXJCQWtPLEdBQWdCNUYsRUFBWThGLEdBQVcsV0FDbkNwTyxFQUFXMkosRUFBTSxLQUNqQnVFLEdBQWdCNUYsRUFBWThGLEdBQVcsV0FDbkMsSUFBSXpLLEVBQ0F0RCxFQUNBRCxFQUNKLElBQzJCQyxHQUF0QnNELEVBQUszRCxFQUFTSCxRQUFtQlEsTUFBT0QsRUFBT3VELEVBQUd2RCxJQUN2RCxDQUNBLE1BQU9zQyxHQUVILFlBREE0RixFQUFXbkgsTUFBTXVCLEVBRXJCLENBQ0l0QyxFQUNBa0ksRUFBV2pCLFdBR1hpQixFQUFXekksS0FBS1EsRUFFeEIsR0FBRyxHQUFHLEVBQ1YsSUFDTyxXQUFjLE9BQU93QixFQUFXN0IsYUFBMkMsRUFBU0EsRUFBU21FLFNBQVduRSxFQUFTbUUsUUFBVSxDQUN0SSxHQUNKLENKRm1CZ0wsQ0FBaUJ4RixFQUFPeUUsR0FFbkMsR0FBSTdDLEVBQXFCNUIsR0FDckIsT0s3QkwsU0FBb0NBLEVBQU95RSxHQUM5QyxPQUFPVyxHQUFzQnZFLEVBQW1DYixHQUFReUUsRUFDNUUsQ0wyQm1CZ0IsQ0FBMkJ6RixFQUFPeUUsRUFFakQsQ0FDQSxNQUFNOUQsRUFBaUNYLEVBQzNDLENEaEN1QjBGLENBQVUxRixFQUFPeUUsR0FBYTVDLEVBQVU3QixFQUMvRCxDT0pPLE1BQU0yRixHQUFZLGtDQUNaQyxHQUFXLGlDQUNYLEdBQVUsZ0NBQ1ZDLEdBQWlCLENBQUVDLElBQUssUUFBU0MsSUFBSyxTLElDQ3ZDQyxHQ0VMLFNBQVNDLEdBQVNDLEdBQ3JCLE9BQU8sR0FBS0MsTUFBTVIsR0FBY08sR0FDM0I1RixNQUFLLFNBQUE4RixHQUNGLEdBQUlBLEVBQVFDLEdBR1IsT0FBUUQsRUFBUUUsT0FGaEIsTUFBTSxJQUFJL04sTUFBTSxxQkFHeEIsSUFDQ3VLLE9BQU0sU0FBQXRMLEdBQVMsT0FBQStPLFFBQVEvTyxNQUFNQSxFQUFkLElBRXhCLENBb0JPLFNBQVNnUCxHQUFtQkMsR0FDL0JOLE1BQU0sVUFBR1IsR0FBVyxZQUFJYyxFQUFNQyxJQUFNLENBQ2hDQyxPQUFRLE1BQ1JDLFFBQVMsQ0FDVCxlQUFnQixvQkFFcEJwUixLQUFNcVIsS0FBS0MsVUFBVUwsS0FDdEJuRyxNQUFLLFNBQUF5RyxHQUNKTixFQUFNTyxnQkFBZ0JQLEVBQ3RCLEdBQ0osQ0ErQ08sU0FBU1EsR0FBbUJDLEdBQy9CZixNQUFNLFVBQUcsR0FBUyxZQUFJZSxFQUFNUixJQUFNLENBQzlCQyxPQUFRLE1BQ1JDLFFBQVMsQ0FDTCxlQUFnQixvQkFFcEJwUixLQUFNcVIsS0FBS0MsVUFBVUksS0FDdEI1RyxNQUFLLFNBQUE2RyxHQUNKRCxFQUFNRSxnQkFBZ0JGLEVBQzFCLEdBQ0osQ0F5Q08sU0FBU0csR0FBb0JDLEdBQ2hDbkIsTUFBTSxVQUFHUCxHQUFVLFlBQUkwQixFQUFPWixJQUFNLENBQ2hDQyxPQUFRLE1BQ1JDLFFBQVMsQ0FDTCxlQUFnQixvQkFFcEJwUixLQUFNcVIsS0FBS0MsVUFBVVEsS0FDdEJoSCxNQUFLLFNBQUFpSCxHQUNKRCxFQUFPRSxpQkFBaUJGLEVBQzVCLEdBQ0osQ0FFTyxTQUFTRyxHQUFjQyxFQUFjQyxFQUFtQkMsR0FFM0QsSUFEa0JGLEVBQU1HLE9BQ2xCRCxFQUFLRSxZQUNIRixFQUFLRyxVQUFVQyxTQUFTTCxJQUN4QkMsRUFBS0ssWUFBWUwsRUFBS00sVUFHbEMsRUQvSkEsU0FBWWxDLEdBQ1Isb0JBQ0Esb0JBQ0EsdUJBQ0gsQ0FKRCxDQUFZQSxLQUFBQSxHQUFjLEtBTTFCLElFUEltQyxHRk9KLGNBU0ksV0FBWUMsRUFBK0JDLEVBQThDQyxFQUNyRmhMLEVBQWtDaUwsRUFBeUJDLEdBRTNCLGlCQUFsQkosR0FDTmpULEtBQUt1UixHQUFHMEIsRUFDUmpULEtBQUtzVCxPQUFPSixFQUNabFQsS0FBS3VULFVBQVVKLEVBQ2ZuVCxLQUFLd1QsWUFBWXJMLEVBQ2pCbkksS0FBS3lULGlCQUFpQkwsRUFDdEJwVCxLQUFLMFQsZ0JBQWdCTCxJQUdqQnJULEtBQUt1UixHQUFHMEIsRUFBYzFCLEdBQ3RCdlIsS0FBS3NULE9BQU9MLEVBQWNLLE9BQzFCdFQsS0FBS3VULFVBQVVOLEVBQWNNLFVBQzdCdlQsS0FBS3dULFlBQVksSUFBSUcsT0FBT0MsS0FBS0MsT0FBT1osRUFBY08sYUFDdER4VCxLQUFLeVQsaUJBQWlCUixFQUFjUSxpQkFDcEN6VCxLQUFLMFQsZ0JBQWdCVCxFQUFjUyxnQkFHbkQsQ0FxREosT0FuREksWUFBQUksY0FBQSxTQUFjdkMsRUFBWTJCLEVBQTZDQyxFQUMvRGhMLEVBQWlDaUwsRUFBd0JDLEdBRXJDLElBQUlVLEVBQU14QyxFQUFJMkIsRUFBUUMsRUFBV2hMLEVBQWFpTCxFQUFnQkMsR0FDdEZ2QixHQUFtQjlSLEtBQ3ZCLEVBRUEsWUFBQWlTLGdCQUFBLFNBQWdCRCxHQUNSQSxFQUFhdFMsZUFBZSxZQUM5Qk0sS0FBS3NULE9BQVN0QixFQUFhc0IsUUFFekJ0QixFQUFhdFMsZUFBZSxlQUM5Qk0sS0FBS3VULFVBQVl2QixFQUFhdUIsV0FFNUJ2QixFQUFhdFMsZUFBZSxpQkFDOUJNLEtBQUt3VCxZQUFjeEIsRUFBYXdCLGFBRS9CeEIsRUFBYXRTLGVBQWUsc0JBQzNCTSxLQUFLeVQsaUJBQW1CekIsRUFBYXlCLGtCQUV0Q3pCLEVBQWF0UyxlQUFlLHFCQUMzQk0sS0FBSzBULGdCQUFrQjFCLEVBQWEwQixnQkFFNUMsRUFHQSxZQUFBTSxVQUFBLFNBQVVDLEVBQW9CQyxHQUE5QixXQUVRQyxFQUF1QkYsRUFBVUcsTUFBSyxTQUFBOUMsR0FBUyxNQUFlLFNBQWZBLEVBQU1nQyxRQUFtQmhDLEVBQU0rQyxVQUFVLEVBQUtkLFNBQTlDLElBQy9DSCxFQUF5QmMsRUFBV0UsTUFBSyxTQUFBakMsR0FBVSxNQUFnQixjQUFoQkEsRUFBT21CLE1BQVAsSUFHdkRhLEVBQWNiLE9BQU8sWUFDckJhLEVBQWNHLEtBQUt0VSxLQUFLdVQsVUFDeEJZLEVBQWNJLGlCQUFpQixJQUFJWixPQUFPQyxLQUFLQyxPQUFPN1QsS0FBS3dULGFBRTNESixFQUFlRSxPQUFPLFNBQ3RCRixFQUFlb0Isa0JBQWtCTCxFQUFjNUMsR0FFL0N2UixLQUFLc1QsT0FBTyxVQUNadFQsS0FBSzBULGdCQUFnQlMsRUFBYzVDLEdBQ25DdlIsS0FBS3lULGlCQUFpQkwsRUFBZTdCLEdBRXJDRixHQUFtQjhDLEdBQ25CakMsR0FBb0JrQixHQUNwQnRCLEdBQW1COVIsS0FDdkIsRUFFQSxZQUFBeVUseUJBQUEsV0FDSXpVLEtBQUtzVCxPQUFPLFdBQ2hCLEVBQ0osRUFsRkEsR0VVTyxTQUFTb0IsR0FBV3BELEdBRXZCLElBQU1xRCxFQUFRLElBQUloQixPQUFPQyxLQUFLZ0IsSUFBSUMsU0FBU0MsZUFBZSxPQUN0RCxDQUNJQyxPQUFRckUsR0FDUnNFLEtBQU0sSUFHZGhDLEdBQXdCLElBQUlXLE9BQU9DLEtBQUtxQixPQUFPLENBQzNDQyxTQUFVNUQsRUFBTTZELGdCQUNoQnhSLElBQUtnUixJQUdvQixJQUFJaEIsT0FBT0MsS0FBS3FCLE9BQU8sQ0FDaERDLFNBQVU1RCxFQUFNaUQsaUJBQ2hCNVEsSUFBS2dSLElBR1RTLGFBQVksV0FDUnBDLEdBQXNCcUMsWUFBWS9ELEVBQU02RCxpQkFDeEMvRCxRQUFRa0UsSUFBSSxRQUFTaEUsRUFBTTZELGdCQUFnQnhFLE1BQy9DLEdBQUcsSUFDUCxDQzFDQSxJQUFJLEdBQVVwUixNQUFNeUYsUUFDaEJ1USxHQUFpQm5XLE9BQU9tVyxlQUFnQkMsR0FBY3BXLE9BQU9LLFVBQVdnVyxHQUFVclcsT0FBT3NXLEtDQ3RGLFNBQVMvUixHQUFJZ1MsRUFBU3ZWLEdBQ3pCLE9BQU91UCxJQUFRLFNBQVUxRixFQUFRVCxHQUM3QixJQUFJckYsRUFBUSxFQUNaOEYsRUFBT0osVUFBVStELEVBQXlCcEUsR0FBWSxTQUFVakksR0FDNURpSSxFQUFXekksS0FBSzRVLEVBQVFoVyxLQUFLUyxFQUFTbUIsRUFBTzRDLEtBQ2pELElBQ0osR0FDSixDQ1BBLElBQUksR0FBVTVFLE1BQU15RixRQ0RiLElBQUk0USxHQUEwQjVTLEdBQWlCLFNBQVVRLEdBQzVELE9BQU8sV0FDSEEsRUFBT3hELE1BQ1BBLEtBQUsrRCxLQUFPLDBCQUNaL0QsS0FBSzBELFFBQVUscUJBQ25CLENBQ0osSUNESW1TLEdBQVcsU0FBVXJTLEdBRXJCLFNBQVNxUyxJQUNMLElBQUl6TixFQUFRNUUsRUFBTzdELEtBQUtLLE9BQVNBLEtBT2pDLE9BTkFvSSxFQUFNNUQsUUFBUyxFQUNmNEQsRUFBTTBOLGlCQUFtQixLQUN6QjFOLEVBQU0yTixVQUFZLEdBQ2xCM04sRUFBTUMsV0FBWSxFQUNsQkQsRUFBTTROLFVBQVcsRUFDakI1TixFQUFNNk4sWUFBYyxLQUNiN04sQ0FDWCxDQWtIQSxPQTVIQXhJLEVBQVVpVyxFQUFTclMsR0FXbkJxUyxFQUFRcFcsVUFBVXNLLEtBQU8sU0FBVUMsR0FDL0IsSUFBSWtNLEVBQVUsSUFBSUMsR0FBaUJuVyxLQUFNQSxNQUV6QyxPQURBa1csRUFBUWxNLFNBQVdBLEVBQ1prTSxDQUNYLEVBQ0FMLEVBQVFwVyxVQUFVMlcsZUFBaUIsV0FDL0IsR0FBSXBXLEtBQUt3RSxPQUNMLE1BQU0sSUFBSW9SLEVBRWxCLEVBQ0FDLEVBQVFwVyxVQUFVc0IsS0FBTyxTQUFVUSxHQUMvQixJQUFJNkcsRUFBUXBJLEtBQ1o4SCxHQUFhLFdBQ1QsSUFBSWxELEVBQUtDLEVBRVQsR0FEQXVELEVBQU1nTyxrQkFDRGhPLEVBQU1DLFVBQVcsQ0FDYkQsRUFBTTBOLG1CQUNQMU4sRUFBTTBOLGlCQUFtQnZXLE1BQU1pRCxLQUFLNEYsRUFBTTJOLFlBRTlDLElBQ0ksSUFBSyxJQUFJaFIsRUFBS2xELEVBQVN1RyxFQUFNME4sa0JBQW1CTyxFQUFLdFIsRUFBR2hFLFFBQVNzVixFQUFHL1UsS0FBTStVLEVBQUt0UixFQUFHaEUsT0FDL0RzVixFQUFHOVUsTUFDVFIsS0FBS1EsRUFFdEIsQ0FDQSxNQUFPNkQsR0FBU1IsRUFBTSxDQUFFdkMsTUFBTytDLEVBQVMsQ0FDeEMsUUFDSSxJQUNRaVIsSUFBT0EsRUFBRy9VLE9BQVN1RCxFQUFLRSxFQUFHTSxTQUFTUixFQUFHbEYsS0FBS29GLEVBQ3BELENBQ0EsUUFBVSxHQUFJSCxFQUFLLE1BQU1BLEVBQUl2QyxLQUFPLENBQ3hDLENBQ0osQ0FDSixHQUNKLEVBQ0F3VCxFQUFRcFcsVUFBVTRDLE1BQVEsU0FBVXVCLEdBQ2hDLElBQUl3RSxFQUFRcEksS0FDWjhILEdBQWEsV0FFVCxHQURBTSxFQUFNZ08sa0JBQ0RoTyxFQUFNQyxVQUFXLENBQ2xCRCxFQUFNNE4sU0FBVzVOLEVBQU1DLFdBQVksRUFDbkNELEVBQU02TixZQUFjclMsRUFFcEIsSUFEQSxJQUFJbVMsRUFBWTNOLEVBQU0yTixVQUNmQSxFQUFVdFUsUUFDYnNVLEVBQVU1SixRQUFROUosTUFBTXVCLEVBRWhDLENBQ0osR0FDSixFQUNBaVMsRUFBUXBXLFVBQVU4SSxTQUFXLFdBQ3pCLElBQUlILEVBQVFwSSxLQUNaOEgsR0FBYSxXQUVULEdBREFNLEVBQU1nTyxrQkFDRGhPLEVBQU1DLFVBQVcsQ0FDbEJELEVBQU1DLFdBQVksRUFFbEIsSUFEQSxJQUFJME4sRUFBWTNOLEVBQU0yTixVQUNmQSxFQUFVdFUsUUFDYnNVLEVBQVU1SixRQUFRNUQsVUFFMUIsQ0FDSixHQUNKLEVBQ0FzTixFQUFRcFcsVUFBVWtGLFlBQWMsV0FDNUIzRSxLQUFLcUksVUFBWXJJLEtBQUt3RSxRQUFTLEVBQy9CeEUsS0FBSytWLFVBQVkvVixLQUFLOFYsaUJBQW1CLElBQzdDLEVBQ0ExVyxPQUFPa1gsZUFBZVQsRUFBUXBXLFVBQVcsV0FBWSxDQUNqRDhXLElBQUssV0FDRCxJQUFJMVIsRUFDSixPQUFrQyxRQUF6QkEsRUFBSzdFLEtBQUsrVixpQkFBOEIsSUFBUGxSLE9BQWdCLEVBQVNBLEVBQUdwRCxRQUFVLENBQ3BGLEVBQ0ErVSxZQUFZLEVBQ1pDLGNBQWMsSUFFbEJaLEVBQVFwVyxVQUFVMEssY0FBZ0IsU0FBVVgsR0FFeEMsT0FEQXhKLEtBQUtvVyxpQkFDRTVTLEVBQU8vRCxVQUFVMEssY0FBY3hLLEtBQUtLLEtBQU13SixFQUNyRCxFQUNBcU0sRUFBUXBXLFVBQVVxSyxXQUFhLFNBQVVOLEdBR3JDLE9BRkF4SixLQUFLb1csaUJBQ0xwVyxLQUFLMFcsd0JBQXdCbE4sR0FDdEJ4SixLQUFLMlcsZ0JBQWdCbk4sRUFDaEMsRUFDQXFNLEVBQVFwVyxVQUFVa1gsZ0JBQWtCLFNBQVVuTixHQUMxQyxJQUFJcEIsRUFBUXBJLEtBQ1I2RSxFQUFLN0UsS0FBTWdXLEVBQVduUixFQUFHbVIsU0FBVTNOLEVBQVl4RCxFQUFHd0QsVUFBVzBOLEVBQVlsUixFQUFHa1IsVUFDaEYsT0FBSUMsR0FBWTNOLEVBQ0xoQyxHQUVYckcsS0FBSzhWLGlCQUFtQixLQUN4QkMsRUFBVXJVLEtBQUs4SCxHQUNSLElBQUlsRixHQUFhLFdBQ3BCOEQsRUFBTTBOLGlCQUFtQixLQUN6QjlSLEVBQVUrUixFQUFXdk0sRUFDekIsSUFDSixFQUNBcU0sRUFBUXBXLFVBQVVpWCx3QkFBMEIsU0FBVWxOLEdBQ2xELElBQUkzRSxFQUFLN0UsS0FBTWdXLEVBQVduUixFQUFHbVIsU0FBVUMsRUFBY3BSLEVBQUdvUixZQUFhNU4sRUFBWXhELEVBQUd3RCxVQUNoRjJOLEVBQ0F4TSxFQUFXbkgsTUFBTTRULEdBRVo1TixHQUNMbUIsRUFBV2pCLFVBRW5CLEVBQ0FzTixFQUFRcFcsVUFBVW1YLGFBQWUsV0FDN0IsSUFBSW5OLEVBQWEsSUFBSSxFQUVyQixPQURBQSxFQUFXUSxPQUFTakssS0FDYnlKLENBQ1gsRUFDQW9NLEVBQVEzVixPQUFTLFNBQVVpSSxFQUFhOEIsR0FDcEMsT0FBTyxJQUFJa00sR0FBaUJoTyxFQUFhOEIsRUFDN0MsRUFDTzRMLENBQ1gsQ0E5SGMsQ0E4SFosR0FFRU0sR0FBb0IsU0FBVTNTLEdBRTlCLFNBQVMyUyxFQUFpQmhPLEVBQWE4QixHQUNuQyxJQUFJN0IsRUFBUTVFLEVBQU83RCxLQUFLSyxPQUFTQSxLQUdqQyxPQUZBb0ksRUFBTUQsWUFBY0EsRUFDcEJDLEVBQU02QixPQUFTQSxFQUNSN0IsQ0FDWCxDQWlCQSxPQXZCQXhJLEVBQVV1VyxFQUFrQjNTLEdBTzVCMlMsRUFBaUIxVyxVQUFVc0IsS0FBTyxTQUFVUSxHQUN4QyxJQUFJc0QsRUFBSUUsRUFDd0UsUUFBL0VBLEVBQWlDLFFBQTNCRixFQUFLN0UsS0FBS21JLG1CQUFnQyxJQUFQdEQsT0FBZ0IsRUFBU0EsRUFBRzlELFlBQXlCLElBQVBnRSxHQUF5QkEsRUFBR3BGLEtBQUtrRixFQUFJdEQsRUFDakksRUFDQTRVLEVBQWlCMVcsVUFBVTRDLE1BQVEsU0FBVXVCLEdBQ3pDLElBQUlpQixFQUFJRSxFQUN5RSxRQUFoRkEsRUFBaUMsUUFBM0JGLEVBQUs3RSxLQUFLbUksbUJBQWdDLElBQVB0RCxPQUFnQixFQUFTQSxFQUFHeEMsYUFBMEIsSUFBUDBDLEdBQXlCQSxFQUFHcEYsS0FBS2tGLEVBQUlqQixFQUNsSSxFQUNBdVMsRUFBaUIxVyxVQUFVOEksU0FBVyxXQUNsQyxJQUFJMUQsRUFBSUUsRUFDNEUsUUFBbkZBLEVBQWlDLFFBQTNCRixFQUFLN0UsS0FBS21JLG1CQUFnQyxJQUFQdEQsT0FBZ0IsRUFBU0EsRUFBRzBELGdCQUE2QixJQUFQeEQsR0FBeUJBLEVBQUdwRixLQUFLa0YsRUFDakksRUFDQXNSLEVBQWlCMVcsVUFBVXFLLFdBQWEsU0FBVU4sR0FDOUMsSUFBSTNFLEVBQUlFLEVBQ1IsT0FBbUcsUUFBM0ZBLEVBQTRCLFFBQXRCRixFQUFLN0UsS0FBS2lLLGNBQTJCLElBQVBwRixPQUFnQixFQUFTQSxFQUFHZ0YsVUFBVUwsVUFBZ0MsSUFBUHpFLEVBQWdCQSxFQUFLc0IsQ0FDcEksRUFDTzhQLENBQ1gsQ0F6QnVCLENBeUJyQk4sSUM3SkVnQixHQUFVLFNBQVVyVCxHQUVwQixTQUFTcVQsRUFBT3ZILEVBQVdDLEdBQ3ZCLE9BQU8vTCxFQUFPN0QsS0FBS0ssT0FBU0EsSUFDaEMsQ0FLQSxPQVJBSixFQUFVaVgsRUFBUXJULEdBSWxCcVQsRUFBT3BYLFVBQVU0TyxTQUFXLFNBQVV5SSxFQUFPdEgsR0FFekMsWUFEYyxJQUFWQSxJQUFvQkEsRUFBUSxHQUN6QnhQLElBQ1gsRUFDTzZXLENBQ1gsQ0FWYSxDQVVYdlMsR0NYU3lTLEdBQW1CLENBQzFCM0IsWUFBYSxTQUFVcE8sRUFBU0MsR0FFNUIsSUFEQSxJQUFJQyxFQUFPLEdBQ0ZDLEVBQUssRUFBR0EsRUFBS3pFLFVBQVVqQixPQUFRMEYsSUFDcENELEVBQUtDLEVBQUssR0FBS3pFLFVBQVV5RSxHQUU3QixJQUFJQyxFQUFXMlAsR0FBaUIzUCxTQUNoQyxPQUFJQSxhQUEyQyxFQUFTQSxFQUFTZ08sYUFDdERoTyxFQUFTZ08sWUFBWS9OLE1BQU1ELEVBQVU5RSxFQUFjLENBQUMwRSxFQUFTQyxHQUFVL0UsRUFBT2dGLEtBRWxGa08sWUFBWS9OLFdBQU0sRUFBUS9FLEVBQWMsQ0FBQzBFLEVBQVNDLEdBQVUvRSxFQUFPZ0YsSUFDOUUsRUFDQThQLGNBQWUsU0FBVXpQLEdBQ3JCLElBQUlILEVBQVcyUCxHQUFpQjNQLFNBQ2hDLFFBQVNBLGFBQTJDLEVBQVNBLEVBQVM0UCxnQkFBa0JBLGVBQWV6UCxFQUMzRyxFQUNBSCxjQUFVVCxHQ2JWc1EsR0FBZSxTQUFVelQsR0FFekIsU0FBU3lULEVBQVkzSCxFQUFXQyxHQUM1QixJQUFJbkgsRUFBUTVFLEVBQU83RCxLQUFLSyxLQUFNc1AsRUFBV0MsSUFBU3ZQLEtBSWxELE9BSEFvSSxFQUFNa0gsVUFBWUEsRUFDbEJsSCxFQUFNbUgsS0FBT0EsRUFDYm5ILEVBQU04TyxTQUFVLEVBQ1Q5TyxDQUNYLENBMEVBLE9BakZBeEksRUFBVXFYLEVBQWF6VCxHQVF2QnlULEVBQVl4WCxVQUFVNE8sU0FBVyxTQUFVeUksRUFBT3RILEdBQzlDLElBQUkzSyxFQUVKLFFBRGMsSUFBVjJLLElBQW9CQSxFQUFRLEdBQzVCeFAsS0FBS3dFLE9BQ0wsT0FBT3hFLEtBRVhBLEtBQUs4VyxNQUFRQSxFQUNiLElBQUl2RixFQUFLdlIsS0FBS3VSLEdBQ1ZqQyxFQUFZdFAsS0FBS3NQLFVBT3JCLE9BTlUsTUFBTmlDLElBQ0F2UixLQUFLdVIsR0FBS3ZSLEtBQUttWCxlQUFlN0gsRUFBV2lDLEVBQUkvQixJQUVqRHhQLEtBQUtrWCxTQUFVLEVBQ2ZsWCxLQUFLd1AsTUFBUUEsRUFDYnhQLEtBQUt1UixHQUF3QixRQUFsQjFNLEVBQUs3RSxLQUFLdVIsVUFBdUIsSUFBUDFNLEVBQWdCQSxFQUFLN0UsS0FBS29YLGVBQWU5SCxFQUFXdFAsS0FBS3VSLEdBQUkvQixHQUMzRnhQLElBQ1gsRUFDQWlYLEVBQVl4WCxVQUFVMlgsZUFBaUIsU0FBVTlILEVBQVcrSCxFQUFLN0gsR0FFN0QsWUFEYyxJQUFWQSxJQUFvQkEsRUFBUSxHQUN6QnVILEdBQWlCM0IsWUFBWTlGLEVBQVVnSSxNQUFNdE8sS0FBS3NHLEVBQVd0UCxNQUFPd1AsRUFDL0UsRUFDQXlILEVBQVl4WCxVQUFVMFgsZUFBaUIsU0FBVUksRUFBWWhHLEVBQUkvQixHQUU3RCxRQURjLElBQVZBLElBQW9CQSxFQUFRLEdBQ25CLE1BQVRBLEdBQWlCeFAsS0FBS3dQLFFBQVVBLElBQTBCLElBQWpCeFAsS0FBS2tYLFFBQzlDLE9BQU8zRixFQUVELE1BQU5BLEdBQ0F3RixHQUFpQkMsY0FBY3pGLEVBR3ZDLEVBQ0EwRixFQUFZeFgsVUFBVStYLFFBQVUsU0FBVVYsRUFBT3RILEdBQzdDLEdBQUl4UCxLQUFLd0UsT0FDTCxPQUFPLElBQUlwQixNQUFNLGdDQUVyQnBELEtBQUtrWCxTQUFVLEVBQ2YsSUFBSTdVLEVBQVFyQyxLQUFLeVgsU0FBU1gsRUFBT3RILEdBQ2pDLEdBQUluTixFQUNBLE9BQU9BLEdBRWUsSUFBakJyQyxLQUFLa1gsU0FBZ0MsTUFBWGxYLEtBQUt1UixLQUNwQ3ZSLEtBQUt1UixHQUFLdlIsS0FBS21YLGVBQWVuWCxLQUFLc1AsVUFBV3RQLEtBQUt1UixHQUFJLE1BRS9ELEVBQ0EwRixFQUFZeFgsVUFBVWdZLFNBQVcsU0FBVVgsRUFBT1ksR0FDOUMsSUFDSUMsRUFEQUMsR0FBVSxFQUVkLElBQ0k1WCxLQUFLdVAsS0FBS3VILEVBQ2QsQ0FDQSxNQUFPblYsR0FDSGlXLEdBQVUsRUFDVkQsRUFBYWhXLEdBQVEsSUFBSXlCLE1BQU0scUNBQ25DLENBQ0EsR0FBSXdVLEVBRUEsT0FEQTVYLEtBQUsyRSxjQUNFZ1QsQ0FFZixFQUNBVixFQUFZeFgsVUFBVWtGLFlBQWMsV0FDaEMsSUFBSzNFLEtBQUt3RSxPQUFRLENBQ2QsSUFBZStNLEVBQU52UixLQUFjdVIsR0FBSWpDLEVBQWxCdFAsS0FBaUNzUCxVQUN0Q3VJLEVBQVV2SSxFQUFVdUksUUFDeEI3WCxLQUFLdVAsS0FBT3ZQLEtBQUs4VyxNQUFROVcsS0FBS3NQLFVBQVksS0FDMUN0UCxLQUFLa1gsU0FBVSxFQUNmbFQsRUFBVTZULEVBQVM3WCxNQUNULE1BQU51UixJQUNBdlIsS0FBS3VSLEdBQUt2UixLQUFLbVgsZUFBZTdILEVBQVdpQyxFQUFJLE9BRWpEdlIsS0FBS3dQLE1BQVEsS0FDYmhNLEVBQU8vRCxVQUFVa0YsWUFBWWhGLEtBQUtLLEtBQ3RDLENBQ0osRUFDT2lYLENBQ1gsQ0FuRmtCLENBbUZoQkosSUN2RlNpQixHQUF3QixDQUMvQkMsSUFBSyxXQUNELE9BQVFELEdBQXNCMVEsVUFBWTRRLE1BQU1ELEtBQ3BELEVBQ0EzUSxjQUFVVCxHQ0hWc1IsR0FBYSxXQUNiLFNBQVNBLEVBQVVDLEVBQXFCSCxRQUN4QixJQUFSQSxJQUFrQkEsRUFBTUUsRUFBVUYsS0FDdEMvWCxLQUFLa1ksb0JBQXNCQSxFQUMzQmxZLEtBQUsrWCxJQUFNQSxDQUNmLENBTUEsT0FMQUUsRUFBVXhZLFVBQVU0TyxTQUFXLFNBQVVrQixFQUFNQyxFQUFPc0gsR0FFbEQsWUFEYyxJQUFWdEgsSUFBb0JBLEVBQVEsR0FDekIsSUFBSXhQLEtBQUtrWSxvQkFBb0JsWSxLQUFNdVAsR0FBTWxCLFNBQVN5SSxFQUFPdEgsRUFDcEUsRUFDQXlJLEVBQVVGLElBQU1ELEdBQXNCQyxJQUMvQkUsQ0FDWCxDQVpnQixHQ0NMRSxHQUFpQixJQ0FOLFNBQVUzVSxHQUU1QixTQUFTNFUsRUFBZUMsRUFBaUJOLFFBQ3pCLElBQVJBLElBQWtCQSxFQUFNRSxHQUFVRixLQUN0QyxJQUFJM1AsRUFBUTVFLEVBQU83RCxLQUFLSyxLQUFNcVksRUFBaUJOLElBQVEvWCxLQUd2RCxPQUZBb0ksRUFBTXlQLFFBQVUsR0FDaEJ6UCxFQUFNa1EsU0FBVSxFQUNUbFEsQ0FDWCxDQXNCQSxPQTdCQXhJLEVBQVV3WSxFQUFnQjVVLEdBUTFCNFUsRUFBZTNZLFVBQVU2WCxNQUFRLFNBQVVpQixHQUN2QyxJQUFJVixFQUFVN1gsS0FBSzZYLFFBQ25CLEdBQUk3WCxLQUFLc1ksUUFDTFQsRUFBUW5XLEtBQUs2VyxPQURqQixDQUlBLElBQUlsVyxFQUNKckMsS0FBS3NZLFNBQVUsRUFDZixHQUNJLEdBQUtqVyxFQUFRa1csRUFBT2YsUUFBUWUsRUFBT3pCLE1BQU95QixFQUFPL0ksT0FDN0MsWUFFRStJLEVBQVNWLEVBQVExTCxTQUUzQixHQURBbk0sS0FBS3NZLFNBQVUsRUFDWGpXLEVBQU8sQ0FDUCxLQUFRa1csRUFBU1YsRUFBUTFMLFNBQ3JCb00sRUFBTzVULGNBRVgsTUFBTXRDLENBQ1YsQ0FkQSxDQWVKLEVBQ08rVixDQUNYLENBL0JxQixDQStCbkJILElEL0IwQixDQUFtQmhCLElBQ3BDLEdBQVFrQixHRURaLFNBQVNLLEdBQVNDLEVBQVFuSixHQU03QixZQUxlLElBQVhtSixJQUFxQkEsRUFBUyxRQUNoQixJQUFkbkosSUFBd0JBLEVBQVk2SSxJQUNwQ00sRUFBUyxJQUNUQSxFQUFTLEdDRlYsU0FBZUMsRUFBU0MsRUFBcUJySixRQUNoQyxJQUFab0osSUFBc0JBLEVBQVUsUUFDbEIsSUFBZHBKLElBQXdCQSxFQUFZLElBQ3hDLElBQUlzSixHQUFvQixFQVN4QixPQVIyQixNQUF2QkQsSUFDSXZLLEVBQVl1SyxHQUNackosRUFBWXFKLEVBR1pDLEVBQW1CRCxHQUdwQixJQUFJLEdBQVcsU0FBVW5QLEdBQzVCLElDakJvQmpJLEVEaUJoQnNYLEdDakJnQnRYLEVEaUJFbVgsYUNoQkZWLE9BQVNjLE1BQU12WCxJRGdCRG1YLEVBQVVwSixFQUFVeUksTUFBUVcsRUFDMURHLEVBQU0sSUFDTkEsRUFBTSxHQUVWLElBQUkxWCxFQUFJLEVBQ1IsT0FBT21PLEVBQVVqQixVQUFTLFdBQ2pCN0UsRUFBV2hGLFNBQ1pnRixFQUFXekksS0FBS0ksS0FDWixHQUFLeVgsRUFDTDVZLEtBQUtxTyxjQUFTMUgsRUFBV2lTLEdBR3pCcFAsRUFBV2pCLFdBR3ZCLEdBQUdzUSxFQUNQLEdBQ0osQ0QxQldFLENBQU1OLEVBQVFBLEVBQVFuSixFQUNqQyxDR0xPLFNBQVMwSixHQUFVQyxHQUN0QixPQUFPdEosSUFBUSxTQUFVMUYsRUFBUVQsR0FDN0JrRCxFQUFVdU0sR0FBVXBQLFVBQVUrRCxFQUF5QnBFLEdBQVksV0FBYyxPQUFPQSxFQUFXakIsVUFBWSxHQUFHZCxLQUNqSCtCLEVBQVdoRixRQUFVeUYsRUFBT0osVUFBVUwsRUFDM0MsR0FDSixDQ0pPLFNBQVMwUCxHQUFTdkQsRUFBU2pILEVBQWdCeUssR0FFOUMsWUFEbUIsSUFBZkEsSUFBeUJBLEVBQWFDLEtBQ3RDclcsRUFBVzJMLEdBQ0p3SyxJQUFTLFNBQVVuTixFQUFHOUosR0FBSyxPQUFPMEIsSUFBSSxTQUFVeEUsRUFBR2thLEdBQU0sT0FBTzNLLEVBQWUzQyxFQUFHNU0sRUFBRzhDLEVBQUdvWCxFQUFLLEdBQTNEMVYsQ0FBOEQrSSxFQUFVaUosRUFBUTVKLEVBQUc5SixJQUFNLEdBQUdrWCxJQUV0RyxpQkFBbkJ6SyxJQUNaeUssRUFBYXpLLEdBRVZpQixJQUFRLFNBQVUxRixFQUFRVCxHQUFjLE9DVjVDLFNBQXdCUyxFQUFRVCxFQUFZbU0sRUFBU3dELEVBQVlHLEVBQWNDLEVBQVFDLEVBQW1CQyxHQUM3RyxJQUFJdkssRUFBUyxHQUNUd0ssRUFBUyxFQUNUdlYsRUFBUSxFQUNSd1YsR0FBYSxFQUNiQyxFQUFnQixZQUNaRCxHQUFlekssRUFBT3pOLFFBQVdpWSxHQUNqQ2xRLEVBQVdqQixVQUVuQixFQUNJc1IsRUFBWSxTQUFVdFksR0FBUyxPQUFRbVksRUFBU1AsRUFBYVcsRUFBV3ZZLEdBQVMyTixFQUFPeE4sS0FBS0gsRUFBUyxFQUN0R3VZLEVBQWEsU0FBVXZZLEdBRXZCbVksSUFDQSxJQUFJSyxHQUFnQixFQUNwQnJOLEVBQVVpSixFQUFRcFUsRUFBTzRDLE1BQVUwRixVQUFVK0QsRUFBeUJwRSxHQUFZLFNBQVV3USxHQU1wRnhRLEVBQVd6SSxLQUFLaVosRUFFeEIsSUFBRyxXQUNDRCxHQUFnQixDQUNwQixRQUFHcFQsR0FBVyxXQUNWLEdBQUlvVCxFQUNBLElBQ0lMLElBVUEsS0FBT3hLLEVBQU96TixRQUFVaVksRUFBU1AsR0FSekJjLFdBQWdCL0ssRUFBTy9DLFFBS3ZCMk4sRUFBV0csR0FNbkJMLEdBQ0osQ0FDQSxNQUFPaFcsR0FDSDRGLEVBQVduSCxNQUFNdUIsRUFDckIsQ0FoQmtCLElBQ05xVyxDQWlCcEIsSUFDSixFQUtBLE9BSkFoUSxFQUFPSixVQUFVK0QsRUFBeUJwRSxFQUFZcVEsR0FBVyxXQUM3REYsR0FBYSxFQUNiQyxHQUNKLEtBQ08sV0FFUCxDQUNKLENEOUMwRE0sQ0FBZWpRLEVBQVFULEVBQVltTSxFQUFTd0QsRUFBYSxJQUNuSCxDRWJPLFNBQVNnQixLQUNaLFlDQ21CLEtBREVoQixFREFMLEtDQ2FBLEVBQWFDLEtBQ25DRixHQUFTeFAsRUFBVXlQLEdBRnZCLElBQWtCQSxDREN6QixDRUFPLFNBQVN0VyxLQUVaLElBREEsSUFBSXFFLEVBQU8sR0FDRkMsRUFBSyxFQUFHQSxFQUFLekUsVUFBVWpCLE9BQVEwRixJQUNwQ0QsRUFBS0MsR0FBTXpFLFVBQVV5RSxHQUV6QixPQUFPZ1QsS0FBWSxHQUFLalQsRUFBTXNILEVBQWF0SCxJQUMvQyxDQ0xPLFNBQVNrVCxHQUFJL1EsRUFBZ0JoSCxFQUFPa0csR0FDdkMsSUFBSThSLEVBQWN0WCxFQUFXc0csSUFBbUJoSCxHQUFTa0csRUFFakQsQ0FBRXhILEtBQU1zSSxFQUFnQmhILE1BQU9BLEVBQU9rRyxTQUFVQSxHQUNsRGMsRUFDTixPQUFPZ1IsRUFDRDFLLElBQVEsU0FBVTFGLEVBQVFULEdBQ3hCLElBQUkzRSxFQUM2QixRQUFoQ0EsRUFBS3dWLEVBQVl4USxpQkFBOEIsSUFBUGhGLEdBQXlCQSxFQUFHbEYsS0FBSzBhLEdBQzFFLElBQUlDLEdBQVUsRUFDZHJRLEVBQU9KLFVBQVUrRCxFQUF5QnBFLEdBQVksU0FBVWpJLEdBQzVELElBQUlzRCxFQUN3QixRQUEzQkEsRUFBS3dWLEVBQVl0WixZQUF5QixJQUFQOEQsR0FBeUJBLEVBQUdsRixLQUFLMGEsRUFBYTlZLEdBQ2xGaUksRUFBV3pJLEtBQUtRLEVBQ3BCLElBQUcsV0FDQyxJQUFJc0QsRUFDSnlWLEdBQVUsRUFDc0IsUUFBL0J6VixFQUFLd1YsRUFBWTlSLGdCQUE2QixJQUFQMUQsR0FBeUJBLEVBQUdsRixLQUFLMGEsR0FDekU3USxFQUFXakIsVUFDZixJQUFHLFNBQVUzRSxHQUNULElBQUlpQixFQUNKeVYsR0FBVSxFQUNtQixRQUE1QnpWLEVBQUt3VixFQUFZaFksYUFBMEIsSUFBUHdDLEdBQXlCQSxFQUFHbEYsS0FBSzBhLEVBQWF6VyxHQUNuRjRGLEVBQVduSCxNQUFNdUIsRUFDckIsSUFBRyxXQUNDLElBQUlpQixFQUFJRSxFQUNKdVYsSUFDbUMsUUFBbEN6VixFQUFLd1YsRUFBWTFWLG1CQUFnQyxJQUFQRSxHQUF5QkEsRUFBR2xGLEtBQUswYSxJQUVoRCxRQUEvQnRWLEVBQUtzVixFQUFZRSxnQkFBNkIsSUFBUHhWLEdBQXlCQSxFQUFHcEYsS0FBSzBhLEVBQzdFLElBQ0osSUFFSTNRLENBQ1osQ0NsQ08sU0FBUzhRLEdBQVV2QixHQUN0QixPQUFPdEosSUFBUSxTQUFVMUYsRUFBUVQsR0FDN0IsSUFBSWlSLEdBQVMsRUFDVEMsRUFBaUI5TSxFQUF5QnBFLEdBQVksV0FDdERrUixTQUFnRUEsRUFBZS9WLGNBQy9FOFYsR0FBUyxDQUNiLEdBQUdoVCxHQUNIaUYsRUFBVXVNLEdBQVVwUCxVQUFVNlEsR0FDOUJ6USxFQUFPSixVQUFVK0QsRUFBeUJwRSxHQUFZLFNBQVVqSSxHQUFTLE9BQU9rWixHQUFValIsRUFBV3pJLEtBQUtRLEVBQVEsSUFDdEgsR0FDSixDQ1pPLFNBQVNvWixLQUVaLElBREEsSUFBSXpULEVBQU8sR0FDRkMsRUFBSyxFQUFHQSxFQUFLekUsVUFBVWpCLE9BQVEwRixJQUNwQ0QsRUFBS0MsR0FBTXpFLFVBQVV5RSxHQUd6QixPQUFPLEdBQUtELEVBRElzSCxFQUFhdEgsR0FFakMsQ0NOTyxTQUFTMFQsS0FFWixJQURBLElBQUlDLEVBQVMsR0FDSjFULEVBQUssRUFBR0EsRUFBS3pFLFVBQVVqQixPQUFRMEYsSUFDcEMwVCxFQUFPMVQsR0FBTXpFLFVBQVV5RSxHQUUzQixPQUFPLFNBQVU4QyxHQUFVLE9BQU9wSCxHQUFPb0gsRUFBUTBRLEdBQUd0VCxXQUFNLEVBQVEvRSxFQUFjLEdBQUlKLEVBQU8yWSxLQUFZLENBQzNHLEMsSUNQWUMsSUFBWixTQUFZQSxHQUNSLDZCQUNBLHVCQUNBLHdCQUNILENBSkQsQ0FBWUEsS0FBQUEsR0FBWSxLQWN4QixJQ1ZZQyxHRFVaLGNBWUksV0FBWUMsR0FDSmhiLEtBQUt1UixHQUFLeUosRUFBV3pKLEdBQ3JCdlIsS0FBS2liLFNBQVNELEVBQVdDLFNBQ3pCamIsS0FBS2tiLFlBQVlGLEVBQVdFLFlBQzVCbGIsS0FBS21iLE1BQU1ILEVBQVdHLE1BQ3RCbmIsS0FBS29iLFlBQVlKLEVBQVdJLFlBQzVCcGIsS0FBS3NULE9BQU8wSCxFQUFXMUgsT0FDdkJ0VCxLQUFLd1Usa0JBQWtCd0csRUFBV3hHLGlCQUN0QyxDQWdDUixPQTlCVSxZQUFBNkcsZUFBTixTQUFxQkMsRyw4b0NBQ2pCLFNBQU10SyxNQUFNLEdBQVlzSyxJLE9BQ3hCLE9BREEsU0FDQSxHQUFNdEssTUFBTVAsSyxjQUFaLFMseVNBR0osWUFBQWdFLHlCQUFBLFdBQ0V6VSxLQUFLc1QsT0FBTyxZQUNadFQsS0FBS3dVLGtCQUFrQixFQUN6QixFQUVBLFlBQUFuQyxpQkFBQSxTQUFpQmtKLEdBQ1RBLEVBQVE3YixlQUFlLFFBQ3pCTSxLQUFLdVIsR0FBS2dLLEVBQVFoSyxJQUVoQmdLLEVBQVE3YixlQUFlLGNBQ3pCTSxLQUFLaWIsU0FBV00sRUFBUU4sVUFFdEJNLEVBQVE3YixlQUFlLGlCQUN6Qk0sS0FBS29iLFlBQWNHLEVBQVFILGFBRXpCRyxFQUFRN2IsZUFBZSxXQUN6Qk0sS0FBS21iLE1BQVFJLEVBQVFKLE9BRW5CSSxFQUFRN2IsZUFBZSxpQkFDekJNLEtBQUtrYixZQUFjSyxFQUFRTCxhQUV6QkssRUFBUTdiLGVBQWUsWUFDekJNLEtBQUtzVCxPQUFTaUksRUFBUWpJLE9BRTVCLEVBQ0osRUFwREEsSUNWQSxTQUFZeUgsR0FDUixjQUNBLHVCQUNILENBSEQsQ0FBWUEsS0FBQUEsR0FBYSxLQWdCekIsSUNmSSxHRGVKLGNBaUJJLFdBQVloSixHQUNKL1IsS0FBS3VSLEdBQUdRLEVBQU1SLEdBQ2R2UixLQUFLd2IsdUJBQXVCekosRUFBTXlKLHVCQUNsQ3hiLEtBQUt5YixNQUFNMUosRUFBTTBKLE1BQ2pCemIsS0FBS3FVLFNBQVN0QyxFQUFNc0MsU0FDcEJyVSxLQUFLc1UsS0FBS3ZDLEVBQU11QyxLQUNoQnRVLEtBQUswYixhQUFhM0osRUFBTTJKLGFBQ3hCMWIsS0FBSzJiLFNBQVM1SixFQUFNNEosU0FDcEIzYixLQUFLc1QsT0FBT3ZCLEVBQU11QixPQUNsQnRULEtBQUttVixnQkFBZ0IsSUFBSXhCLE9BQU9DLEtBQUtDLE9BQU85QixFQUFNb0QsaUJBQ2xEblYsS0FBS3VVLGlCQUFpQixJQUFJWixPQUFPQyxLQUFLQyxPQUFPOUIsRUFBTXdDLGlCQUN2RCxDQTBJUixPQXhJTSxZQUFBMUMsZ0JBQUEsU0FBZ0IwSixHQUNSQSxFQUFRN2IsZUFBZSxxQkFDekJNLEtBQUttVixnQkFBa0JvRyxFQUFRcEcsaUJBRTdCb0csRUFBUTdiLGVBQWUsa0JBQ3pCTSxLQUFLMGIsYUFBZUgsRUFBUUcsY0FFMUJILEVBQVE3YixlQUFlLGNBQ3pCTSxLQUFLMmIsU0FBV0osRUFBUUksVUFFdEJKLEVBQVE3YixlQUFlLFlBQ3pCTSxLQUFLc1QsT0FBU2lJLEVBQVFqSSxRQUVwQmlJLEVBQVE3YixlQUFlLHNCQUN6Qk0sS0FBS3VVLGlCQUFtQmdILEVBQVFoSCxpQkFFdEMsRUFFTSxZQUFBcUgsbUJBQU4sU0FBeUJDLEVBQVlwSixHLG9vQ0FFM0JxSixFQUFhLElBQUluSSxPQUFPQyxLQUFLZ0IsSUFBSW5DLEVBQ3ZDLENBQ0lzQyxPQUFRL1UsS0FBS21WLGdCQUNiSCxLQUFNLElBRUcsSUFBSXJCLE9BQU9DLEtBQUtxQixPQUFPLENBQ2hDQyxTQUFVbFYsS0FBS21WLGdCQUNmeFIsSUFBS21ZLEksd1NBTWIsWUFBQXJILHlCQUFBLFdBQ0V6VSxLQUFLc1QsT0FBTyxPQUNadFQsS0FBS3NVLEtBQUssRUFDVnRVLEtBQUttVixnQkFBZ0IsSUFBSXhCLE9BQU9DLEtBQUtDLE9BQU9uRCxJQUM1QzFRLEtBQUt1VSxpQkFBa0IsSUFBSVosT0FBT0MsS0FBS0MsT0FBT25ELEdBQ2hELEVBa0dOLEVBdEtBLEdDYk8sU0FBU3FMLEdBQXVCQyxFQUF5QkMsR0FFNUQsR0FBR0QsRUFBaUJ0SSxpQkFBbUJzSSxFQUFpQnZJLGlCQUFrQixDQUd0RSxJQVFJLEVBQ0EsRUFURXlJLEVBQU9wTCxHQUFTa0wsRUFBaUJ0SSxpQkFDakN5SSxHN0JzR1lDLEU2QnRHTUosRUFBaUJ2SSxpQjdCdUd0QyxHQUFLekMsTUFBTVAsR0FBYTJMLEdBQzFCalIsTUFBSyxTQUFBZ0gsR0FDRixHQUFJQSxFQUFPakIsR0FHUCxPQUFPaUIsRUFBT2hCLE9BRmQsTUFBTSxJQUFJL04sTUFBTSxvQkFHeEIsSUFDS3VLLE9BQU0sU0FBQXRMLEdBQVMsT0FBQStPLFFBQVEvTyxNQUFNQSxFQUFkLE02QjVHcEIsSUFBSTZaLEVBQ0EsTUFBTSxJQUFJOVksTUFBTSx5QkFDcEIsSUFBSStZLEVBQ0EsTUFBTSxJQUFJL1ksTUFBTSwyQkNickIsV0FFSCxJQURBLElBQUk4RCxFQUFPLEdBQ0ZDLEVBQUssRUFBR0EsRUFBS3pFLFVBQVVqQixPQUFRMEYsSUFDcENELEVBQUtDLEdBQU16RSxVQUFVeUUsR0FFekIsSTFCTjZCOEIsRTBCTXpCeUYsRUFBaUJILEVBQWtCckgsR0FDbkNyQyxFNUJYRCxTQUE4QnFDLEdBQ2pDLEdBQW9CLElBQWhCQSxFQUFLekYsT0FBYyxDQUNuQixJQUFJNGEsRUFBVW5WLEVBQUssR0FDbkIsR0FBSSxHQUFRbVYsR0FDUixNQUFPLENBQUVuVixLQUFNbVYsRUFBUzNHLEtBQU0sTUFFbEMsSUFVUXBLLEVBVkcrUSxJQVdjLGlCQUFSL1EsR0FBb0JpSyxHQUFlakssS0FBU2tLLEdBWHhDLENBQ2pCLElBQUlFLEVBQU9ELEdBQVE0RyxHQUNuQixNQUFPLENBQ0huVixLQUFNd08sRUFBSy9SLEtBQUksU0FBVTJZLEdBQU8sT0FBT0QsRUFBUUMsRUFBTSxJQUNyRDVHLEtBQU1BLEVBRWQsQ0FDSixDQUdKLElBQWdCcEssRUFGWixNQUFPLENBQUVwRSxLQUFNQSxFQUFNd08sS0FBTSxLQUMvQixDNEJKYTZHLENBQXFCclYsR0FBT3lILEVBQVU5SixFQUFHcUMsS0FBTXdPLEVBQU83USxFQUFHNlEsS0FDOURqSSxFQUFTLElBQUksR0FBVyxTQUFVakUsR0FDbEMsSUFBSS9ILEVBQVNrTixFQUFRbE4sT0FDckIsR0FBS0EsRUF3QkwsSUFwQkEsSUFBSW9aLEVBQVMsSUFBSXRiLE1BQU1rQyxHQUNuQithLEVBQXVCL2EsRUFDdkJnYixFQUFxQmhiLEVBQ3JCc04sRUFBVSxTQUFVQyxHQUNwQixJQUFJME4sR0FBVyxFQUNmaFEsRUFBVWlDLEVBQVFLLElBQWNuRixVQUFVK0QsRUFBeUJwRSxHQUFZLFNBQVVqSSxHQUNoRm1iLElBQ0RBLEdBQVcsRUFDWEQsS0FFSjVCLEVBQU83TCxHQUFlek4sQ0FDMUIsSUFBRyxXQUFjLE9BQU9pYixHQUF3QixRQUFHN1YsR0FBVyxXQUNyRDZWLEdBQXlCRSxJQUNyQkQsR0FDRGpULEVBQVd6SSxLQUFLMlUsRUNsQ2pDLFNBQXNCQSxFQUFNbUYsR0FDL0IsT0FBT25GLEVBQUs1SyxRQUFPLFNBQVUyQyxFQUFRNk8sRUFBS3JhLEdBQUssT0FBU3dMLEVBQU82TyxHQUFPekIsRUFBTzVZLEdBQUt3TCxDQUFTLEdBQUcsQ0FBQyxFQUNuRyxDRGdDK0NrUCxDQUFhakgsRUFBTW1GLEdBQVVBLEdBRXhEclIsRUFBV2pCLFdBRW5CLElBQ0osRUFDU3lHLEVBQWMsRUFBR0EsRUFBY3ZOLEVBQVF1TixJQUM1Q0QsRUFBUUMsUUF4QlJ4RixFQUFXakIsVUEwQm5CLElBQ0EsT0FBT21HLEVBQWlCakIsRUFBTy9DLE0xQnRDRnpCLEUwQnNDd0J5RixFMUJyQzlDL0ssSUFBSSxTQUFVdUQsR0FBUSxPQUpqQyxTQUFxQitCLEVBQUkvQixHQUNyQixPQUFPLEdBQVFBLEdBQVErQixFQUFHNUIsV0FBTSxFQUFRL0UsRUFBYyxHQUFJSixFQUFPZ0YsS0FBVStCLEVBQUcvQixFQUNsRixDQUV3QzBWLENBQVkzVCxFQUFJL0IsRUFBTyxNMEJxQ2F1RyxDQUM1RSxFRHBCUW9QLENBQVMsQ0FBQ1gsRUFBUUMsSUFBVXpSLE1HdEJWaUwsRUh1QkosU0FBQyxHLElJekJFbUgsRUNDRkMsRUwrRFlDLEVBRTNCQyxFQUVBQyxFQUNBQyxFQTVDZ0JDLEVBQVMsS0FBRXBDLEVBQVUsS0FRN0IsT0FQQSxFQUFNLElBQUlxQyxHQUFNRCxHQUNoQixFQUFPLElBQUlFLEdBQU90QyxHQUNsQixHQUF3QixJQUFJckgsT0FBT0MsS0FBS3FCLE9BQU8sQ0FDM0NDLFNBQVUsRUFBTUMsZ0JBQ2hCeFIsSUFBS3NZLEVBQ0xzQixNQUFPLFNBQVcsRUFBTWhNLEdBQWpCLFlBQXlDLEVBQU1tSyxhQUFhN1gsV0FBNUQsZ0JBQWdHLEVBQU04WCxXQUUxRyxJQStCWXFCLEVBL0JZLEVBaUMzQixJQUFJLEVBQ0osSUFBSSxFQUNQLElBQUksRUFDYkcsRUFBNEIsSUFBSXRILEdBR3BDb0gsRUFFV3pFLEdBQVMsS0FBTTlOLEtBQ2xCc08sR0FBVW1FLEdNekVmLFdBRUgsSUFEQSxJQUFJdEMsRUFBUyxHQUNKMVQsRUFBSyxFQUFHQSxFQUFLekUsVUFBVWpCLE9BQVEwRixJQUNwQzBULEVBQU8xVCxHQUFNekUsVUFBVXlFLEdBRTNCLElBQUltSSxFQUFZZCxFQUFhcU0sR0FDN0IsT0FBT2xMLElBQVEsU0FBVTFGLEVBQVFULElBQzVCOEYsRUFBWXpNLEdBQU9nWSxFQUFRNVEsRUFBUXFGLEdBQWF6TSxHQUFPZ1ksRUFBUTVRLElBQVNKLFVBQVVMLEVBQ3ZGLEdBQ0osQ05pRVlnVSxDQUFVUixFQUFZckIsVU8zRTNCLFNBQWM4QixFQUFhQyxHQUM5QixPQUFPL04sR0NGSixTQUF1QjhOLEVBQWFDLEVBQU1DLEVBQVNDLEVBQVlDLEdBQ2xFLE9BQU8sU0FBVTVULEVBQVFULEdBQ3JCLElBQUlzVSxFQUFXSCxFQUNYN0csRUFBUTRHLEVBQ1J2WixFQUFRLEVBQ1o4RixFQUFPSixVQUFVK0QsRUFBeUJwRSxHQUFZLFNBQVVqSSxHQUM1RCxJQUFJVSxFQUFJa0MsSUFDUjJTLEVBQVFnSCxFQUVBTCxFQUFZM0csRUFBT3ZWLEVBQU9VLElBRXhCNmIsR0FBVyxFQUFPdmMsR0FDZGlJLEVBQVd6SSxLQUFLK1YsRUFDbEMsUURYV2lILEdDZ0JmLENBQ0osQ0RqQm1CQSxDQUFjTixFQUFhQyxFQUFNaGIsVUFBVWpCLFFBQVUsR0FDeEUsQ1AwRVl1YyxFQUFLLFNBQUNDLEdBQXdCLE9BQUFBLEVBQVksQ0FBWixHQUFlakIsRUFBWXJCLFVBR3pEdkIsSUFBSSxTQUFDOEQsR0FDRGxCLEVBQVlyQixTQUFXdUMsQ0FFM0IsS0FJUmhCLEVBR1cxRSxHQUFTLEtBQU05TixLQUNsQnNPLEdBQVVtRSxHQUNWM0MsR0FBVXlDLEdBQ1Z0WixJQUFJLFNBQUN3YSxHQUVELE9BRFdDLEtBQUtDLE1BQW9CLElBQWRELEtBQUtFLFNBRS9CLElBQ0FsRSxJQUFJLFNBQUErRCxHQUNBbkIsRUFBWXRCLGFBQWV5QyxDQUUvQixJQUNBdkQsR0FBUSxJQU9Mbk0sR0FBSSxDQUFDeU8sRUFBUUQsSUFBWXZTLEtBQzVCc08sR0FBVW1FLElLNUdDSixFTDZHSixTQUFDLEdBQTZCLE9BQWhCLEtBQVUsS0FBaUIsQ0FBWCxFSzVHdENwTixJQUFRLFNBQVUxRixFQUFRVCxHQUM3QixJQUFJckYsRUFBUSxFQUNaOEYsRUFBT0osVUFBVStELEVBQXlCcEUsR0FBWSxTQUFVakksR0FBUyxPQUFPd2IsRUFBVXBkLEtBSGhFUyxVQUc4RW1CLEVBQU80QyxNQUFZcUYsRUFBV3pJLEtBQUtRLEVBQVEsSUFDdkosS0wwR1FpWixHQUFVeUMsR0FDVnpDLEdBQVUwQyxHQUNWdlosSUFBSSxTQUFDLEcsSUFBQzRhLEVBQVksS0FBRUMsRUFBUSxLQUdsQkMsRUFBeUMsSUFBZkYsRUFBd0IsS0FDbERHLEVBQWdCRCxFQUF3QixTQUFBRCxFQUFVLElBQU03SyxPQUFPQyxLQUFLK0ssU0FBU0MsVUFBVUMsdUJBQXVCN0IsRUFBWTdILGdCQUFpQjZILEVBQVl6SSxtQkFBcUIsSUFDL0t5SSxFQUFZekksaUJBQWlCNUQsTUFBUXFNLEVBQVk3SCxnQkFBZ0J4RSxPQUM5RG1PLEVBQWdCTCxFQUF3QixTQUFBRCxFQUFVLElBQU03SyxPQUFPQyxLQUFLK0ssU0FBU0MsVUFBVUMsdUJBQXVCN0IsRUFBWTdILGdCQUFpQjZILEVBQVl6SSxtQkFBcUIsSUFDL0t5SSxFQUFZekksaUJBQWlCM0QsTUFBUW9NLEVBQVk3SCxnQkFBZ0J2RSxPQUVoRW1PLEVBQWdCL0IsRUFBWTdILGdCQUUxQjZKLEVBQWMsSUFBSXJMLE9BQU9DLEtBQUtDLE9BQU9rTCxFQUFnQnBPLE1BQVErTixFQUFjSyxFQUFnQm5PLE1BQVFrTyxHQWV6RyxPQWRBQyxFQUFrQkMsRUFFZlosS0FBS2EsSUFBSUYsRUFBZ0JwTyxNQUFRcU0sRUFBWXpJLGlCQUFpQjVELE9BQVMsS0FDckV5TixLQUFLYSxJQUFJRixFQUFnQm5PLE1BQU1vTSxFQUFZekksaUJBQWlCM0QsT0FBUyxNQUV0RXVNLEVBQTBCcGMsT0FDMUJxUSxRQUFRa0UsSUFBSSxVQUFZeUosR0FDeEIzTixRQUFRa0UsSUFBSTBILEVBQVl6TCxHQUFLLDBCQU8xQndOLENBQ1gsT0EzRzJDclUsS0FDbkMvRyxJQUFJLFNBQUN1YixHQUFhLE9BQUc1TixNQUFLLEVBQUVhLE9BQU0sRUFBRStNLFNBQVEsRUFBMUIsS0lsQ2JwQyxFSm1DSSxXQUNMMUwsUUFBUWtFLElBQUksaUNBQ1osRUFBTWIsMkJBQ04sRUFBT0EsMkJBQ1B1SCxFQUFpQnZILDJCQUNqQnBELEdBQW1CLEdBQ25CYSxHQUFvQixHQUNwQkosR0FBbUJrSyxFQUN2QixFSTFDVHJNLElBQVEsU0FBVTFGLEVBQVFULEdBQzdCLElBQ0lTLEVBQU9KLFVBQVVMLEVBQ3JCLENBQ0EsUUFDSUEsRUFBVzVELElBQUlrWCxFQUNuQixDQUNKLEtKcUNRLEVHMUNEbk4sSUFBUSxTQUFVMUYsRUFBUVQsR0FDN0IsSUFBSTJWLEVBQWtCLEtBRWxCeEYsR0FBYSxFQUNiQyxFQUFnQixXQUFjLE9BQU9ELElBQWV3RixHQUFtQjNWLEVBQVdqQixVQUFZLEVBQ2xHMEIsRUFBT0osVUFBVStELEVBQXlCcEUsR0FBWSxTQUFVakksR0FDNUQ0ZCxTQUFrRUEsRUFBZ0J4YSxjQUVqRVIsRUFDakJ1SSxFQUFVaUosRUFBUXBVLElBQW9Cc0ksVUFBV3NWLEVBQWtCdlIsRUFBeUJwRSxHQUFZLFNBQVV3USxHQUFjLE9BQU94USxFQUFXekksS0FBb0ZpWixFQUFhLElBQUcsV0FDbFBtRixFQUFrQixLQUNsQnZGLEdBQ0osSUFDSixJQUFHLFdBQ0NELEdBQWEsRUFDYkMsR0FDSixJQUNKLE1IMEJNL1AsV0FBVSxTQUFDLEcsSUFBQ3lILEVBQUssUUFBVTROLEdBQUYsU0FBVSxZQUVqQzVOLEVBQU02RCxnQkFBZ0IrSixFQUN0QjlOLFFBQVFrRSxJQUFJLGNBQWVoRSxFQUFNcUssVUFDakN2SyxRQUFRa0UsSUFBSSxVQUFXaEUsRUFBTW9LLGNBQzdCdEssUUFBUWtFLElBQUksYUFBZ0JoRSxFQUFNNkQsaUJBQ2xDLEdBQXNCRSxZQUFZNkosR0FDbEMsR0FBc0JFLFNBQVMsU0FBVzlOLEVBQU1DLEdBQWpCLFlBQXlDRCxFQUFNb0ssYUFBYTdYLFdBQTVELGdCQUFnR3lOLEVBQU1xSyxTQUt6SSxHLENHeERELElBQW1CaEcsRWhDa0hBeUcsQzZCdEQxQixDU1RPLFNBQVNpRCxHQUFVL04sRUFBY21CLEdBQXhDLFdBRVU2TSxFQUFTekssU0FBUzBLLGNBQWMsT0FDdENELEVBQVMxTSxVQUFVaE4sSUFBSSxhQUN2QjZNLEVBQUsrTSxZQUFZRixHQUVqQixJQUFNRyxFQUFVNUssU0FBUzBLLGNBQWMsU0FDdkNFLEVBQVU3TSxVQUFVaE4sSUFBSSxTQUN4QjZaLEVBQVVDLFlBQVlwTyxFQUFNQyxHQUM1QitOLEVBQVNFLFlBQVlDLEdBRXJCLElBQU1FLEVBQVc5SyxTQUFTMEssY0FBYyxTQUN4Q0ksRUFBVy9NLFVBQVVoTixJQUFJLFNBQ3pCK1osRUFBV0QsWUFBWXBPLEVBQU1tSyxNQUM3QjZELEVBQVNFLFlBQVlHLEdBRXJCLElBQU1DLEVBQXFCL0ssU0FBUzBLLGNBQWMsU0FDbERLLEVBQXFCaE4sVUFBVWhOLElBQUksU0FDbkNnYSxFQUFxQkYsWUFBYSxxQkFBdUJwTyxFQUFNNkQsZ0JBQWdCdFIsV0FDL0V5YixFQUFTRSxZQUFZSSxHQUVyQixJQUFNQyxFQUFpQmhMLFNBQVMwSyxjQUFjLFNBQzlDTSxFQUFpQmpOLFVBQVVoTixJQUFJLFNBQy9CaWEsRUFBaUJILFlBQWEsZ0JBQWtCcE8sRUFBTWlELGlCQUFpQjFRLFdBQ3ZFeWIsRUFBU0UsWUFBWUssR0FFckIsSUFBTUMsRUFBV2pMLFNBQVMwSyxjQUFjLFNBQ3hDTyxFQUFXbE4sVUFBVWhOLElBQUksU0FDekJrYSxFQUFXSixZQUFhLGtCQUFvQnBPLEVBQU1vSyxhQUFhN1gsV0FBYSxPQUM1RXliLEVBQVNFLFlBQVlNLEdBRXJCLElBQU1DLEVBQWNsTCxTQUFTMEssY0FBYyxTQUszQyxHQUpBUSxFQUFjbk4sVUFBVWhOLElBQUksU0FDNUJtYSxFQUFjTCxZQUFZLGNBQWdCcE8sRUFBTXFLLFNBQVM5WCxXQUFhLElBQ3RFeWIsRUFBU0UsWUFBWU8sR0FFSixhQUFkek8sRUFBTWdDLE9BQXFCLENBQzFCLElBQU0wTSxFQUFZbkwsU0FBUzBLLGNBQWMsU0FDekNTLEVBQVlDLEtBQUssU0FDakJELEVBQVl6ZSxNQUFNLGlCQUNsQitkLEVBQVNFLFlBQVlRLEdBRXJCQSxFQUFZRSxpQkFBaUIsU0FBUyxTQUFPM04sR0FBSyxPLEVBQUEsRSxPQUFBLEUsRUFBQSxXLDBsQ0FFOUNtQyxHQUFXLElBQUkySSxHQUFNL0wsSSxvQkFGeUIsSyxpUkFVdERGLFFBQVFrRSxJQUFJLFFBQVNnSyxFQUV6QixDQW9DTyxTQUFTYSxHQUFVcE8sRUFBY1UsRUFBbUJ3QixFQUFxQkMsR0FFNUUsSUFBTWtNLEVBQVN2TCxTQUFTMEssY0FBYyxPQUN0Q2EsRUFBU3hOLFVBQVVoTixJQUFJLGFBQ3ZCNk0sRUFBSytNLFlBQVlZLEdBRWpCLElBQU1DLEVBQVF4TCxTQUFTMEssY0FBYyxTQUNyQ2MsRUFBUXpOLFVBQVVoTixJQUFJLFNBQ3RCeWEsRUFBUVgsWUFBYSxhQUFlM04sRUFBTVIsR0FBRzFOLFdBQzdDdWMsRUFBU1osWUFBWWEsR0FFckIsSUFBTUMsRUFBWXpMLFNBQVMwSyxjQUFjLFNBQ3pDZSxFQUFZMU4sVUFBVWhOLElBQUksU0FDMUIwYSxFQUFZWixZQUFhLFdBQWEzTixFQUFNdUIsT0FBT2lOLGNBQ25ESCxFQUFTWixZQUFZYyxHQUVyQixJQUFNbk4sRUFBVTBCLFNBQVMwSyxjQUFjLFNBQ3ZDcE0sRUFBVVAsVUFBVWhOLElBQUksU0FDeEJ1TixFQUFVdU0sWUFBWSxlQUFpQjNOLEVBQU13QixVQUFVMVAsV0FBYSxJQUNwRXVjLEVBQVNaLFlBQVlyTSxHQUVyQixJQUFNME0sRUFBaUJoTCxTQUFTMEssY0FBYyxTQUs5QyxHQUpBTSxFQUFpQmpOLFVBQVVoTixJQUFJLFNBQy9CaWEsRUFBaUJILFlBQWEsZ0JBQWtCM04sRUFBTXlCLFlBQVkzUCxXQUNsRXVjLEVBQVNaLFlBQVlLLEdBRUgsWUFBZjlOLEVBQU11QixPQUFvQixDQUN6QixJQUFNME0sRUFBWW5MLFNBQVMwSyxjQUFjLFNBQ3pDUyxFQUFZQyxLQUFLLFNBQ2pCRCxFQUFZemUsTUFBTSxjQUNsQjZlLEVBQVNaLFlBQVlRLEdBRXJCQSxFQUFZRSxpQkFBaUIsU0FBUyxTQUFDM04sR0FFbkN6QixHQUFTaUIsRUFBTTJCLGlCQUFpQjdKLFdBQVUsU0FBQTJXLEdBRXRDOUwsR0FEYyxJQUFJMkksR0FBTW1ELEdBRTVCLEdBQ0osRyxNQUVDLEdBQWtCLFlBQWZ6TyxFQUFNdUIsT0FBb0IsQ0FDOUIsSUFBTW1OLEVBQVc1TCxTQUFTMEssY0FBYyxTQUN4Q2tCLEVBQVdSLEtBQUssU0FDaEJRLEVBQVdsZixNQUFNLGFBQ2pCa2YsRUFBV2xQLEdBQUcsZUFDZDZPLEVBQVNaLFlBQVlpQixHQUVyQkEsRUFBV1AsaUJBQWlCLFNBQVMsU0FBQzNOLElUNUN2QyxTQUFtQm1PLEVBQXFCek0sRUFBb0JDLEdBRS9EOUMsUUFBUWtFLElBQUksVUFBV29MLEdBRXZCLElBQUl2TSxFQUF1QkYsRUFBVUcsTUFBSyxTQUFBOUMsR0FBUyxNQUFlLFNBQWZBLEVBQU1nQyxRQUFtQmhDLEVBQU0rQyxVQUFVcU0sRUFBYW5OLFNBQXRELElBQy9DSCxFQUF5QmMsRUFBV0UsTUFBSyxTQUFBakMsR0FBVSxNQUFnQixjQUFoQkEsRUFBT21CLE1BQVAsSUFHdkRhLEVBQWNiLE9BQU8sWUFDckJhLEVBQWNHLEtBQUtvTSxFQUFhbk4sVUFDaENZLEVBQWNJLGlCQUFpQixJQUFJWixPQUFPQyxLQUFLQyxPQUFPNk0sRUFBYWxOLGFBRW5FSixFQUFlRSxPQUFPLFNBQ3RCRixFQUFlb0Isa0JBQWtCTCxFQUFjNUMsR0FFL0NtUCxFQUFhcE4sT0FBTyxVQUNwQm9OLEVBQWFoTixnQkFBZ0JTLEVBQWM1QyxHQUMzQ21QLEVBQWFqTixpQkFBaUJMLEVBQWU3QixHQUU3Q0gsUUFBUWtFLElBQUksYUFBY29MLEdBQzFCdFAsUUFBUWtFLElBQUksYUFBY25CLEdBQzFCL0MsUUFBUWtFLElBQUksY0FBZWxDLEdBRTNCL0IsR0FBbUI4QyxHQUNuQmpDLEdBQW9Ca0IsR0FDcEJ0QixHQUFtQjRPLEVBQ3ZCLENTb0JZMU0sQ0FBVWpDLEVBQU9rQyxFQUFXQyxFQUNoQyxHLENBR1IsQ0FtRU8sU0FBU3lNLEdBQVd4TyxFQUFnQk0sR0FFdkMsSUFBTW1PLEVBQVUvTCxTQUFTMEssY0FBYyxPQUN2Q3FCLEVBQVVoTyxVQUFVaE4sSUFBSSxjQUN4QjZNLEVBQUsrTSxZQUFZb0IsR0FFakIsSUFBTXhFLEVBQVN2SCxTQUFTMEssY0FBYyxTQUN0Q25ELEVBQVN4SixVQUFVaE4sSUFBSSxTQUN2QndXLEVBQVNzRCxZQUFhLGNBQWdCdk4sRUFBT1osR0FBRzFOLFdBQ2hEK2MsRUFBVXBCLFlBQVlwRCxHQU90QixJQUFNeUUsRUFBY2hNLFNBQVMwSyxjQUFjLFNBQzNDc0IsRUFBY2pPLFVBQVVoTixJQUFJLFNBQzVCaWIsRUFBY25CLFlBQVksY0FBZ0J2TixFQUFPOEksU0FDakQyRixFQUFVcEIsWUFBWXFCLEdBRXRCLElBQU1DLEVBQVdqTSxTQUFTMEssY0FBYyxTQUN4Q3VCLEVBQVdsTyxVQUFVaE4sSUFBSSxTQUN6QmtiLEVBQVdwQixZQUFhLFVBQVl2TixFQUFPZ0osTUFDM0N5RixFQUFVcEIsWUFBWXNCLEdBRXRCLElBQU1DLEVBQWlCbE0sU0FBUzBLLGNBQWMsU0FLOUMsR0FKQXdCLEVBQWlCbk8sVUFBVWhOLElBQUksU0FDL0JtYixFQUFpQnJCLFlBQWEsaUJBQW1Cdk4sRUFBTytJLFlBQ3hEMEYsRUFBVXBCLFlBQVl1QixHQUVELFdBQWxCNU8sRUFBT21CLE9BQXFCLENBRTNCLElBQU0wTixFQUFtQm5NLFNBQVMwSyxjQUFjLFNBQ2hEeUIsRUFBbUJwTyxVQUFVaE4sSUFBSSxTQUNqQ29iLEVBQW1CdEIsWUFBYSxtQkFBcUJ2TixFQUFPcUMsa0JBQzVEb00sRUFBVXBCLFlBQVl3QixHQUV0QixJQUFNaEIsRUFBWW5MLFNBQVMwSyxjQUFjLFNBQ3pDUyxFQUFZQyxLQUFLLFNBQ2pCRCxFQUFZemUsTUFBTSxlQUNsQnFmLEVBQVVwQixZQUFZUSxHQUV0QkEsRUFBWUUsaUJBQWlCLFNBQVMsU0FBQzNOLEdBRW5DekIsR0FBU3FCLEVBQU9xQyxtQkFBbUIzSyxXQUFVLFNBQUEyVyxHQUV6QzlMLEdBRGMsSUFBSTJJLEdBQU1tRCxHQUU1QixHQUNKLEcsQ0FHUixDLElDclNJdkUsRyxvMkNBWEVnRixHQUFVcE0sU0FBUzBLLGNBQWMsT0FDakMyQixHQUFVck0sU0FBUzBLLGNBQWMsT0FDakM0QixHQUFXdE0sU0FBUzBLLGNBQWMsT0FDbEM2QixHQUFVdk0sU0FBUzBLLGNBQWMsT0FDakM4QixHQUFheE0sU0FBUzBLLGNBQWMsT0FDcEMrQixHQUFPek0sU0FBUzBLLGNBQWMsT0FDcEMrQixHQUFPL1AsR0FBRyxNRFZILFNBQXdCMFAsRUFBeUJDLEVBQTJCQyxFQUE0QkMsRUFDM0dDLEVBQTRCQyxHQUU1QixJQUFNQyxFQUFVMU0sU0FBUzBLLGNBQWMsT0FDdkNnQyxFQUFRM08sVUFBVWhOLElBQUksWUFDdEIyYixFQUFRaFEsR0FBRyxPQUNYc0QsU0FBU3hVLEtBQUttZixZQUFZK0IsR0FHMUJOLEVBQVFyTyxVQUFVaE4sSUFBSSxZQUN0QjJiLEVBQVEvQixZQUFZeUIsR0FFcEIsSUFBTU8sRUFBTTNNLFNBQVMwSyxjQUFjLE1BQ25DaUMsRUFBTTVPLFVBQVVoTixJQUFJLFVBQ3BCNGIsRUFBTTlCLFlBQVksT0FDbEI4QixFQUFNQyxNQUFNQyxhQUFhLE9BQ3pCVCxFQUFRekIsWUFBWWdDLEdBR3BCTixFQUFVdE8sVUFBVWhOLElBQUksY0FDeEJzYixFQUFVeEIsWUFBWSxTQUN0QnVCLEVBQVF6QixZQUFZMEIsR0FHcEJDLEVBQVd2TyxVQUFVaE4sSUFBSSxlQUN6QnViLEVBQVd6QixZQUFZLFVBQ3ZCdUIsRUFBUXpCLFlBQVkyQixHQUdwQkMsRUFBVXhPLFVBQVVoTixJQUFJLGNBQ3hCd2IsRUFBVTFCLFlBQVksU0FDdEJ1QixFQUFRekIsWUFBWTRCLEdBR3BCQyxFQUFXek8sVUFBVWhOLElBQUksZUFDekIyYixFQUFRL0IsWUFBWTZCLEdBRXBCLElBQU1NLEVBQWU5TSxTQUFTMEssY0FBYyxNQUM1Q29DLEVBQWFqQyxZQUFZLG1EQUN6QjJCLEVBQVc3QixZQUFZbUMsR0FFdkJMLEVBQU8xTyxVQUFVaE4sSUFBSSxXQUNyQjBiLEVBQU8vUCxHQUFHLE1BQ1ZnUSxFQUFRL0IsWUFBWThCLEVBQ3hCLENDL0JBTSxDQUFlWCxHQUFTQyxHQUFXQyxHQUFZQyxHQUFXQyxHQUFZQyxJQUd0RSxXLHFFQUNJckYsR3RDcEJHLFNBQWtCcUYsR0FDckIsSUFBTTNNLEVBQVEsSUFBSWhCLE9BQU9DLEtBQUtnQixJQUFJME0sRUFDOUIsQ0FDSXZNLE9BQVFyRSxHQUNSc0UsS0FBTSxJQVFkLE9BTEloQyxHQUF3QixJQUFJVyxPQUFPQyxLQUFLcUIsT0FBTyxDQUMzQ0MsU0FBVXhFLEdBQ1YvTSxJQUFLZ1IsSUFHTkEsQ0FDWCxDc0NPaUJrTixDQUFTUCxJLFNBQ3pCLENBRkQsR0FLQSxJQUFJck4sR0FBd0IsR0FDeEI2TixHQUF3QixHQUN4QjVOLEdBQTBCLEdBTTlCekYsR0FBSSxDdkNMVyxHQVpLdUMsTUFBTVIsSUFDakJyRixNQUFLLFNBQUFxVixHQUVFLEdBQUdBLEVBQVN0UCxHQUNSLE9BQU9zUCxFQUFTclAsT0FHaEIsTUFBTSxJQUFJL04sTUFBTSx5QkFFeEIsSUFDQ3VLLE9BQU0sU0FBQXRMLEdBQVMsT0FBQStPLFFBQVFrRSxJQUFJalQsRUFBWixLQTJDYixHQVpLMk8sTUFBTSxJQUNqQjdGLE1BQUssU0FBQXFWLEdBRUUsR0FBR0EsRUFBU3RQLEdBQ1IsT0FBT3NQLEVBQVNyUCxPQUdoQixNQUFNLElBQUkvTixNQUFNLHVCQUV4QixJQUNDdUssT0FBTSxTQUFBdEwsR0FBUyxPQUFBK08sUUFBUWtFLElBQUlqVCxFQUFaLEtBc0ViLEdBWksyTyxNQUFNUCxJQUNqQnRGLE1BQUssU0FBQXFWLEdBRUUsR0FBR0EsRUFBU3RQLEdBQ1IsT0FBT3NQLEVBQVNyUCxPQUdoQixNQUFNLElBQUkvTixNQUFNLHdCQUV4QixJQUNDdUssT0FBTSxTQUFBdEwsR0FBUyxPQUFBK08sUUFBUWtFLElBQUlqVCxFQUFaLE91Q3RHR3dILFdBQVUsU0FBQyxHLElBQUNrWSxFQUFNLEtBQUVDLEVBQU0sS0FBRUMsRUFBTyxLQUM5RGhPLEdBQVU4TixFQUVWN04sR0FBVytOLEdBRFhILEdBQVVFLEdBR0EzWCxTQUFRLFNBQUEwSCxHQUNkLElBQU1tUSxFQUFlLElBQUluTyxHQUFNaEMsR0FDYixZQUFmQSxFQUFNdUIsT0FHTHlJLEdBQXVCbUcsRUFBY2pHLElBRWpDbEssRUFBTXVCLE1BR2xCLElBR0E0TixHQUFVaEIsaUJBQWlCLFNBQVMsU0FBTTNOLEdBQUssMkMsbUNBQzNDQSxFQUFNNFAsaUJBQ043UCxHQUFjQyxFQUFPLGFBQWM4TyxJRHFEcEMsU0FBb0JVLEVBQWlCdFAsR0FDeEMsSUFBTTJQLEVBQWtCdk4sU0FBUzBLLGNBQWMsT0FDL0M2QyxFQUFnQnhQLFVBQVVoTixJQUFJLGlCQUM5QjZNLEVBQUsrTSxZQUFZNEMsR0FFakIsSUFBYSxVQUFBTCxFQUFBLGVBQVEsQ0FBakIsSUFBSXZoQixFQUFDLEtBR0w2ZSxHQUZZLElBQUloQyxHQUFNN2MsR0FFTDRoQixFLENBRXpCLENDNURRQyxDQUFXcE8sR0FBV29OLEksYUFHMUJGLEdBQVdqQixpQkFBaUIsU0FBUyxTQUFBM04sR0FDakNBLEVBQU00UCxpQkFDTjdQLEdBQWNDLEVBQU8sY0FBZThPLElENlByQyxTQUFxQlksRUFBbUJ4UCxHQUMzQyxJQUFNNlAsRUFBbUJ6TixTQUFTMEssY0FBYyxPQUNoRCtDLEVBQWlCMVAsVUFBVWhOLElBQUksaUJBQy9CNk0sRUFBSytNLFlBQVk4QyxHQUVqQixJQUFhLFVBQUFMLEVBQUEsZUFBUyxDQUFsQixJQUFJL2lCLEVBQUMsS0FHTHloQixHQUZhLElBQUlyRCxHQUFPcGUsR0FFTG9qQixFLENBRTNCLENDcFFRQyxDQUFZck8sR0FBWW1OLEdBQzVCLElBRUFELEdBQVVsQixpQkFBaUIsU0FBUyxTQUFPM04sR0FBSywyQyxtQ0FDNUNBLEVBQU00UCxpQkFDTjdQLEdBQWNDLEVBQU8sYUFBYzhPLElEOEhwQyxTQUFvQlcsRUFBaUJ2UCxFQUFtQndCLEVBQXFCQyxHQUVoRixJQUFNc08sRUFBWTNOLFNBQVMwSyxjQUFjLE9BQ3pDaUQsRUFBWTVQLFVBQVVoTixJQUFJLGdCQUMxQjRjLEVBQVk5QyxZQUFZLFlBQ3hCak4sRUFBSytNLFlBQVlnRCxHQUVqQixJQUFNQyxFQUFhNU4sU0FBUzBLLGNBQWMsT0FDMUNpRCxFQUFZaEQsWUFBWWlELEdBRXhCLElBQU1DLEVBQWU3TixTQUFTMEssY0FBYyxTQUM1Q21ELEVBQWU5UCxVQUFVaE4sSUFBSSxTQUM3QjhjLEVBQWVoRCxZQUFZLGNBQzNCK0MsRUFBYWpELFlBQVlrRCxHQUV6QixJQUFNQyxFQUFlOU4sU0FBUzBLLGNBQWMsU0FDNUNvRCxFQUFlMUMsS0FBSyxTQUNwQjBDLEVBQWUvUCxVQUFVaE4sSUFBSSxTQUM3QjZjLEVBQWFqRCxZQUFZbUQsR0FFekIsSUFBTUMsRUFBZ0IvTixTQUFTMEssY0FBYyxPQUM3Q3FELEVBQWVoUSxVQUFVaE4sSUFBSSwyQkFDN0I0YyxFQUFZaEQsWUFBWW9ELEdBRXhCLElBQU0vQyxFQUFpQmhMLFNBQVMwSyxjQUFjLFNBQzlDTSxFQUFpQmpOLFVBQVVoTixJQUFJLFNBQy9CaWEsRUFBaUJILFlBQWEsNENBQzlCa0QsRUFBZXBELFlBQVlLLEdBRTNCLElBQU1nRCxFQUFTaE8sU0FBUzBLLGNBQWMsU0FDdENzRCxFQUFTNUMsS0FBSyxPQUNkNEMsRUFBU2pRLFVBQVVoTixJQUFJLFNBQ3ZCZ2QsRUFBZXBELFlBQVlxRCxHQUUzQixJQUFNQyxFQUFTak8sU0FBUzBLLGNBQWMsU0FDdEN1RCxFQUFTN0MsS0FBSyxPQUNkNkMsRUFBU2xRLFVBQVVoTixJQUFJLFNBQ3ZCZ2QsRUFBZXBELFlBQVlzRCxHQUUzQixJQUFNQyxFQUFpQmxPLFNBQVMwSyxjQUFjLFNBQzlDd0QsRUFBZTlDLEtBQUssU0FDcEI4QyxFQUFlblEsVUFBVWhOLElBQUksbUJBQzdCbWQsRUFBZXhoQixNQUFNLGtCQUNyQmloQixFQUFZaEQsWUFBWXVELEdBRXhCLElBQU1DLEVBQWdCbk8sU0FBUzBLLGNBQWMsT0FDN0N5RCxFQUFnQnBRLFVBQVVoTixJQUFJLGlCQUM5QjZNLEVBQUsrTSxZQUFZd0QsR0FFakIsSUFBYSxVQUFBaEIsRUFBQSxlQUFRLENBQWpCLElBQUlsZ0IsRUFBQyxLQUNDaVEsRUFBTSxJQUFJZ0MsR0FBTWpTLEdBQ1IsWUFBWEEsRUFBRXdSLE9BQ0Q2TSxHQUFVcE8sRUFBT2lSLEVBQWlCL08sRUFBV0MsR0FFN0NpTSxHQUFVcE8sRUFBT2lSLEUsQ0FHekJELEVBQWU3QyxpQkFBaUIsU0FBUyxTQUFBM04sR0FDckMsSUFBTTBRLEVBQVcsSUFBSWxQLEdBQU1pTyxFQUFPdmdCLE9BQVEsVUFBV3loQixTQUFTUCxFQUFlcGhCLE9BQ3pFLElBQUlvUyxPQUFPQyxLQUFLQyxPQUFPc1AsV0FBWU4sRUFBU3RoQixPQUFRNGhCLFdBQVdMLEVBQVN2aEIsUUFBUyxHQUFJLElBQ3pGeWdCLEVBQU90Z0IsS0FBS3VoQixHdEMxSmIsU0FBeUJsUixHQUM1QmYsTUFBTSxHQUFXLENBQ2JRLE9BQVEsT0FDUkMsUUFBUyxDQUNOLGVBQWdCLG9CQUVuQnBSLEtBQU1xUixLQUFLQyxVQUFVSSxLQUN0QjVHLE1BQUssU0FBQXFWLEdBQVksT0FBQUEsRUFBU3JQLE1BQVQsSUFDbkJ4RCxPQUFNLFNBQUEvSixHQUFPLE9BQUF3TixRQUFRL08sTUFBTXVCLEVBQWQsSUFDYnVILE1BQUssU0FBQTRHLEdBQVMsT0FBQVgsUUFBUWtFLElBQUl2RCxFQUFaLEdBQ25CLENzQ2lKUXFSLENBQWdCSCxFQUNwQixHQUNKLENDMUxRSSxDQUFXdkIsR0FBV1QsR0FBWXBOLEdBQVdDLEksWUFFckQsRyIsInNvdXJjZXMiOlsid2VicGFjazovL3J4anNfbG9naXN0aWthLy4vbm9kZV9tb2R1bGVzL3RzbGliL3RzbGliLmVzNi5tanMiLCJ3ZWJwYWNrOi8vcnhqc19sb2dpc3Rpa2EvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvdXRpbC9pc0Z1bmN0aW9uLmpzIiwid2VicGFjazovL3J4anNfbG9naXN0aWthLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3V0aWwvY3JlYXRlRXJyb3JDbGFzcy5qcyIsIndlYnBhY2s6Ly9yeGpzX2xvZ2lzdGlrYS8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC91dGlsL1Vuc3Vic2NyaXB0aW9uRXJyb3IuanMiLCJ3ZWJwYWNrOi8vcnhqc19sb2dpc3Rpa2EvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvdXRpbC9hcnJSZW1vdmUuanMiLCJ3ZWJwYWNrOi8vcnhqc19sb2dpc3Rpa2EvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvU3Vic2NyaXB0aW9uLmpzIiwid2VicGFjazovL3J4anNfbG9naXN0aWthLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL2NvbmZpZy5qcyIsIndlYnBhY2s6Ly9yeGpzX2xvZ2lzdGlrYS8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9zY2hlZHVsZXIvdGltZW91dFByb3ZpZGVyLmpzIiwid2VicGFjazovL3J4anNfbG9naXN0aWthLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3V0aWwvcmVwb3J0VW5oYW5kbGVkRXJyb3IuanMiLCJ3ZWJwYWNrOi8vcnhqc19sb2dpc3Rpa2EvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvdXRpbC9ub29wLmpzIiwid2VicGFjazovL3J4anNfbG9naXN0aWthLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL05vdGlmaWNhdGlvbkZhY3Rvcmllcy5qcyIsIndlYnBhY2s6Ly9yeGpzX2xvZ2lzdGlrYS8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC91dGlsL2Vycm9yQ29udGV4dC5qcyIsIndlYnBhY2s6Ly9yeGpzX2xvZ2lzdGlrYS8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9TdWJzY3JpYmVyLmpzIiwid2VicGFjazovL3J4anNfbG9naXN0aWthLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3N5bWJvbC9vYnNlcnZhYmxlLmpzIiwid2VicGFjazovL3J4anNfbG9naXN0aWthLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3V0aWwvaWRlbnRpdHkuanMiLCJ3ZWJwYWNrOi8vcnhqc19sb2dpc3Rpa2EvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvT2JzZXJ2YWJsZS5qcyIsIndlYnBhY2s6Ly9yeGpzX2xvZ2lzdGlrYS8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC91dGlsL3BpcGUuanMiLCJ3ZWJwYWNrOi8vcnhqc19sb2dpc3Rpa2EvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvdXRpbC9pc0FycmF5TGlrZS5qcyIsIndlYnBhY2s6Ly9yeGpzX2xvZ2lzdGlrYS8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC91dGlsL2lzUHJvbWlzZS5qcyIsIndlYnBhY2s6Ly9yeGpzX2xvZ2lzdGlrYS8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC91dGlsL2lzSW50ZXJvcE9ic2VydmFibGUuanMiLCJ3ZWJwYWNrOi8vcnhqc19sb2dpc3Rpa2EvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvdXRpbC9pc0FzeW5jSXRlcmFibGUuanMiLCJ3ZWJwYWNrOi8vcnhqc19sb2dpc3Rpa2EvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvdXRpbC90aHJvd1Vub2JzZXJ2YWJsZUVycm9yLmpzIiwid2VicGFjazovL3J4anNfbG9naXN0aWthLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3N5bWJvbC9pdGVyYXRvci5qcyIsIndlYnBhY2s6Ly9yeGpzX2xvZ2lzdGlrYS8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC91dGlsL2lzSXRlcmFibGUuanMiLCJ3ZWJwYWNrOi8vcnhqc19sb2dpc3Rpa2EvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvdXRpbC9pc1JlYWRhYmxlU3RyZWFtTGlrZS5qcyIsIndlYnBhY2s6Ly9yeGpzX2xvZ2lzdGlrYS8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9vYnNlcnZhYmxlL2lubmVyRnJvbS5qcyIsIndlYnBhY2s6Ly9yeGpzX2xvZ2lzdGlrYS8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC91dGlsL2FyZ3NPckFyZ0FycmF5LmpzIiwid2VicGFjazovL3J4anNfbG9naXN0aWthLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL29ic2VydmFibGUvZW1wdHkuanMiLCJ3ZWJwYWNrOi8vcnhqc19sb2dpc3Rpa2EvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL09wZXJhdG9yU3Vic2NyaWJlci5qcyIsIndlYnBhY2s6Ly9yeGpzX2xvZ2lzdGlrYS8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC91dGlsL2lzU2NoZWR1bGVyLmpzIiwid2VicGFjazovL3J4anNfbG9naXN0aWthLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3V0aWwvYXJncy5qcyIsIndlYnBhY2s6Ly9yeGpzX2xvZ2lzdGlrYS8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9vYnNlcnZhYmxlL3ppcC5qcyIsIndlYnBhY2s6Ly9yeGpzX2xvZ2lzdGlrYS8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC91dGlsL2V4ZWN1dGVTY2hlZHVsZS5qcyIsIndlYnBhY2s6Ly9yeGpzX2xvZ2lzdGlrYS8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC91dGlsL2xpZnQuanMiLCJ3ZWJwYWNrOi8vcnhqc19sb2dpc3Rpa2EvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL29ic2VydmVPbi5qcyIsIndlYnBhY2s6Ly9yeGpzX2xvZ2lzdGlrYS8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvc3Vic2NyaWJlT24uanMiLCJ3ZWJwYWNrOi8vcnhqc19sb2dpc3Rpa2EvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvc2NoZWR1bGVkL3NjaGVkdWxlQXN5bmNJdGVyYWJsZS5qcyIsIndlYnBhY2s6Ly9yeGpzX2xvZ2lzdGlrYS8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9vYnNlcnZhYmxlL2Zyb20uanMiLCJ3ZWJwYWNrOi8vcnhqc19sb2dpc3Rpa2EvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvc2NoZWR1bGVkL3NjaGVkdWxlZC5qcyIsIndlYnBhY2s6Ly9yeGpzX2xvZ2lzdGlrYS8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9zY2hlZHVsZWQvc2NoZWR1bGVPYnNlcnZhYmxlLmpzIiwid2VicGFjazovL3J4anNfbG9naXN0aWthLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3NjaGVkdWxlZC9zY2hlZHVsZUFycmF5LmpzIiwid2VicGFjazovL3J4anNfbG9naXN0aWthLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3NjaGVkdWxlZC9zY2hlZHVsZVByb21pc2UuanMiLCJ3ZWJwYWNrOi8vcnhqc19sb2dpc3Rpa2EvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvc2NoZWR1bGVkL3NjaGVkdWxlSXRlcmFibGUuanMiLCJ3ZWJwYWNrOi8vcnhqc19sb2dpc3Rpa2EvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvc2NoZWR1bGVkL3NjaGVkdWxlUmVhZGFibGVTdHJlYW1MaWtlLmpzIiwid2VicGFjazovL3J4anNfbG9naXN0aWthLy4vY29uZmlnLmpzIiwid2VicGFjazovL3J4anNfbG9naXN0aWthLy4vc3JjL29yZGVyLnRzIiwid2VicGFjazovL3J4anNfbG9naXN0aWthLy4vc3JjL3NlcnZpY2VzLnRzIiwid2VicGFjazovL3J4anNfbG9naXN0aWthLy4vc3JjL21hcExvZ2ljLnRzIiwid2VicGFjazovL3J4anNfbG9naXN0aWthLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3V0aWwvYXJnc0FyZ0FycmF5T3JPYmplY3QuanMiLCJ3ZWJwYWNrOi8vcnhqc19sb2dpc3Rpa2EvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL21hcC5qcyIsIndlYnBhY2s6Ly9yeGpzX2xvZ2lzdGlrYS8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC91dGlsL21hcE9uZU9yTWFueUFyZ3MuanMiLCJ3ZWJwYWNrOi8vcnhqc19sb2dpc3Rpa2EvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvdXRpbC9PYmplY3RVbnN1YnNjcmliZWRFcnJvci5qcyIsIndlYnBhY2s6Ly9yeGpzX2xvZ2lzdGlrYS8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9TdWJqZWN0LmpzIiwid2VicGFjazovL3J4anNfbG9naXN0aWthLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3NjaGVkdWxlci9BY3Rpb24uanMiLCJ3ZWJwYWNrOi8vcnhqc19sb2dpc3Rpa2EvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvc2NoZWR1bGVyL2ludGVydmFsUHJvdmlkZXIuanMiLCJ3ZWJwYWNrOi8vcnhqc19sb2dpc3Rpa2EvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvc2NoZWR1bGVyL0FzeW5jQWN0aW9uLmpzIiwid2VicGFjazovL3J4anNfbG9naXN0aWthLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3NjaGVkdWxlci9kYXRlVGltZXN0YW1wUHJvdmlkZXIuanMiLCJ3ZWJwYWNrOi8vcnhqc19sb2dpc3Rpa2EvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvU2NoZWR1bGVyLmpzIiwid2VicGFjazovL3J4anNfbG9naXN0aWthLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3NjaGVkdWxlci9hc3luYy5qcyIsIndlYnBhY2s6Ly9yeGpzX2xvZ2lzdGlrYS8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9zY2hlZHVsZXIvQXN5bmNTY2hlZHVsZXIuanMiLCJ3ZWJwYWNrOi8vcnhqc19sb2dpc3Rpa2EvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvb2JzZXJ2YWJsZS9pbnRlcnZhbC5qcyIsIndlYnBhY2s6Ly9yeGpzX2xvZ2lzdGlrYS8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9vYnNlcnZhYmxlL3RpbWVyLmpzIiwid2VicGFjazovL3J4anNfbG9naXN0aWthLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3V0aWwvaXNEYXRlLmpzIiwid2VicGFjazovL3J4anNfbG9naXN0aWthLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL29wZXJhdG9ycy90YWtlVW50aWwuanMiLCJ3ZWJwYWNrOi8vcnhqc19sb2dpc3Rpa2EvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL21lcmdlTWFwLmpzIiwid2VicGFjazovL3J4anNfbG9naXN0aWthLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL29wZXJhdG9ycy9tZXJnZUludGVybmFscy5qcyIsIndlYnBhY2s6Ly9yeGpzX2xvZ2lzdGlrYS8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvY29uY2F0QWxsLmpzIiwid2VicGFjazovL3J4anNfbG9naXN0aWthLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL29wZXJhdG9ycy9tZXJnZUFsbC5qcyIsIndlYnBhY2s6Ly9yeGpzX2xvZ2lzdGlrYS8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9vYnNlcnZhYmxlL2NvbmNhdC5qcyIsIndlYnBhY2s6Ly9yeGpzX2xvZ2lzdGlrYS8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvdGFwLmpzIiwid2VicGFjazovL3J4anNfbG9naXN0aWthLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL29wZXJhdG9ycy9za2lwVW50aWwuanMiLCJ3ZWJwYWNrOi8vcnhqc19sb2dpc3Rpa2EvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvb2JzZXJ2YWJsZS9vZi5qcyIsIndlYnBhY2s6Ly9yeGpzX2xvZ2lzdGlrYS8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvZW5kV2l0aC5qcyIsIndlYnBhY2s6Ly9yeGpzX2xvZ2lzdGlrYS8uL3NyYy9wZXJzb24udHMiLCJ3ZWJwYWNrOi8vcnhqc19sb2dpc3Rpa2EvLi9zcmMvdmVoaWNsZS50cyIsIndlYnBhY2s6Ly9yeGpzX2xvZ2lzdGlrYS8uL3NyYy9vcmRlclRyYWNraW5nLnRzIiwid2VicGFjazovL3J4anNfbG9naXN0aWthLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL29ic2VydmFibGUvZm9ya0pvaW4uanMiLCJ3ZWJwYWNrOi8vcnhqc19sb2dpc3Rpa2EvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvdXRpbC9jcmVhdGVPYmplY3QuanMiLCJ3ZWJwYWNrOi8vcnhqc19sb2dpc3Rpa2EvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL3N3aXRjaE1hcC5qcyIsIndlYnBhY2s6Ly9yeGpzX2xvZ2lzdGlrYS8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvZmluYWxpemUuanMiLCJ3ZWJwYWNrOi8vcnhqc19sb2dpc3Rpa2EvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL2ZpbHRlci5qcyIsIndlYnBhY2s6Ly9yeGpzX2xvZ2lzdGlrYS8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvc3RhcnRXaXRoLmpzIiwid2VicGFjazovL3J4anNfbG9naXN0aWthLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL29wZXJhdG9ycy9zY2FuLmpzIiwid2VicGFjazovL3J4anNfbG9naXN0aWthLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL29wZXJhdG9ycy9zY2FuSW50ZXJuYWxzLmpzIiwid2VicGFjazovL3J4anNfbG9naXN0aWthLy4vc3JjL0RPTXN0cnVjdHVyZS50cyIsIndlYnBhY2s6Ly9yeGpzX2xvZ2lzdGlrYS8uL3NyYy9pbmRleC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi5cblxuUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55XG5wdXJwb3NlIHdpdGggb3Igd2l0aG91dCBmZWUgaXMgaGVyZWJ5IGdyYW50ZWQuXG5cblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTIFdJVEhcblJFR0FSRCBUTyBUSElTIFNPRlRXQVJFIElOQ0xVRElORyBBTEwgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWVxuQU5EIEZJVE5FU1MuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1IgQkUgTElBQkxFIEZPUiBBTlkgU1BFQ0lBTCwgRElSRUNULFxuSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFUyBXSEFUU09FVkVSIFJFU1VMVElORyBGUk9NXG5MT1NTIE9GIFVTRSwgREFUQSBPUiBQUk9GSVRTLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgTkVHTElHRU5DRSBPUlxuT1RIRVIgVE9SVElPVVMgQUNUSU9OLCBBUklTSU5HIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFVTRSBPUlxuUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS5cbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSwgU3VwcHJlc3NlZEVycm9yLCBTeW1ib2wgKi9cblxudmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XG4gIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XG4gIGlmICh0eXBlb2YgYiAhPT0gXCJmdW5jdGlvblwiICYmIGIgIT09IG51bGwpXG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XG4gIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG59XG5cbmV4cG9ydCB2YXIgX19hc3NpZ24gPSBmdW5jdGlvbigpIHtcbiAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uIF9fYXNzaWduKHQpIHtcbiAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0O1xuICB9XG4gIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19yZXN0KHMsIGUpIHtcbiAgdmFyIHQgPSB7fTtcbiAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApXG4gICAgICB0W3BdID0gc1twXTtcbiAgaWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKVxuICAgICAgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGlmIChlLmluZGV4T2YocFtpXSkgPCAwICYmIE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzLCBwW2ldKSlcbiAgICAgICAgICAgICAgdFtwW2ldXSA9IHNbcFtpXV07XG4gICAgICB9XG4gIHJldHVybiB0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xuICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xuICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xuICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xuICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19wYXJhbShwYXJhbUluZGV4LCBkZWNvcmF0b3IpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQsIGtleSkgeyBkZWNvcmF0b3IodGFyZ2V0LCBrZXksIHBhcmFtSW5kZXgpOyB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2VzRGVjb3JhdGUoY3RvciwgZGVzY3JpcHRvckluLCBkZWNvcmF0b3JzLCBjb250ZXh0SW4sIGluaXRpYWxpemVycywgZXh0cmFJbml0aWFsaXplcnMpIHtcbiAgZnVuY3Rpb24gYWNjZXB0KGYpIHsgaWYgKGYgIT09IHZvaWQgMCAmJiB0eXBlb2YgZiAhPT0gXCJmdW5jdGlvblwiKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRnVuY3Rpb24gZXhwZWN0ZWRcIik7IHJldHVybiBmOyB9XG4gIHZhciBraW5kID0gY29udGV4dEluLmtpbmQsIGtleSA9IGtpbmQgPT09IFwiZ2V0dGVyXCIgPyBcImdldFwiIDoga2luZCA9PT0gXCJzZXR0ZXJcIiA/IFwic2V0XCIgOiBcInZhbHVlXCI7XG4gIHZhciB0YXJnZXQgPSAhZGVzY3JpcHRvckluICYmIGN0b3IgPyBjb250ZXh0SW5bXCJzdGF0aWNcIl0gPyBjdG9yIDogY3Rvci5wcm90b3R5cGUgOiBudWxsO1xuICB2YXIgZGVzY3JpcHRvciA9IGRlc2NyaXB0b3JJbiB8fCAodGFyZ2V0ID8gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGNvbnRleHRJbi5uYW1lKSA6IHt9KTtcbiAgdmFyIF8sIGRvbmUgPSBmYWxzZTtcbiAgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgIHZhciBjb250ZXh0ID0ge307XG4gICAgICBmb3IgKHZhciBwIGluIGNvbnRleHRJbikgY29udGV4dFtwXSA9IHAgPT09IFwiYWNjZXNzXCIgPyB7fSA6IGNvbnRleHRJbltwXTtcbiAgICAgIGZvciAodmFyIHAgaW4gY29udGV4dEluLmFjY2VzcykgY29udGV4dC5hY2Nlc3NbcF0gPSBjb250ZXh0SW4uYWNjZXNzW3BdO1xuICAgICAgY29udGV4dC5hZGRJbml0aWFsaXplciA9IGZ1bmN0aW9uIChmKSB7IGlmIChkb25lKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGFkZCBpbml0aWFsaXplcnMgYWZ0ZXIgZGVjb3JhdGlvbiBoYXMgY29tcGxldGVkXCIpOyBleHRyYUluaXRpYWxpemVycy5wdXNoKGFjY2VwdChmIHx8IG51bGwpKTsgfTtcbiAgICAgIHZhciByZXN1bHQgPSAoMCwgZGVjb3JhdG9yc1tpXSkoa2luZCA9PT0gXCJhY2Nlc3NvclwiID8geyBnZXQ6IGRlc2NyaXB0b3IuZ2V0LCBzZXQ6IGRlc2NyaXB0b3Iuc2V0IH0gOiBkZXNjcmlwdG9yW2tleV0sIGNvbnRleHQpO1xuICAgICAgaWYgKGtpbmQgPT09IFwiYWNjZXNzb3JcIikge1xuICAgICAgICAgIGlmIChyZXN1bHQgPT09IHZvaWQgMCkgY29udGludWU7XG4gICAgICAgICAgaWYgKHJlc3VsdCA9PT0gbnVsbCB8fCB0eXBlb2YgcmVzdWx0ICE9PSBcIm9iamVjdFwiKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiT2JqZWN0IGV4cGVjdGVkXCIpO1xuICAgICAgICAgIGlmIChfID0gYWNjZXB0KHJlc3VsdC5nZXQpKSBkZXNjcmlwdG9yLmdldCA9IF87XG4gICAgICAgICAgaWYgKF8gPSBhY2NlcHQocmVzdWx0LnNldCkpIGRlc2NyaXB0b3Iuc2V0ID0gXztcbiAgICAgICAgICBpZiAoXyA9IGFjY2VwdChyZXN1bHQuaW5pdCkpIGluaXRpYWxpemVycy51bnNoaWZ0KF8pO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAoXyA9IGFjY2VwdChyZXN1bHQpKSB7XG4gICAgICAgICAgaWYgKGtpbmQgPT09IFwiZmllbGRcIikgaW5pdGlhbGl6ZXJzLnVuc2hpZnQoXyk7XG4gICAgICAgICAgZWxzZSBkZXNjcmlwdG9yW2tleV0gPSBfO1xuICAgICAgfVxuICB9XG4gIGlmICh0YXJnZXQpIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGNvbnRleHRJbi5uYW1lLCBkZXNjcmlwdG9yKTtcbiAgZG9uZSA9IHRydWU7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gX19ydW5Jbml0aWFsaXplcnModGhpc0FyZywgaW5pdGlhbGl6ZXJzLCB2YWx1ZSkge1xuICB2YXIgdXNlVmFsdWUgPSBhcmd1bWVudHMubGVuZ3RoID4gMjtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbml0aWFsaXplcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhbHVlID0gdXNlVmFsdWUgPyBpbml0aWFsaXplcnNbaV0uY2FsbCh0aGlzQXJnLCB2YWx1ZSkgOiBpbml0aWFsaXplcnNbaV0uY2FsbCh0aGlzQXJnKTtcbiAgfVxuICByZXR1cm4gdXNlVmFsdWUgPyB2YWx1ZSA6IHZvaWQgMDtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBfX3Byb3BLZXkoeCkge1xuICByZXR1cm4gdHlwZW9mIHggPT09IFwic3ltYm9sXCIgPyB4IDogXCJcIi5jb25jYXQoeCk7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gX19zZXRGdW5jdGlvbk5hbWUoZiwgbmFtZSwgcHJlZml4KSB7XG4gIGlmICh0eXBlb2YgbmFtZSA9PT0gXCJzeW1ib2xcIikgbmFtZSA9IG5hbWUuZGVzY3JpcHRpb24gPyBcIltcIi5jb25jYXQobmFtZS5kZXNjcmlwdGlvbiwgXCJdXCIpIDogXCJcIjtcbiAgcmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShmLCBcIm5hbWVcIiwgeyBjb25maWd1cmFibGU6IHRydWUsIHZhbHVlOiBwcmVmaXggPyBcIlwiLmNvbmNhdChwcmVmaXgsIFwiIFwiLCBuYW1lKSA6IG5hbWUgfSk7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gX19tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSkge1xuICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QubWV0YWRhdGEgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIFJlZmxlY3QubWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdGVyKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19nZW5lcmF0b3IodGhpc0FyZywgYm9keSkge1xuICB2YXIgXyA9IHsgbGFiZWw6IDAsIHNlbnQ6IGZ1bmN0aW9uKCkgeyBpZiAodFswXSAmIDEpIHRocm93IHRbMV07IHJldHVybiB0WzFdOyB9LCB0cnlzOiBbXSwgb3BzOiBbXSB9LCBmLCB5LCB0LCBnO1xuICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcbiAgZnVuY3Rpb24gdmVyYihuKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gc3RlcChbbiwgdl0pOyB9OyB9XG4gIGZ1bmN0aW9uIHN0ZXAob3ApIHtcbiAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcbiAgICAgIHdoaWxlIChnICYmIChnID0gMCwgb3BbMF0gJiYgKF8gPSAwKSksIF8pIHRyeSB7XG4gICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xuICAgICAgICAgIGlmICh5ID0gMCwgdCkgb3AgPSBbb3BbMF0gJiAyLCB0LnZhbHVlXTtcbiAgICAgICAgICBzd2l0Y2ggKG9wWzBdKSB7XG4gICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlIDQ6IF8ubGFiZWwrKzsgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9O1xuICAgICAgICAgICAgICBjYXNlIDU6IF8ubGFiZWwrKzsgeSA9IG9wWzFdOyBvcCA9IFswXTsgY29udGludWU7XG4gICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcbiAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgIGlmICghKHQgPSBfLnRyeXMsIHQgPSB0Lmxlbmd0aCA+IDAgJiYgdFt0Lmxlbmd0aCAtIDFdKSAmJiAob3BbMF0gPT09IDYgfHwgb3BbMF0gPT09IDIpKSB7IF8gPSAwOyBjb250aW51ZTsgfVxuICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gNiAmJiBfLmxhYmVsIDwgdFsxXSkgeyBfLmxhYmVsID0gdFsxXTsgdCA9IG9wOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgaWYgKHQgJiYgXy5sYWJlbCA8IHRbMl0pIHsgXy5sYWJlbCA9IHRbMl07IF8ub3BzLnB1c2gob3ApOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XG4gICAgICB9IGNhdGNoIChlKSB7IG9wID0gWzYsIGVdOyB5ID0gMDsgfSBmaW5hbGx5IHsgZiA9IHQgPSAwOyB9XG4gICAgICBpZiAob3BbMF0gJiA1KSB0aHJvdyBvcFsxXTsgcmV0dXJuIHsgdmFsdWU6IG9wWzBdID8gb3BbMV0gOiB2b2lkIDAsIGRvbmU6IHRydWUgfTtcbiAgfVxufVxuXG5leHBvcnQgdmFyIF9fY3JlYXRlQmluZGluZyA9IE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcbiAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcbiAgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG0sIGspO1xuICBpZiAoIWRlc2MgfHwgKFwiZ2V0XCIgaW4gZGVzYyA/ICFtLl9fZXNNb2R1bGUgOiBkZXNjLndyaXRhYmxlIHx8IGRlc2MuY29uZmlndXJhYmxlKSkge1xuICAgICAgZGVzYyA9IHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIG1ba107IH0gfTtcbiAgfVxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgazIsIGRlc2MpO1xufSkgOiAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcbiAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcbiAgb1trMl0gPSBtW2tdO1xufSk7XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2V4cG9ydFN0YXIobSwgbykge1xuICBmb3IgKHZhciBwIGluIG0pIGlmIChwICE9PSBcImRlZmF1bHRcIiAmJiAhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG8sIHApKSBfX2NyZWF0ZUJpbmRpbmcobywgbSwgcCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX3ZhbHVlcyhvKSB7XG4gIHZhciBzID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIFN5bWJvbC5pdGVyYXRvciwgbSA9IHMgJiYgb1tzXSwgaSA9IDA7XG4gIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pO1xuICBpZiAobyAmJiB0eXBlb2Ygby5sZW5ndGggPT09IFwibnVtYmVyXCIpIHJldHVybiB7XG4gICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDtcbiAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07XG4gICAgICB9XG4gIH07XG4gIHRocm93IG5ldyBUeXBlRXJyb3IocyA/IFwiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS5cIiA6IFwiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVhZChvLCBuKSB7XG4gIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXTtcbiAgaWYgKCFtKSByZXR1cm4gbztcbiAgdmFyIGkgPSBtLmNhbGwobyksIHIsIGFyID0gW10sIGU7XG4gIHRyeSB7XG4gICAgICB3aGlsZSAoKG4gPT09IHZvaWQgMCB8fCBuLS0gPiAwKSAmJiAhKHIgPSBpLm5leHQoKSkuZG9uZSkgYXIucHVzaChyLnZhbHVlKTtcbiAgfVxuICBjYXRjaCAoZXJyb3IpIHsgZSA9IHsgZXJyb3I6IGVycm9yIH07IH1cbiAgZmluYWxseSB7XG4gICAgICB0cnkge1xuICAgICAgICAgIGlmIChyICYmICFyLmRvbmUgJiYgKG0gPSBpW1wicmV0dXJuXCJdKSkgbS5jYWxsKGkpO1xuICAgICAgfVxuICAgICAgZmluYWxseSB7IGlmIChlKSB0aHJvdyBlLmVycm9yOyB9XG4gIH1cbiAgcmV0dXJuIGFyO1xufVxuXG4vKiogQGRlcHJlY2F0ZWQgKi9cbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZCgpIHtcbiAgZm9yICh2YXIgYXIgPSBbXSwgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspXG4gICAgICBhciA9IGFyLmNvbmNhdChfX3JlYWQoYXJndW1lbnRzW2ldKSk7XG4gIHJldHVybiBhcjtcbn1cblxuLyoqIEBkZXByZWNhdGVkICovXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWRBcnJheXMoKSB7XG4gIGZvciAodmFyIHMgPSAwLCBpID0gMCwgaWwgPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgaWw7IGkrKykgcyArPSBhcmd1bWVudHNbaV0ubGVuZ3RoO1xuICBmb3IgKHZhciByID0gQXJyYXkocyksIGsgPSAwLCBpID0gMDsgaSA8IGlsOyBpKyspXG4gICAgICBmb3IgKHZhciBhID0gYXJndW1lbnRzW2ldLCBqID0gMCwgamwgPSBhLmxlbmd0aDsgaiA8IGpsOyBqKyssIGsrKylcbiAgICAgICAgICByW2tdID0gYVtqXTtcbiAgcmV0dXJuIHI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZEFycmF5KHRvLCBmcm9tLCBwYWNrKSB7XG4gIGlmIChwYWNrIHx8IGFyZ3VtZW50cy5sZW5ndGggPT09IDIpIGZvciAodmFyIGkgPSAwLCBsID0gZnJvbS5sZW5ndGgsIGFyOyBpIDwgbDsgaSsrKSB7XG4gICAgICBpZiAoYXIgfHwgIShpIGluIGZyb20pKSB7XG4gICAgICAgICAgaWYgKCFhcikgYXIgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChmcm9tLCAwLCBpKTtcbiAgICAgICAgICBhcltpXSA9IGZyb21baV07XG4gICAgICB9XG4gIH1cbiAgcmV0dXJuIHRvLmNvbmNhdChhciB8fCBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChmcm9tKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0KHYpIHtcbiAgcmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBfX2F3YWl0ID8gKHRoaXMudiA9IHYsIHRoaXMpIDogbmV3IF9fYXdhaXQodik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jR2VuZXJhdG9yKHRoaXNBcmcsIF9hcmd1bWVudHMsIGdlbmVyYXRvcikge1xuICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xuICB2YXIgZyA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSwgaSwgcSA9IFtdO1xuICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XG4gIGZ1bmN0aW9uIHZlcmIobikgeyBpZiAoZ1tuXSkgaVtuXSA9IGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAoYSwgYikgeyBxLnB1c2goW24sIHYsIGEsIGJdKSA+IDEgfHwgcmVzdW1lKG4sIHYpOyB9KTsgfTsgfVxuICBmdW5jdGlvbiByZXN1bWUobiwgdikgeyB0cnkgeyBzdGVwKGdbbl0odikpOyB9IGNhdGNoIChlKSB7IHNldHRsZShxWzBdWzNdLCBlKTsgfSB9XG4gIGZ1bmN0aW9uIHN0ZXAocikgeyByLnZhbHVlIGluc3RhbmNlb2YgX19hd2FpdCA/IFByb21pc2UucmVzb2x2ZShyLnZhbHVlLnYpLnRoZW4oZnVsZmlsbCwgcmVqZWN0KSA6IHNldHRsZShxWzBdWzJdLCByKTsgfVxuICBmdW5jdGlvbiBmdWxmaWxsKHZhbHVlKSB7IHJlc3VtZShcIm5leHRcIiwgdmFsdWUpOyB9XG4gIGZ1bmN0aW9uIHJlamVjdCh2YWx1ZSkgeyByZXN1bWUoXCJ0aHJvd1wiLCB2YWx1ZSk7IH1cbiAgZnVuY3Rpb24gc2V0dGxlKGYsIHYpIHsgaWYgKGYodiksIHEuc2hpZnQoKSwgcS5sZW5ndGgpIHJlc3VtZShxWzBdWzBdLCBxWzBdWzFdKTsgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0RlbGVnYXRvcihvKSB7XG4gIHZhciBpLCBwO1xuICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIsIGZ1bmN0aW9uIChlKSB7IHRocm93IGU7IH0pLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xuICBmdW5jdGlvbiB2ZXJiKG4sIGYpIHsgaVtuXSA9IG9bbl0gPyBmdW5jdGlvbiAodikgeyByZXR1cm4gKHAgPSAhcCkgPyB7IHZhbHVlOiBfX2F3YWl0KG9bbl0odikpLCBkb25lOiBmYWxzZSB9IDogZiA/IGYodikgOiB2OyB9IDogZjsgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY1ZhbHVlcyhvKSB7XG4gIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XG4gIHZhciBtID0gb1tTeW1ib2wuYXN5bmNJdGVyYXRvcl0sIGk7XG4gIHJldHVybiBtID8gbS5jYWxsKG8pIDogKG8gPSB0eXBlb2YgX192YWx1ZXMgPT09IFwiZnVuY3Rpb25cIiA/IF9fdmFsdWVzKG8pIDogb1tTeW1ib2wuaXRlcmF0b3JdKCksIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpKTtcbiAgZnVuY3Rpb24gdmVyYihuKSB7IGlbbl0gPSBvW25dICYmIGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7IHYgPSBvW25dKHYpLCBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCB2LmRvbmUsIHYudmFsdWUpOyB9KTsgfTsgfVxuICBmdW5jdGlvbiBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCBkLCB2KSB7IFByb21pc2UucmVzb2x2ZSh2KS50aGVuKGZ1bmN0aW9uKHYpIHsgcmVzb2x2ZSh7IHZhbHVlOiB2LCBkb25lOiBkIH0pOyB9LCByZWplY3QpOyB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX21ha2VUZW1wbGF0ZU9iamVjdChjb29rZWQsIHJhdykge1xuICBpZiAoT2JqZWN0LmRlZmluZVByb3BlcnR5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjb29rZWQsIFwicmF3XCIsIHsgdmFsdWU6IHJhdyB9KTsgfSBlbHNlIHsgY29va2VkLnJhdyA9IHJhdzsgfVxuICByZXR1cm4gY29va2VkO1xufTtcblxudmFyIF9fc2V0TW9kdWxlRGVmYXVsdCA9IE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgdikge1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgXCJkZWZhdWx0XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHYgfSk7XG59KSA6IGZ1bmN0aW9uKG8sIHYpIHtcbiAgb1tcImRlZmF1bHRcIl0gPSB2O1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0U3Rhcihtb2QpIHtcbiAgaWYgKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgcmV0dXJuIG1vZDtcbiAgdmFyIHJlc3VsdCA9IHt9O1xuICBpZiAobW9kICE9IG51bGwpIGZvciAodmFyIGsgaW4gbW9kKSBpZiAoayAhPT0gXCJkZWZhdWx0XCIgJiYgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vZCwgaykpIF9fY3JlYXRlQmluZGluZyhyZXN1bHQsIG1vZCwgayk7XG4gIF9fc2V0TW9kdWxlRGVmYXVsdChyZXN1bHQsIG1vZCk7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydERlZmF1bHQobW9kKSB7XG4gIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgZGVmYXVsdDogbW9kIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHJlY2VpdmVyLCBzdGF0ZSwga2luZCwgZikge1xuICBpZiAoa2luZCA9PT0gXCJhXCIgJiYgIWYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIGFjY2Vzc29yIHdhcyBkZWZpbmVkIHdpdGhvdXQgYSBnZXR0ZXJcIik7XG4gIGlmICh0eXBlb2Ygc3RhdGUgPT09IFwiZnVuY3Rpb25cIiA/IHJlY2VpdmVyICE9PSBzdGF0ZSB8fCAhZiA6ICFzdGF0ZS5oYXMocmVjZWl2ZXIpKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHJlYWQgcHJpdmF0ZSBtZW1iZXIgZnJvbSBhbiBvYmplY3Qgd2hvc2UgY2xhc3MgZGlkIG5vdCBkZWNsYXJlIGl0XCIpO1xuICByZXR1cm4ga2luZCA9PT0gXCJtXCIgPyBmIDoga2luZCA9PT0gXCJhXCIgPyBmLmNhbGwocmVjZWl2ZXIpIDogZiA/IGYudmFsdWUgOiBzdGF0ZS5nZXQocmVjZWl2ZXIpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19jbGFzc1ByaXZhdGVGaWVsZFNldChyZWNlaXZlciwgc3RhdGUsIHZhbHVlLCBraW5kLCBmKSB7XG4gIGlmIChraW5kID09PSBcIm1cIikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgbWV0aG9kIGlzIG5vdCB3cml0YWJsZVwiKTtcbiAgaWYgKGtpbmQgPT09IFwiYVwiICYmICFmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBhY2Nlc3NvciB3YXMgZGVmaW5lZCB3aXRob3V0IGEgc2V0dGVyXCIpO1xuICBpZiAodHlwZW9mIHN0YXRlID09PSBcImZ1bmN0aW9uXCIgPyByZWNlaXZlciAhPT0gc3RhdGUgfHwgIWYgOiAhc3RhdGUuaGFzKHJlY2VpdmVyKSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCB3cml0ZSBwcml2YXRlIG1lbWJlciB0byBhbiBvYmplY3Qgd2hvc2UgY2xhc3MgZGlkIG5vdCBkZWNsYXJlIGl0XCIpO1xuICByZXR1cm4gKGtpbmQgPT09IFwiYVwiID8gZi5jYWxsKHJlY2VpdmVyLCB2YWx1ZSkgOiBmID8gZi52YWx1ZSA9IHZhbHVlIDogc3RhdGUuc2V0KHJlY2VpdmVyLCB2YWx1ZSkpLCB2YWx1ZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fY2xhc3NQcml2YXRlRmllbGRJbihzdGF0ZSwgcmVjZWl2ZXIpIHtcbiAgaWYgKHJlY2VpdmVyID09PSBudWxsIHx8ICh0eXBlb2YgcmVjZWl2ZXIgIT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIHJlY2VpdmVyICE9PSBcImZ1bmN0aW9uXCIpKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHVzZSAnaW4nIG9wZXJhdG9yIG9uIG5vbi1vYmplY3RcIik7XG4gIHJldHVybiB0eXBlb2Ygc3RhdGUgPT09IFwiZnVuY3Rpb25cIiA/IHJlY2VpdmVyID09PSBzdGF0ZSA6IHN0YXRlLmhhcyhyZWNlaXZlcik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2FkZERpc3Bvc2FibGVSZXNvdXJjZShlbnYsIHZhbHVlLCBhc3luYykge1xuICBpZiAodmFsdWUgIT09IG51bGwgJiYgdmFsdWUgIT09IHZvaWQgMCkge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgIT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIHZhbHVlICE9PSBcImZ1bmN0aW9uXCIpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJPYmplY3QgZXhwZWN0ZWQuXCIpO1xuICAgIHZhciBkaXNwb3NlO1xuICAgIGlmIChhc3luYykge1xuICAgICAgICBpZiAoIVN5bWJvbC5hc3luY0Rpc3Bvc2UpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNEaXNwb3NlIGlzIG5vdCBkZWZpbmVkLlwiKTtcbiAgICAgICAgZGlzcG9zZSA9IHZhbHVlW1N5bWJvbC5hc3luY0Rpc3Bvc2VdO1xuICAgIH1cbiAgICBpZiAoZGlzcG9zZSA9PT0gdm9pZCAwKSB7XG4gICAgICAgIGlmICghU3ltYm9sLmRpc3Bvc2UpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuZGlzcG9zZSBpcyBub3QgZGVmaW5lZC5cIik7XG4gICAgICAgIGRpc3Bvc2UgPSB2YWx1ZVtTeW1ib2wuZGlzcG9zZV07XG4gICAgfVxuICAgIGlmICh0eXBlb2YgZGlzcG9zZSAhPT0gXCJmdW5jdGlvblwiKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiT2JqZWN0IG5vdCBkaXNwb3NhYmxlLlwiKTtcbiAgICBlbnYuc3RhY2sucHVzaCh7IHZhbHVlOiB2YWx1ZSwgZGlzcG9zZTogZGlzcG9zZSwgYXN5bmM6IGFzeW5jIH0pO1xuICB9XG4gIGVsc2UgaWYgKGFzeW5jKSB7XG4gICAgZW52LnN0YWNrLnB1c2goeyBhc3luYzogdHJ1ZSB9KTtcbiAgfVxuICByZXR1cm4gdmFsdWU7XG59XG5cbnZhciBfU3VwcHJlc3NlZEVycm9yID0gdHlwZW9mIFN1cHByZXNzZWRFcnJvciA9PT0gXCJmdW5jdGlvblwiID8gU3VwcHJlc3NlZEVycm9yIDogZnVuY3Rpb24gKGVycm9yLCBzdXBwcmVzc2VkLCBtZXNzYWdlKSB7XG4gIHZhciBlID0gbmV3IEVycm9yKG1lc3NhZ2UpO1xuICByZXR1cm4gZS5uYW1lID0gXCJTdXBwcmVzc2VkRXJyb3JcIiwgZS5lcnJvciA9IGVycm9yLCBlLnN1cHByZXNzZWQgPSBzdXBwcmVzc2VkLCBlO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIF9fZGlzcG9zZVJlc291cmNlcyhlbnYpIHtcbiAgZnVuY3Rpb24gZmFpbChlKSB7XG4gICAgZW52LmVycm9yID0gZW52Lmhhc0Vycm9yID8gbmV3IF9TdXBwcmVzc2VkRXJyb3IoZSwgZW52LmVycm9yLCBcIkFuIGVycm9yIHdhcyBzdXBwcmVzc2VkIGR1cmluZyBkaXNwb3NhbC5cIikgOiBlO1xuICAgIGVudi5oYXNFcnJvciA9IHRydWU7XG4gIH1cbiAgZnVuY3Rpb24gbmV4dCgpIHtcbiAgICB3aGlsZSAoZW52LnN0YWNrLmxlbmd0aCkge1xuICAgICAgdmFyIHJlYyA9IGVudi5zdGFjay5wb3AoKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIHZhciByZXN1bHQgPSByZWMuZGlzcG9zZSAmJiByZWMuZGlzcG9zZS5jYWxsKHJlYy52YWx1ZSk7XG4gICAgICAgIGlmIChyZWMuYXN5bmMpIHJldHVybiBQcm9taXNlLnJlc29sdmUocmVzdWx0KS50aGVuKG5leHQsIGZ1bmN0aW9uKGUpIHsgZmFpbChlKTsgcmV0dXJuIG5leHQoKTsgfSk7XG4gICAgICB9XG4gICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgIGZhaWwoZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChlbnYuaGFzRXJyb3IpIHRocm93IGVudi5lcnJvcjtcbiAgfVxuICByZXR1cm4gbmV4dCgpO1xufVxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIF9fZXh0ZW5kcyxcbiAgX19hc3NpZ24sXG4gIF9fcmVzdCxcbiAgX19kZWNvcmF0ZSxcbiAgX19wYXJhbSxcbiAgX19tZXRhZGF0YSxcbiAgX19hd2FpdGVyLFxuICBfX2dlbmVyYXRvcixcbiAgX19jcmVhdGVCaW5kaW5nLFxuICBfX2V4cG9ydFN0YXIsXG4gIF9fdmFsdWVzLFxuICBfX3JlYWQsXG4gIF9fc3ByZWFkLFxuICBfX3NwcmVhZEFycmF5cyxcbiAgX19zcHJlYWRBcnJheSxcbiAgX19hd2FpdCxcbiAgX19hc3luY0dlbmVyYXRvcixcbiAgX19hc3luY0RlbGVnYXRvcixcbiAgX19hc3luY1ZhbHVlcyxcbiAgX19tYWtlVGVtcGxhdGVPYmplY3QsXG4gIF9faW1wb3J0U3RhcixcbiAgX19pbXBvcnREZWZhdWx0LFxuICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0LFxuICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0LFxuICBfX2NsYXNzUHJpdmF0ZUZpZWxkSW4sXG4gIF9fYWRkRGlzcG9zYWJsZVJlc291cmNlLFxuICBfX2Rpc3Bvc2VSZXNvdXJjZXMsXG59O1xuIiwiZXhwb3J0IGZ1bmN0aW9uIGlzRnVuY3Rpb24odmFsdWUpIHtcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXNGdW5jdGlvbi5qcy5tYXAiLCJleHBvcnQgZnVuY3Rpb24gY3JlYXRlRXJyb3JDbGFzcyhjcmVhdGVJbXBsKSB7XG4gICAgdmFyIF9zdXBlciA9IGZ1bmN0aW9uIChpbnN0YW5jZSkge1xuICAgICAgICBFcnJvci5jYWxsKGluc3RhbmNlKTtcbiAgICAgICAgaW5zdGFuY2Uuc3RhY2sgPSBuZXcgRXJyb3IoKS5zdGFjaztcbiAgICB9O1xuICAgIHZhciBjdG9yRnVuYyA9IGNyZWF0ZUltcGwoX3N1cGVyKTtcbiAgICBjdG9yRnVuYy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEVycm9yLnByb3RvdHlwZSk7XG4gICAgY3RvckZ1bmMucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gY3RvckZ1bmM7XG4gICAgcmV0dXJuIGN0b3JGdW5jO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y3JlYXRlRXJyb3JDbGFzcy5qcy5tYXAiLCJpbXBvcnQgeyBjcmVhdGVFcnJvckNsYXNzIH0gZnJvbSAnLi9jcmVhdGVFcnJvckNsYXNzJztcbmV4cG9ydCB2YXIgVW5zdWJzY3JpcHRpb25FcnJvciA9IGNyZWF0ZUVycm9yQ2xhc3MoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHJldHVybiBmdW5jdGlvbiBVbnN1YnNjcmlwdGlvbkVycm9ySW1wbChlcnJvcnMpIHtcbiAgICAgICAgX3N1cGVyKHRoaXMpO1xuICAgICAgICB0aGlzLm1lc3NhZ2UgPSBlcnJvcnNcbiAgICAgICAgICAgID8gZXJyb3JzLmxlbmd0aCArIFwiIGVycm9ycyBvY2N1cnJlZCBkdXJpbmcgdW5zdWJzY3JpcHRpb246XFxuXCIgKyBlcnJvcnMubWFwKGZ1bmN0aW9uIChlcnIsIGkpIHsgcmV0dXJuIGkgKyAxICsgXCIpIFwiICsgZXJyLnRvU3RyaW5nKCk7IH0pLmpvaW4oJ1xcbiAgJylcbiAgICAgICAgICAgIDogJyc7XG4gICAgICAgIHRoaXMubmFtZSA9ICdVbnN1YnNjcmlwdGlvbkVycm9yJztcbiAgICAgICAgdGhpcy5lcnJvcnMgPSBlcnJvcnM7XG4gICAgfTtcbn0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VW5zdWJzY3JpcHRpb25FcnJvci5qcy5tYXAiLCJleHBvcnQgZnVuY3Rpb24gYXJyUmVtb3ZlKGFyciwgaXRlbSkge1xuICAgIGlmIChhcnIpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gYXJyLmluZGV4T2YoaXRlbSk7XG4gICAgICAgIDAgPD0gaW5kZXggJiYgYXJyLnNwbGljZShpbmRleCwgMSk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXJyUmVtb3ZlLmpzLm1hcCIsImltcG9ydCB7IF9fcmVhZCwgX19zcHJlYWRBcnJheSwgX192YWx1ZXMgfSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuL3V0aWwvaXNGdW5jdGlvbic7XG5pbXBvcnQgeyBVbnN1YnNjcmlwdGlvbkVycm9yIH0gZnJvbSAnLi91dGlsL1Vuc3Vic2NyaXB0aW9uRXJyb3InO1xuaW1wb3J0IHsgYXJyUmVtb3ZlIH0gZnJvbSAnLi91dGlsL2FyclJlbW92ZSc7XG52YXIgU3Vic2NyaXB0aW9uID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTdWJzY3JpcHRpb24oaW5pdGlhbFRlYXJkb3duKSB7XG4gICAgICAgIHRoaXMuaW5pdGlhbFRlYXJkb3duID0gaW5pdGlhbFRlYXJkb3duO1xuICAgICAgICB0aGlzLmNsb3NlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9wYXJlbnRhZ2UgPSBudWxsO1xuICAgICAgICB0aGlzLl9maW5hbGl6ZXJzID0gbnVsbDtcbiAgICB9XG4gICAgU3Vic2NyaXB0aW9uLnByb3RvdHlwZS51bnN1YnNjcmliZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGVfMSwgX2EsIGVfMiwgX2I7XG4gICAgICAgIHZhciBlcnJvcnM7XG4gICAgICAgIGlmICghdGhpcy5jbG9zZWQpIHtcbiAgICAgICAgICAgIHRoaXMuY2xvc2VkID0gdHJ1ZTtcbiAgICAgICAgICAgIHZhciBfcGFyZW50YWdlID0gdGhpcy5fcGFyZW50YWdlO1xuICAgICAgICAgICAgaWYgKF9wYXJlbnRhZ2UpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9wYXJlbnRhZ2UgPSBudWxsO1xuICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KF9wYXJlbnRhZ2UpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfcGFyZW50YWdlXzEgPSBfX3ZhbHVlcyhfcGFyZW50YWdlKSwgX3BhcmVudGFnZV8xXzEgPSBfcGFyZW50YWdlXzEubmV4dCgpOyAhX3BhcmVudGFnZV8xXzEuZG9uZTsgX3BhcmVudGFnZV8xXzEgPSBfcGFyZW50YWdlXzEubmV4dCgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBhcmVudF8xID0gX3BhcmVudGFnZV8xXzEudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50XzEucmVtb3ZlKHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChlXzFfMSkgeyBlXzEgPSB7IGVycm9yOiBlXzFfMSB9OyB9XG4gICAgICAgICAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3BhcmVudGFnZV8xXzEgJiYgIV9wYXJlbnRhZ2VfMV8xLmRvbmUgJiYgKF9hID0gX3BhcmVudGFnZV8xLnJldHVybikpIF9hLmNhbGwoX3BhcmVudGFnZV8xKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7IH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgX3BhcmVudGFnZS5yZW1vdmUodGhpcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGluaXRpYWxGaW5hbGl6ZXIgPSB0aGlzLmluaXRpYWxUZWFyZG93bjtcbiAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKGluaXRpYWxGaW5hbGl6ZXIpKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgaW5pdGlhbEZpbmFsaXplcigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICBlcnJvcnMgPSBlIGluc3RhbmNlb2YgVW5zdWJzY3JpcHRpb25FcnJvciA/IGUuZXJyb3JzIDogW2VdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBfZmluYWxpemVycyA9IHRoaXMuX2ZpbmFsaXplcnM7XG4gICAgICAgICAgICBpZiAoX2ZpbmFsaXplcnMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9maW5hbGl6ZXJzID0gbnVsbDtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfZmluYWxpemVyc18xID0gX192YWx1ZXMoX2ZpbmFsaXplcnMpLCBfZmluYWxpemVyc18xXzEgPSBfZmluYWxpemVyc18xLm5leHQoKTsgIV9maW5hbGl6ZXJzXzFfMS5kb25lOyBfZmluYWxpemVyc18xXzEgPSBfZmluYWxpemVyc18xLm5leHQoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZpbmFsaXplciA9IF9maW5hbGl6ZXJzXzFfMS52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhlY0ZpbmFsaXplcihmaW5hbGl6ZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9ycyA9IGVycm9ycyAhPT0gbnVsbCAmJiBlcnJvcnMgIT09IHZvaWQgMCA/IGVycm9ycyA6IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnIgaW5zdGFuY2VvZiBVbnN1YnNjcmlwdGlvbkVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9ycyA9IF9fc3ByZWFkQXJyYXkoX19zcHJlYWRBcnJheShbXSwgX19yZWFkKGVycm9ycykpLCBfX3JlYWQoZXJyLmVycm9ycykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JzLnB1c2goZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVfMl8xKSB7IGVfMiA9IHsgZXJyb3I6IGVfMl8xIH07IH1cbiAgICAgICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfZmluYWxpemVyc18xXzEgJiYgIV9maW5hbGl6ZXJzXzFfMS5kb25lICYmIChfYiA9IF9maW5hbGl6ZXJzXzEucmV0dXJuKSkgX2IuY2FsbChfZmluYWxpemVyc18xKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMikgdGhyb3cgZV8yLmVycm9yOyB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGVycm9ycykge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBVbnN1YnNjcmlwdGlvbkVycm9yKGVycm9ycyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN1YnNjcmlwdGlvbi5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gKHRlYXJkb3duKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKHRlYXJkb3duICYmIHRlYXJkb3duICE9PSB0aGlzKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5jbG9zZWQpIHtcbiAgICAgICAgICAgICAgICBleGVjRmluYWxpemVyKHRlYXJkb3duKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmICh0ZWFyZG93biBpbnN0YW5jZW9mIFN1YnNjcmlwdGlvbikge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGVhcmRvd24uY2xvc2VkIHx8IHRlYXJkb3duLl9oYXNQYXJlbnQodGhpcykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0ZWFyZG93bi5fYWRkUGFyZW50KHRoaXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAodGhpcy5fZmluYWxpemVycyA9IChfYSA9IHRoaXMuX2ZpbmFsaXplcnMpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IFtdKS5wdXNoKHRlYXJkb3duKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgU3Vic2NyaXB0aW9uLnByb3RvdHlwZS5faGFzUGFyZW50ID0gZnVuY3Rpb24gKHBhcmVudCkge1xuICAgICAgICB2YXIgX3BhcmVudGFnZSA9IHRoaXMuX3BhcmVudGFnZTtcbiAgICAgICAgcmV0dXJuIF9wYXJlbnRhZ2UgPT09IHBhcmVudCB8fCAoQXJyYXkuaXNBcnJheShfcGFyZW50YWdlKSAmJiBfcGFyZW50YWdlLmluY2x1ZGVzKHBhcmVudCkpO1xuICAgIH07XG4gICAgU3Vic2NyaXB0aW9uLnByb3RvdHlwZS5fYWRkUGFyZW50ID0gZnVuY3Rpb24gKHBhcmVudCkge1xuICAgICAgICB2YXIgX3BhcmVudGFnZSA9IHRoaXMuX3BhcmVudGFnZTtcbiAgICAgICAgdGhpcy5fcGFyZW50YWdlID0gQXJyYXkuaXNBcnJheShfcGFyZW50YWdlKSA/IChfcGFyZW50YWdlLnB1c2gocGFyZW50KSwgX3BhcmVudGFnZSkgOiBfcGFyZW50YWdlID8gW19wYXJlbnRhZ2UsIHBhcmVudF0gOiBwYXJlbnQ7XG4gICAgfTtcbiAgICBTdWJzY3JpcHRpb24ucHJvdG90eXBlLl9yZW1vdmVQYXJlbnQgPSBmdW5jdGlvbiAocGFyZW50KSB7XG4gICAgICAgIHZhciBfcGFyZW50YWdlID0gdGhpcy5fcGFyZW50YWdlO1xuICAgICAgICBpZiAoX3BhcmVudGFnZSA9PT0gcGFyZW50KSB7XG4gICAgICAgICAgICB0aGlzLl9wYXJlbnRhZ2UgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoX3BhcmVudGFnZSkpIHtcbiAgICAgICAgICAgIGFyclJlbW92ZShfcGFyZW50YWdlLCBwYXJlbnQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTdWJzY3JpcHRpb24ucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uICh0ZWFyZG93bikge1xuICAgICAgICB2YXIgX2ZpbmFsaXplcnMgPSB0aGlzLl9maW5hbGl6ZXJzO1xuICAgICAgICBfZmluYWxpemVycyAmJiBhcnJSZW1vdmUoX2ZpbmFsaXplcnMsIHRlYXJkb3duKTtcbiAgICAgICAgaWYgKHRlYXJkb3duIGluc3RhbmNlb2YgU3Vic2NyaXB0aW9uKSB7XG4gICAgICAgICAgICB0ZWFyZG93bi5fcmVtb3ZlUGFyZW50KHRoaXMpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTdWJzY3JpcHRpb24uRU1QVFkgPSAoZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZW1wdHkgPSBuZXcgU3Vic2NyaXB0aW9uKCk7XG4gICAgICAgIGVtcHR5LmNsb3NlZCA9IHRydWU7XG4gICAgICAgIHJldHVybiBlbXB0eTtcbiAgICB9KSgpO1xuICAgIHJldHVybiBTdWJzY3JpcHRpb247XG59KCkpO1xuZXhwb3J0IHsgU3Vic2NyaXB0aW9uIH07XG5leHBvcnQgdmFyIEVNUFRZX1NVQlNDUklQVElPTiA9IFN1YnNjcmlwdGlvbi5FTVBUWTtcbmV4cG9ydCBmdW5jdGlvbiBpc1N1YnNjcmlwdGlvbih2YWx1ZSkge1xuICAgIHJldHVybiAodmFsdWUgaW5zdGFuY2VvZiBTdWJzY3JpcHRpb24gfHxcbiAgICAgICAgKHZhbHVlICYmICdjbG9zZWQnIGluIHZhbHVlICYmIGlzRnVuY3Rpb24odmFsdWUucmVtb3ZlKSAmJiBpc0Z1bmN0aW9uKHZhbHVlLmFkZCkgJiYgaXNGdW5jdGlvbih2YWx1ZS51bnN1YnNjcmliZSkpKTtcbn1cbmZ1bmN0aW9uIGV4ZWNGaW5hbGl6ZXIoZmluYWxpemVyKSB7XG4gICAgaWYgKGlzRnVuY3Rpb24oZmluYWxpemVyKSkge1xuICAgICAgICBmaW5hbGl6ZXIoKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGZpbmFsaXplci51bnN1YnNjcmliZSgpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVN1YnNjcmlwdGlvbi5qcy5tYXAiLCJleHBvcnQgdmFyIGNvbmZpZyA9IHtcbiAgICBvblVuaGFuZGxlZEVycm9yOiBudWxsLFxuICAgIG9uU3RvcHBlZE5vdGlmaWNhdGlvbjogbnVsbCxcbiAgICBQcm9taXNlOiB1bmRlZmluZWQsXG4gICAgdXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZzogZmFsc2UsXG4gICAgdXNlRGVwcmVjYXRlZE5leHRDb250ZXh0OiBmYWxzZSxcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb25maWcuanMubWFwIiwiaW1wb3J0IHsgX19yZWFkLCBfX3NwcmVhZEFycmF5IH0gZnJvbSBcInRzbGliXCI7XG5leHBvcnQgdmFyIHRpbWVvdXRQcm92aWRlciA9IHtcbiAgICBzZXRUaW1lb3V0OiBmdW5jdGlvbiAoaGFuZGxlciwgdGltZW91dCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDI7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgYXJnc1tfaSAtIDJdID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZGVsZWdhdGUgPSB0aW1lb3V0UHJvdmlkZXIuZGVsZWdhdGU7XG4gICAgICAgIGlmIChkZWxlZ2F0ZSA9PT0gbnVsbCB8fCBkZWxlZ2F0ZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZGVsZWdhdGUuc2V0VGltZW91dCkge1xuICAgICAgICAgICAgcmV0dXJuIGRlbGVnYXRlLnNldFRpbWVvdXQuYXBwbHkoZGVsZWdhdGUsIF9fc3ByZWFkQXJyYXkoW2hhbmRsZXIsIHRpbWVvdXRdLCBfX3JlYWQoYXJncykpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2V0VGltZW91dC5hcHBseSh2b2lkIDAsIF9fc3ByZWFkQXJyYXkoW2hhbmRsZXIsIHRpbWVvdXRdLCBfX3JlYWQoYXJncykpKTtcbiAgICB9LFxuICAgIGNsZWFyVGltZW91dDogZnVuY3Rpb24gKGhhbmRsZSkge1xuICAgICAgICB2YXIgZGVsZWdhdGUgPSB0aW1lb3V0UHJvdmlkZXIuZGVsZWdhdGU7XG4gICAgICAgIHJldHVybiAoKGRlbGVnYXRlID09PSBudWxsIHx8IGRlbGVnYXRlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkZWxlZ2F0ZS5jbGVhclRpbWVvdXQpIHx8IGNsZWFyVGltZW91dCkoaGFuZGxlKTtcbiAgICB9LFxuICAgIGRlbGVnYXRlOiB1bmRlZmluZWQsXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGltZW91dFByb3ZpZGVyLmpzLm1hcCIsImltcG9ydCB7IGNvbmZpZyB9IGZyb20gJy4uL2NvbmZpZyc7XG5pbXBvcnQgeyB0aW1lb3V0UHJvdmlkZXIgfSBmcm9tICcuLi9zY2hlZHVsZXIvdGltZW91dFByb3ZpZGVyJztcbmV4cG9ydCBmdW5jdGlvbiByZXBvcnRVbmhhbmRsZWRFcnJvcihlcnIpIHtcbiAgICB0aW1lb3V0UHJvdmlkZXIuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBvblVuaGFuZGxlZEVycm9yID0gY29uZmlnLm9uVW5oYW5kbGVkRXJyb3I7XG4gICAgICAgIGlmIChvblVuaGFuZGxlZEVycm9yKSB7XG4gICAgICAgICAgICBvblVuaGFuZGxlZEVycm9yKGVycik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlcG9ydFVuaGFuZGxlZEVycm9yLmpzLm1hcCIsImV4cG9ydCBmdW5jdGlvbiBub29wKCkgeyB9XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ub29wLmpzLm1hcCIsImV4cG9ydCB2YXIgQ09NUExFVEVfTk9USUZJQ0FUSU9OID0gKGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNyZWF0ZU5vdGlmaWNhdGlvbignQycsIHVuZGVmaW5lZCwgdW5kZWZpbmVkKTsgfSkoKTtcbmV4cG9ydCBmdW5jdGlvbiBlcnJvck5vdGlmaWNhdGlvbihlcnJvcikge1xuICAgIHJldHVybiBjcmVhdGVOb3RpZmljYXRpb24oJ0UnLCB1bmRlZmluZWQsIGVycm9yKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBuZXh0Tm90aWZpY2F0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuIGNyZWF0ZU5vdGlmaWNhdGlvbignTicsIHZhbHVlLCB1bmRlZmluZWQpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZU5vdGlmaWNhdGlvbihraW5kLCB2YWx1ZSwgZXJyb3IpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBraW5kOiBraW5kLFxuICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgIGVycm9yOiBlcnJvcixcbiAgICB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Tm90aWZpY2F0aW9uRmFjdG9yaWVzLmpzLm1hcCIsImltcG9ydCB7IGNvbmZpZyB9IGZyb20gJy4uL2NvbmZpZyc7XG52YXIgY29udGV4dCA9IG51bGw7XG5leHBvcnQgZnVuY3Rpb24gZXJyb3JDb250ZXh0KGNiKSB7XG4gICAgaWYgKGNvbmZpZy51c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nKSB7XG4gICAgICAgIHZhciBpc1Jvb3QgPSAhY29udGV4dDtcbiAgICAgICAgaWYgKGlzUm9vdCkge1xuICAgICAgICAgICAgY29udGV4dCA9IHsgZXJyb3JUaHJvd246IGZhbHNlLCBlcnJvcjogbnVsbCB9O1xuICAgICAgICB9XG4gICAgICAgIGNiKCk7XG4gICAgICAgIGlmIChpc1Jvb3QpIHtcbiAgICAgICAgICAgIHZhciBfYSA9IGNvbnRleHQsIGVycm9yVGhyb3duID0gX2EuZXJyb3JUaHJvd24sIGVycm9yID0gX2EuZXJyb3I7XG4gICAgICAgICAgICBjb250ZXh0ID0gbnVsbDtcbiAgICAgICAgICAgIGlmIChlcnJvclRocm93bikge1xuICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjYigpO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBjYXB0dXJlRXJyb3IoZXJyKSB7XG4gICAgaWYgKGNvbmZpZy51c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nICYmIGNvbnRleHQpIHtcbiAgICAgICAgY29udGV4dC5lcnJvclRocm93biA9IHRydWU7XG4gICAgICAgIGNvbnRleHQuZXJyb3IgPSBlcnI7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXJyb3JDb250ZXh0LmpzLm1hcCIsImltcG9ydCB7IF9fZXh0ZW5kcyB9IGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJy4vdXRpbC9pc0Z1bmN0aW9uJztcbmltcG9ydCB7IGlzU3Vic2NyaXB0aW9uLCBTdWJzY3JpcHRpb24gfSBmcm9tICcuL1N1YnNjcmlwdGlvbic7XG5pbXBvcnQgeyBjb25maWcgfSBmcm9tICcuL2NvbmZpZyc7XG5pbXBvcnQgeyByZXBvcnRVbmhhbmRsZWRFcnJvciB9IGZyb20gJy4vdXRpbC9yZXBvcnRVbmhhbmRsZWRFcnJvcic7XG5pbXBvcnQgeyBub29wIH0gZnJvbSAnLi91dGlsL25vb3AnO1xuaW1wb3J0IHsgbmV4dE5vdGlmaWNhdGlvbiwgZXJyb3JOb3RpZmljYXRpb24sIENPTVBMRVRFX05PVElGSUNBVElPTiB9IGZyb20gJy4vTm90aWZpY2F0aW9uRmFjdG9yaWVzJztcbmltcG9ydCB7IHRpbWVvdXRQcm92aWRlciB9IGZyb20gJy4vc2NoZWR1bGVyL3RpbWVvdXRQcm92aWRlcic7XG5pbXBvcnQgeyBjYXB0dXJlRXJyb3IgfSBmcm9tICcuL3V0aWwvZXJyb3JDb250ZXh0JztcbnZhciBTdWJzY3JpYmVyID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoU3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBTdWJzY3JpYmVyKGRlc3RpbmF0aW9uKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmlzU3RvcHBlZCA9IGZhbHNlO1xuICAgICAgICBpZiAoZGVzdGluYXRpb24pIHtcbiAgICAgICAgICAgIF90aGlzLmRlc3RpbmF0aW9uID0gZGVzdGluYXRpb247XG4gICAgICAgICAgICBpZiAoaXNTdWJzY3JpcHRpb24oZGVzdGluYXRpb24pKSB7XG4gICAgICAgICAgICAgICAgZGVzdGluYXRpb24uYWRkKF90aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIF90aGlzLmRlc3RpbmF0aW9uID0gRU1QVFlfT0JTRVJWRVI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBTdWJzY3JpYmVyLmNyZWF0ZSA9IGZ1bmN0aW9uIChuZXh0LCBlcnJvciwgY29tcGxldGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTYWZlU3Vic2NyaWJlcihuZXh0LCBlcnJvciwgY29tcGxldGUpO1xuICAgIH07XG4gICAgU3Vic2NyaWJlci5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICBpZiAodGhpcy5pc1N0b3BwZWQpIHtcbiAgICAgICAgICAgIGhhbmRsZVN0b3BwZWROb3RpZmljYXRpb24obmV4dE5vdGlmaWNhdGlvbih2YWx1ZSksIHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fbmV4dCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN1YnNjcmliZXIucHJvdG90eXBlLmVycm9yID0gZnVuY3Rpb24gKGVycikge1xuICAgICAgICBpZiAodGhpcy5pc1N0b3BwZWQpIHtcbiAgICAgICAgICAgIGhhbmRsZVN0b3BwZWROb3RpZmljYXRpb24oZXJyb3JOb3RpZmljYXRpb24oZXJyKSwgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmlzU3RvcHBlZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLl9lcnJvcihlcnIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTdWJzY3JpYmVyLnByb3RvdHlwZS5jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNTdG9wcGVkKSB7XG4gICAgICAgICAgICBoYW5kbGVTdG9wcGVkTm90aWZpY2F0aW9uKENPTVBMRVRFX05PVElGSUNBVElPTiwgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmlzU3RvcHBlZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLl9jb21wbGV0ZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTdWJzY3JpYmVyLnByb3RvdHlwZS51bnN1YnNjcmliZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmNsb3NlZCkge1xuICAgICAgICAgICAgdGhpcy5pc1N0b3BwZWQgPSB0cnVlO1xuICAgICAgICAgICAgX3N1cGVyLnByb3RvdHlwZS51bnN1YnNjcmliZS5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbiA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN1YnNjcmliZXIucHJvdG90eXBlLl9uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuZGVzdGluYXRpb24ubmV4dCh2YWx1ZSk7XG4gICAgfTtcbiAgICBTdWJzY3JpYmVyLnByb3RvdHlwZS5fZXJyb3IgPSBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmVycm9yKGVycik7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN1YnNjcmliZXIucHJvdG90eXBlLl9jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24uY29tcGxldGUoKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIFN1YnNjcmliZXI7XG59KFN1YnNjcmlwdGlvbikpO1xuZXhwb3J0IHsgU3Vic2NyaWJlciB9O1xudmFyIF9iaW5kID0gRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQ7XG5mdW5jdGlvbiBiaW5kKGZuLCB0aGlzQXJnKSB7XG4gICAgcmV0dXJuIF9iaW5kLmNhbGwoZm4sIHRoaXNBcmcpO1xufVxudmFyIENvbnN1bWVyT2JzZXJ2ZXIgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIENvbnN1bWVyT2JzZXJ2ZXIocGFydGlhbE9ic2VydmVyKSB7XG4gICAgICAgIHRoaXMucGFydGlhbE9ic2VydmVyID0gcGFydGlhbE9ic2VydmVyO1xuICAgIH1cbiAgICBDb25zdW1lck9ic2VydmVyLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHZhciBwYXJ0aWFsT2JzZXJ2ZXIgPSB0aGlzLnBhcnRpYWxPYnNlcnZlcjtcbiAgICAgICAgaWYgKHBhcnRpYWxPYnNlcnZlci5uZXh0KSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHBhcnRpYWxPYnNlcnZlci5uZXh0KHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGhhbmRsZVVuaGFuZGxlZEVycm9yKGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgQ29uc3VtZXJPYnNlcnZlci5wcm90b3R5cGUuZXJyb3IgPSBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIHZhciBwYXJ0aWFsT2JzZXJ2ZXIgPSB0aGlzLnBhcnRpYWxPYnNlcnZlcjtcbiAgICAgICAgaWYgKHBhcnRpYWxPYnNlcnZlci5lcnJvcikge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBwYXJ0aWFsT2JzZXJ2ZXIuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGhhbmRsZVVuaGFuZGxlZEVycm9yKGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGhhbmRsZVVuaGFuZGxlZEVycm9yKGVycik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIENvbnN1bWVyT2JzZXJ2ZXIucHJvdG90eXBlLmNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcGFydGlhbE9ic2VydmVyID0gdGhpcy5wYXJ0aWFsT2JzZXJ2ZXI7XG4gICAgICAgIGlmIChwYXJ0aWFsT2JzZXJ2ZXIuY29tcGxldGUpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcGFydGlhbE9ic2VydmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBoYW5kbGVVbmhhbmRsZWRFcnJvcihlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBDb25zdW1lck9ic2VydmVyO1xufSgpKTtcbnZhciBTYWZlU3Vic2NyaWJlciA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFNhZmVTdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFNhZmVTdWJzY3JpYmVyKG9ic2VydmVyT3JOZXh0LCBlcnJvciwgY29tcGxldGUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgdmFyIHBhcnRpYWxPYnNlcnZlcjtcbiAgICAgICAgaWYgKGlzRnVuY3Rpb24ob2JzZXJ2ZXJPck5leHQpIHx8ICFvYnNlcnZlck9yTmV4dCkge1xuICAgICAgICAgICAgcGFydGlhbE9ic2VydmVyID0ge1xuICAgICAgICAgICAgICAgIG5leHQ6IChvYnNlcnZlck9yTmV4dCAhPT0gbnVsbCAmJiBvYnNlcnZlck9yTmV4dCAhPT0gdm9pZCAwID8gb2JzZXJ2ZXJPck5leHQgOiB1bmRlZmluZWQpLFxuICAgICAgICAgICAgICAgIGVycm9yOiBlcnJvciAhPT0gbnVsbCAmJiBlcnJvciAhPT0gdm9pZCAwID8gZXJyb3IgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgY29tcGxldGU6IGNvbXBsZXRlICE9PSBudWxsICYmIGNvbXBsZXRlICE9PSB2b2lkIDAgPyBjb21wbGV0ZSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgY29udGV4dF8xO1xuICAgICAgICAgICAgaWYgKF90aGlzICYmIGNvbmZpZy51c2VEZXByZWNhdGVkTmV4dENvbnRleHQpIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0XzEgPSBPYmplY3QuY3JlYXRlKG9ic2VydmVyT3JOZXh0KTtcbiAgICAgICAgICAgICAgICBjb250ZXh0XzEudW5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy51bnN1YnNjcmliZSgpOyB9O1xuICAgICAgICAgICAgICAgIHBhcnRpYWxPYnNlcnZlciA9IHtcbiAgICAgICAgICAgICAgICAgICAgbmV4dDogb2JzZXJ2ZXJPck5leHQubmV4dCAmJiBiaW5kKG9ic2VydmVyT3JOZXh0Lm5leHQsIGNvbnRleHRfMSksXG4gICAgICAgICAgICAgICAgICAgIGVycm9yOiBvYnNlcnZlck9yTmV4dC5lcnJvciAmJiBiaW5kKG9ic2VydmVyT3JOZXh0LmVycm9yLCBjb250ZXh0XzEpLFxuICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZTogb2JzZXJ2ZXJPck5leHQuY29tcGxldGUgJiYgYmluZChvYnNlcnZlck9yTmV4dC5jb21wbGV0ZSwgY29udGV4dF8xKSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcGFydGlhbE9ic2VydmVyID0gb2JzZXJ2ZXJPck5leHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgX3RoaXMuZGVzdGluYXRpb24gPSBuZXcgQ29uc3VtZXJPYnNlcnZlcihwYXJ0aWFsT2JzZXJ2ZXIpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIHJldHVybiBTYWZlU3Vic2NyaWJlcjtcbn0oU3Vic2NyaWJlcikpO1xuZXhwb3J0IHsgU2FmZVN1YnNjcmliZXIgfTtcbmZ1bmN0aW9uIGhhbmRsZVVuaGFuZGxlZEVycm9yKGVycm9yKSB7XG4gICAgaWYgKGNvbmZpZy51c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nKSB7XG4gICAgICAgIGNhcHR1cmVFcnJvcihlcnJvcik7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXBvcnRVbmhhbmRsZWRFcnJvcihlcnJvcik7XG4gICAgfVxufVxuZnVuY3Rpb24gZGVmYXVsdEVycm9ySGFuZGxlcihlcnIpIHtcbiAgICB0aHJvdyBlcnI7XG59XG5mdW5jdGlvbiBoYW5kbGVTdG9wcGVkTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbiwgc3Vic2NyaWJlcikge1xuICAgIHZhciBvblN0b3BwZWROb3RpZmljYXRpb24gPSBjb25maWcub25TdG9wcGVkTm90aWZpY2F0aW9uO1xuICAgIG9uU3RvcHBlZE5vdGlmaWNhdGlvbiAmJiB0aW1lb3V0UHJvdmlkZXIuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IHJldHVybiBvblN0b3BwZWROb3RpZmljYXRpb24obm90aWZpY2F0aW9uLCBzdWJzY3JpYmVyKTsgfSk7XG59XG5leHBvcnQgdmFyIEVNUFRZX09CU0VSVkVSID0ge1xuICAgIGNsb3NlZDogdHJ1ZSxcbiAgICBuZXh0OiBub29wLFxuICAgIGVycm9yOiBkZWZhdWx0RXJyb3JIYW5kbGVyLFxuICAgIGNvbXBsZXRlOiBub29wLFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVN1YnNjcmliZXIuanMubWFwIiwiZXhwb3J0IHZhciBvYnNlcnZhYmxlID0gKGZ1bmN0aW9uICgpIHsgcmV0dXJuICh0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmIFN5bWJvbC5vYnNlcnZhYmxlKSB8fCAnQEBvYnNlcnZhYmxlJzsgfSkoKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW9ic2VydmFibGUuanMubWFwIiwiZXhwb3J0IGZ1bmN0aW9uIGlkZW50aXR5KHgpIHtcbiAgICByZXR1cm4geDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlkZW50aXR5LmpzLm1hcCIsImltcG9ydCB7IFNhZmVTdWJzY3JpYmVyLCBTdWJzY3JpYmVyIH0gZnJvbSAnLi9TdWJzY3JpYmVyJztcbmltcG9ydCB7IGlzU3Vic2NyaXB0aW9uIH0gZnJvbSAnLi9TdWJzY3JpcHRpb24nO1xuaW1wb3J0IHsgb2JzZXJ2YWJsZSBhcyBTeW1ib2xfb2JzZXJ2YWJsZSB9IGZyb20gJy4vc3ltYm9sL29ic2VydmFibGUnO1xuaW1wb3J0IHsgcGlwZUZyb21BcnJheSB9IGZyb20gJy4vdXRpbC9waXBlJztcbmltcG9ydCB7IGNvbmZpZyB9IGZyb20gJy4vY29uZmlnJztcbmltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuL3V0aWwvaXNGdW5jdGlvbic7XG5pbXBvcnQgeyBlcnJvckNvbnRleHQgfSBmcm9tICcuL3V0aWwvZXJyb3JDb250ZXh0JztcbnZhciBPYnNlcnZhYmxlID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBPYnNlcnZhYmxlKHN1YnNjcmliZSkge1xuICAgICAgICBpZiAoc3Vic2NyaWJlKSB7XG4gICAgICAgICAgICB0aGlzLl9zdWJzY3JpYmUgPSBzdWJzY3JpYmU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGUubGlmdCA9IGZ1bmN0aW9uIChvcGVyYXRvcikge1xuICAgICAgICB2YXIgb2JzZXJ2YWJsZSA9IG5ldyBPYnNlcnZhYmxlKCk7XG4gICAgICAgIG9ic2VydmFibGUuc291cmNlID0gdGhpcztcbiAgICAgICAgb2JzZXJ2YWJsZS5vcGVyYXRvciA9IG9wZXJhdG9yO1xuICAgICAgICByZXR1cm4gb2JzZXJ2YWJsZTtcbiAgICB9O1xuICAgIE9ic2VydmFibGUucHJvdG90eXBlLnN1YnNjcmliZSA9IGZ1bmN0aW9uIChvYnNlcnZlck9yTmV4dCwgZXJyb3IsIGNvbXBsZXRlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBzdWJzY3JpYmVyID0gaXNTdWJzY3JpYmVyKG9ic2VydmVyT3JOZXh0KSA/IG9ic2VydmVyT3JOZXh0IDogbmV3IFNhZmVTdWJzY3JpYmVyKG9ic2VydmVyT3JOZXh0LCBlcnJvciwgY29tcGxldGUpO1xuICAgICAgICBlcnJvckNvbnRleHQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIF9hID0gX3RoaXMsIG9wZXJhdG9yID0gX2Eub3BlcmF0b3IsIHNvdXJjZSA9IF9hLnNvdXJjZTtcbiAgICAgICAgICAgIHN1YnNjcmliZXIuYWRkKG9wZXJhdG9yXG4gICAgICAgICAgICAgICAgP1xuICAgICAgICAgICAgICAgICAgICBvcGVyYXRvci5jYWxsKHN1YnNjcmliZXIsIHNvdXJjZSlcbiAgICAgICAgICAgICAgICA6IHNvdXJjZVxuICAgICAgICAgICAgICAgICAgICA/XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fc3Vic2NyaWJlKHN1YnNjcmliZXIpXG4gICAgICAgICAgICAgICAgICAgIDpcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl90cnlTdWJzY3JpYmUoc3Vic2NyaWJlcikpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHN1YnNjcmliZXI7XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlLnByb3RvdHlwZS5fdHJ5U3Vic2NyaWJlID0gZnVuY3Rpb24gKHNpbmspIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zdWJzY3JpYmUoc2luayk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgc2luay5lcnJvcihlcnIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24gKG5leHQsIHByb21pc2VDdG9yKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHByb21pc2VDdG9yID0gZ2V0UHJvbWlzZUN0b3IocHJvbWlzZUN0b3IpO1xuICAgICAgICByZXR1cm4gbmV3IHByb21pc2VDdG9yKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgIHZhciBzdWJzY3JpYmVyID0gbmV3IFNhZmVTdWJzY3JpYmVyKHtcbiAgICAgICAgICAgICAgICBuZXh0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHQodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlci51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBlcnJvcjogcmVqZWN0LFxuICAgICAgICAgICAgICAgIGNvbXBsZXRlOiByZXNvbHZlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBfdGhpcy5zdWJzY3JpYmUoc3Vic2NyaWJlcik7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGUuX3N1YnNjcmliZSA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgcmV0dXJuIChfYSA9IHRoaXMuc291cmNlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc3Vic2NyaWJlKHN1YnNjcmliZXIpO1xuICAgIH07XG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGVbU3ltYm9sX29ic2VydmFibGVdID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIE9ic2VydmFibGUucHJvdG90eXBlLnBpcGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBvcGVyYXRpb25zID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBvcGVyYXRpb25zW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBpcGVGcm9tQXJyYXkob3BlcmF0aW9ucykodGhpcyk7XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlLnByb3RvdHlwZS50b1Byb21pc2UgPSBmdW5jdGlvbiAocHJvbWlzZUN0b3IpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgcHJvbWlzZUN0b3IgPSBnZXRQcm9taXNlQ3Rvcihwcm9taXNlQ3Rvcik7XG4gICAgICAgIHJldHVybiBuZXcgcHJvbWlzZUN0b3IoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgdmFyIHZhbHVlO1xuICAgICAgICAgICAgX3RoaXMuc3Vic2NyaWJlKGZ1bmN0aW9uICh4KSB7IHJldHVybiAodmFsdWUgPSB4KTsgfSwgZnVuY3Rpb24gKGVycikgeyByZXR1cm4gcmVqZWN0KGVycik7IH0sIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJlc29sdmUodmFsdWUpOyB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlLmNyZWF0ZSA9IGZ1bmN0aW9uIChzdWJzY3JpYmUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKHN1YnNjcmliZSk7XG4gICAgfTtcbiAgICByZXR1cm4gT2JzZXJ2YWJsZTtcbn0oKSk7XG5leHBvcnQgeyBPYnNlcnZhYmxlIH07XG5mdW5jdGlvbiBnZXRQcm9taXNlQ3Rvcihwcm9taXNlQ3Rvcikge1xuICAgIHZhciBfYTtcbiAgICByZXR1cm4gKF9hID0gcHJvbWlzZUN0b3IgIT09IG51bGwgJiYgcHJvbWlzZUN0b3IgIT09IHZvaWQgMCA/IHByb21pc2VDdG9yIDogY29uZmlnLlByb21pc2UpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IFByb21pc2U7XG59XG5mdW5jdGlvbiBpc09ic2VydmVyKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlICYmIGlzRnVuY3Rpb24odmFsdWUubmV4dCkgJiYgaXNGdW5jdGlvbih2YWx1ZS5lcnJvcikgJiYgaXNGdW5jdGlvbih2YWx1ZS5jb21wbGV0ZSk7XG59XG5mdW5jdGlvbiBpc1N1YnNjcmliZXIodmFsdWUpIHtcbiAgICByZXR1cm4gKHZhbHVlICYmIHZhbHVlIGluc3RhbmNlb2YgU3Vic2NyaWJlcikgfHwgKGlzT2JzZXJ2ZXIodmFsdWUpICYmIGlzU3Vic2NyaXB0aW9uKHZhbHVlKSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1PYnNlcnZhYmxlLmpzLm1hcCIsImltcG9ydCB7IGlkZW50aXR5IH0gZnJvbSAnLi9pZGVudGl0eSc7XG5leHBvcnQgZnVuY3Rpb24gcGlwZSgpIHtcbiAgICB2YXIgZm5zID0gW107XG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgZm5zW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfVxuICAgIHJldHVybiBwaXBlRnJvbUFycmF5KGZucyk7XG59XG5leHBvcnQgZnVuY3Rpb24gcGlwZUZyb21BcnJheShmbnMpIHtcbiAgICBpZiAoZm5zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gaWRlbnRpdHk7XG4gICAgfVxuICAgIGlmIChmbnMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIHJldHVybiBmbnNbMF07XG4gICAgfVxuICAgIHJldHVybiBmdW5jdGlvbiBwaXBlZChpbnB1dCkge1xuICAgICAgICByZXR1cm4gZm5zLnJlZHVjZShmdW5jdGlvbiAocHJldiwgZm4pIHsgcmV0dXJuIGZuKHByZXYpOyB9LCBpbnB1dCk7XG4gICAgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBpcGUuanMubWFwIiwiZXhwb3J0IHZhciBpc0FycmF5TGlrZSA9IChmdW5jdGlvbiAoeCkgeyByZXR1cm4geCAmJiB0eXBlb2YgeC5sZW5ndGggPT09ICdudW1iZXInICYmIHR5cGVvZiB4ICE9PSAnZnVuY3Rpb24nOyB9KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzQXJyYXlMaWtlLmpzLm1hcCIsImltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tIFwiLi9pc0Z1bmN0aW9uXCI7XG5leHBvcnQgZnVuY3Rpb24gaXNQcm9taXNlKHZhbHVlKSB7XG4gICAgcmV0dXJuIGlzRnVuY3Rpb24odmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHZhbHVlLnRoZW4pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXNQcm9taXNlLmpzLm1hcCIsImltcG9ydCB7IG9ic2VydmFibGUgYXMgU3ltYm9sX29ic2VydmFibGUgfSBmcm9tICcuLi9zeW1ib2wvb2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSAnLi9pc0Z1bmN0aW9uJztcbmV4cG9ydCBmdW5jdGlvbiBpc0ludGVyb3BPYnNlcnZhYmxlKGlucHV0KSB7XG4gICAgcmV0dXJuIGlzRnVuY3Rpb24oaW5wdXRbU3ltYm9sX29ic2VydmFibGVdKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzSW50ZXJvcE9ic2VydmFibGUuanMubWFwIiwiaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJy4vaXNGdW5jdGlvbic7XG5leHBvcnQgZnVuY3Rpb24gaXNBc3luY0l0ZXJhYmxlKG9iaikge1xuICAgIHJldHVybiBTeW1ib2wuYXN5bmNJdGVyYXRvciAmJiBpc0Z1bmN0aW9uKG9iaiA9PT0gbnVsbCB8fCBvYmogPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9ialtTeW1ib2wuYXN5bmNJdGVyYXRvcl0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXNBc3luY0l0ZXJhYmxlLmpzLm1hcCIsImV4cG9ydCBmdW5jdGlvbiBjcmVhdGVJbnZhbGlkT2JzZXJ2YWJsZVR5cGVFcnJvcihpbnB1dCkge1xuICAgIHJldHVybiBuZXcgVHlwZUVycm9yKFwiWW91IHByb3ZpZGVkIFwiICsgKGlucHV0ICE9PSBudWxsICYmIHR5cGVvZiBpbnB1dCA9PT0gJ29iamVjdCcgPyAnYW4gaW52YWxpZCBvYmplY3QnIDogXCInXCIgKyBpbnB1dCArIFwiJ1wiKSArIFwiIHdoZXJlIGEgc3RyZWFtIHdhcyBleHBlY3RlZC4gWW91IGNhbiBwcm92aWRlIGFuIE9ic2VydmFibGUsIFByb21pc2UsIFJlYWRhYmxlU3RyZWFtLCBBcnJheSwgQXN5bmNJdGVyYWJsZSwgb3IgSXRlcmFibGUuXCIpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGhyb3dVbm9ic2VydmFibGVFcnJvci5qcy5tYXAiLCJleHBvcnQgZnVuY3Rpb24gZ2V0U3ltYm9sSXRlcmF0b3IoKSB7XG4gICAgaWYgKHR5cGVvZiBTeW1ib2wgIT09ICdmdW5jdGlvbicgfHwgIVN5bWJvbC5pdGVyYXRvcikge1xuICAgICAgICByZXR1cm4gJ0BAaXRlcmF0b3InO1xuICAgIH1cbiAgICByZXR1cm4gU3ltYm9sLml0ZXJhdG9yO1xufVxuZXhwb3J0IHZhciBpdGVyYXRvciA9IGdldFN5bWJvbEl0ZXJhdG9yKCk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pdGVyYXRvci5qcy5tYXAiLCJpbXBvcnQgeyBpdGVyYXRvciBhcyBTeW1ib2xfaXRlcmF0b3IgfSBmcm9tICcuLi9zeW1ib2wvaXRlcmF0b3InO1xuaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJy4vaXNGdW5jdGlvbic7XG5leHBvcnQgZnVuY3Rpb24gaXNJdGVyYWJsZShpbnB1dCkge1xuICAgIHJldHVybiBpc0Z1bmN0aW9uKGlucHV0ID09PSBudWxsIHx8IGlucHV0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpbnB1dFtTeW1ib2xfaXRlcmF0b3JdKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzSXRlcmFibGUuanMubWFwIiwiaW1wb3J0IHsgX19hc3luY0dlbmVyYXRvciwgX19hd2FpdCwgX19nZW5lcmF0b3IgfSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuL2lzRnVuY3Rpb24nO1xuZXhwb3J0IGZ1bmN0aW9uIHJlYWRhYmxlU3RyZWFtTGlrZVRvQXN5bmNHZW5lcmF0b3IocmVhZGFibGVTdHJlYW0pIHtcbiAgICByZXR1cm4gX19hc3luY0dlbmVyYXRvcih0aGlzLCBhcmd1bWVudHMsIGZ1bmN0aW9uIHJlYWRhYmxlU3RyZWFtTGlrZVRvQXN5bmNHZW5lcmF0b3JfMSgpIHtcbiAgICAgICAgdmFyIHJlYWRlciwgX2EsIHZhbHVlLCBkb25lO1xuICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9iKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9iLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICByZWFkZXIgPSByZWFkYWJsZVN0cmVhbS5nZXRSZWFkZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgX2IubGFiZWwgPSAxO1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgX2IudHJ5cy5wdXNoKFsxLCAsIDksIDEwXSk7XG4gICAgICAgICAgICAgICAgICAgIF9iLmxhYmVsID0gMjtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGlmICghdHJ1ZSkgcmV0dXJuIFszLCA4XTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0LCBfX2F3YWl0KHJlYWRlci5yZWFkKCkpXTtcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIF9hID0gX2Iuc2VudCgpLCB2YWx1ZSA9IF9hLnZhbHVlLCBkb25lID0gX2EuZG9uZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFkb25lKSByZXR1cm4gWzMsIDVdO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQsIF9fYXdhaXQodm9pZCAwKV07XG4gICAgICAgICAgICAgICAgY2FzZSA0OiByZXR1cm4gWzIsIF9iLnNlbnQoKV07XG4gICAgICAgICAgICAgICAgY2FzZSA1OiByZXR1cm4gWzQsIF9fYXdhaXQodmFsdWUpXTtcbiAgICAgICAgICAgICAgICBjYXNlIDY6IHJldHVybiBbNCwgX2Iuc2VudCgpXTtcbiAgICAgICAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICAgICAgICAgIF9iLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszLCAyXTtcbiAgICAgICAgICAgICAgICBjYXNlIDg6IHJldHVybiBbMywgMTBdO1xuICAgICAgICAgICAgICAgIGNhc2UgOTpcbiAgICAgICAgICAgICAgICAgICAgcmVhZGVyLnJlbGVhc2VMb2NrKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbN107XG4gICAgICAgICAgICAgICAgY2FzZSAxMDogcmV0dXJuIFsyXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNSZWFkYWJsZVN0cmVhbUxpa2Uob2JqKSB7XG4gICAgcmV0dXJuIGlzRnVuY3Rpb24ob2JqID09PSBudWxsIHx8IG9iaiA9PT0gdm9pZCAwID8gdm9pZCAwIDogb2JqLmdldFJlYWRlcik7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pc1JlYWRhYmxlU3RyZWFtTGlrZS5qcy5tYXAiLCJpbXBvcnQgeyBfX2FzeW5jVmFsdWVzLCBfX2F3YWl0ZXIsIF9fZ2VuZXJhdG9yLCBfX3ZhbHVlcyB9IGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgaXNBcnJheUxpa2UgfSBmcm9tICcuLi91dGlsL2lzQXJyYXlMaWtlJztcbmltcG9ydCB7IGlzUHJvbWlzZSB9IGZyb20gJy4uL3V0aWwvaXNQcm9taXNlJztcbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IGlzSW50ZXJvcE9ic2VydmFibGUgfSBmcm9tICcuLi91dGlsL2lzSW50ZXJvcE9ic2VydmFibGUnO1xuaW1wb3J0IHsgaXNBc3luY0l0ZXJhYmxlIH0gZnJvbSAnLi4vdXRpbC9pc0FzeW5jSXRlcmFibGUnO1xuaW1wb3J0IHsgY3JlYXRlSW52YWxpZE9ic2VydmFibGVUeXBlRXJyb3IgfSBmcm9tICcuLi91dGlsL3Rocm93VW5vYnNlcnZhYmxlRXJyb3InO1xuaW1wb3J0IHsgaXNJdGVyYWJsZSB9IGZyb20gJy4uL3V0aWwvaXNJdGVyYWJsZSc7XG5pbXBvcnQgeyBpc1JlYWRhYmxlU3RyZWFtTGlrZSwgcmVhZGFibGVTdHJlYW1MaWtlVG9Bc3luY0dlbmVyYXRvciB9IGZyb20gJy4uL3V0aWwvaXNSZWFkYWJsZVN0cmVhbUxpa2UnO1xuaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJy4uL3V0aWwvaXNGdW5jdGlvbic7XG5pbXBvcnQgeyByZXBvcnRVbmhhbmRsZWRFcnJvciB9IGZyb20gJy4uL3V0aWwvcmVwb3J0VW5oYW5kbGVkRXJyb3InO1xuaW1wb3J0IHsgb2JzZXJ2YWJsZSBhcyBTeW1ib2xfb2JzZXJ2YWJsZSB9IGZyb20gJy4uL3N5bWJvbC9vYnNlcnZhYmxlJztcbmV4cG9ydCBmdW5jdGlvbiBpbm5lckZyb20oaW5wdXQpIHtcbiAgICBpZiAoaW5wdXQgaW5zdGFuY2VvZiBPYnNlcnZhYmxlKSB7XG4gICAgICAgIHJldHVybiBpbnB1dDtcbiAgICB9XG4gICAgaWYgKGlucHV0ICE9IG51bGwpIHtcbiAgICAgICAgaWYgKGlzSW50ZXJvcE9ic2VydmFibGUoaW5wdXQpKSB7XG4gICAgICAgICAgICByZXR1cm4gZnJvbUludGVyb3BPYnNlcnZhYmxlKGlucHV0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNBcnJheUxpa2UoaW5wdXQpKSB7XG4gICAgICAgICAgICByZXR1cm4gZnJvbUFycmF5TGlrZShpbnB1dCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzUHJvbWlzZShpbnB1dCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmcm9tUHJvbWlzZShpbnB1dCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzQXN5bmNJdGVyYWJsZShpbnB1dCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmcm9tQXN5bmNJdGVyYWJsZShpbnB1dCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzSXRlcmFibGUoaW5wdXQpKSB7XG4gICAgICAgICAgICByZXR1cm4gZnJvbUl0ZXJhYmxlKGlucHV0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNSZWFkYWJsZVN0cmVhbUxpa2UoaW5wdXQpKSB7XG4gICAgICAgICAgICByZXR1cm4gZnJvbVJlYWRhYmxlU3RyZWFtTGlrZShpbnB1dCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdGhyb3cgY3JlYXRlSW52YWxpZE9ic2VydmFibGVUeXBlRXJyb3IoaW5wdXQpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGZyb21JbnRlcm9wT2JzZXJ2YWJsZShvYmopIHtcbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIG9icyA9IG9ialtTeW1ib2xfb2JzZXJ2YWJsZV0oKTtcbiAgICAgICAgaWYgKGlzRnVuY3Rpb24ob2JzLnN1YnNjcmliZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBvYnMuc3Vic2NyaWJlKHN1YnNjcmliZXIpO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1Byb3ZpZGVkIG9iamVjdCBkb2VzIG5vdCBjb3JyZWN0bHkgaW1wbGVtZW50IFN5bWJvbC5vYnNlcnZhYmxlJyk7XG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gZnJvbUFycmF5TGlrZShhcnJheSkge1xuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aCAmJiAhc3Vic2NyaWJlci5jbG9zZWQ7IGkrKykge1xuICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KGFycmF5W2ldKTtcbiAgICAgICAgfVxuICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gZnJvbVByb21pc2UocHJvbWlzZSkge1xuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICBwcm9taXNlXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICghc3Vic2NyaWJlci5jbG9zZWQpIHtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQodmFsdWUpO1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgZnVuY3Rpb24gKGVycikgeyByZXR1cm4gc3Vic2NyaWJlci5lcnJvcihlcnIpOyB9KVxuICAgICAgICAgICAgLnRoZW4obnVsbCwgcmVwb3J0VW5oYW5kbGVkRXJyb3IpO1xuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGZyb21JdGVyYWJsZShpdGVyYWJsZSkge1xuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgZV8xLCBfYTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGZvciAodmFyIGl0ZXJhYmxlXzEgPSBfX3ZhbHVlcyhpdGVyYWJsZSksIGl0ZXJhYmxlXzFfMSA9IGl0ZXJhYmxlXzEubmV4dCgpOyAhaXRlcmFibGVfMV8xLmRvbmU7IGl0ZXJhYmxlXzFfMSA9IGl0ZXJhYmxlXzEubmV4dCgpKSB7XG4gICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gaXRlcmFibGVfMV8xLnZhbHVlO1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgaWYgKHN1YnNjcmliZXIuY2xvc2VkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVfMV8xKSB7IGVfMSA9IHsgZXJyb3I6IGVfMV8xIH07IH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGlmIChpdGVyYWJsZV8xXzEgJiYgIWl0ZXJhYmxlXzFfMS5kb25lICYmIChfYSA9IGl0ZXJhYmxlXzEucmV0dXJuKSkgX2EuY2FsbChpdGVyYWJsZV8xKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7IH1cbiAgICAgICAgfVxuICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gZnJvbUFzeW5jSXRlcmFibGUoYXN5bmNJdGVyYWJsZSkge1xuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICBwcm9jZXNzKGFzeW5jSXRlcmFibGUsIHN1YnNjcmliZXIpLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsgcmV0dXJuIHN1YnNjcmliZXIuZXJyb3IoZXJyKTsgfSk7XG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gZnJvbVJlYWRhYmxlU3RyZWFtTGlrZShyZWFkYWJsZVN0cmVhbSkge1xuICAgIHJldHVybiBmcm9tQXN5bmNJdGVyYWJsZShyZWFkYWJsZVN0cmVhbUxpa2VUb0FzeW5jR2VuZXJhdG9yKHJlYWRhYmxlU3RyZWFtKSk7XG59XG5mdW5jdGlvbiBwcm9jZXNzKGFzeW5jSXRlcmFibGUsIHN1YnNjcmliZXIpIHtcbiAgICB2YXIgYXN5bmNJdGVyYWJsZV8xLCBhc3luY0l0ZXJhYmxlXzFfMTtcbiAgICB2YXIgZV8yLCBfYTtcbiAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB2YWx1ZSwgZV8yXzE7XG4gICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2IpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2IubGFiZWwpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgIF9iLnRyeXMucHVzaChbMCwgNSwgNiwgMTFdKTtcbiAgICAgICAgICAgICAgICAgICAgYXN5bmNJdGVyYWJsZV8xID0gX19hc3luY1ZhbHVlcyhhc3luY0l0ZXJhYmxlKTtcbiAgICAgICAgICAgICAgICAgICAgX2IubGFiZWwgPSAxO1xuICAgICAgICAgICAgICAgIGNhc2UgMTogcmV0dXJuIFs0LCBhc3luY0l0ZXJhYmxlXzEubmV4dCgpXTtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGlmICghKGFzeW5jSXRlcmFibGVfMV8xID0gX2Iuc2VudCgpLCAhYXN5bmNJdGVyYWJsZV8xXzEuZG9uZSkpIHJldHVybiBbMywgNF07XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gYXN5bmNJdGVyYWJsZV8xXzEudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdWJzY3JpYmVyLmNsb3NlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBfYi5sYWJlbCA9IDM7XG4gICAgICAgICAgICAgICAgY2FzZSAzOiByZXR1cm4gWzMsIDFdO1xuICAgICAgICAgICAgICAgIGNhc2UgNDogcmV0dXJuIFszLCAxMV07XG4gICAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgICAgICBlXzJfMSA9IF9iLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgZV8yID0geyBlcnJvcjogZV8yXzEgfTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszLCAxMV07XG4gICAgICAgICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgICAgICAgICBfYi50cnlzLnB1c2goWzYsICwgOSwgMTBdKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEoYXN5bmNJdGVyYWJsZV8xXzEgJiYgIWFzeW5jSXRlcmFibGVfMV8xLmRvbmUgJiYgKF9hID0gYXN5bmNJdGVyYWJsZV8xLnJldHVybikpKSByZXR1cm4gWzMsIDhdO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQsIF9hLmNhbGwoYXN5bmNJdGVyYWJsZV8xKV07XG4gICAgICAgICAgICAgICAgY2FzZSA3OlxuICAgICAgICAgICAgICAgICAgICBfYi5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgIF9iLmxhYmVsID0gODtcbiAgICAgICAgICAgICAgICBjYXNlIDg6IHJldHVybiBbMywgMTBdO1xuICAgICAgICAgICAgICAgIGNhc2UgOTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVfMikgdGhyb3cgZV8yLmVycm9yO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzddO1xuICAgICAgICAgICAgICAgIGNhc2UgMTA6IHJldHVybiBbN107XG4gICAgICAgICAgICAgICAgY2FzZSAxMTpcbiAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzJdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlubmVyRnJvbS5qcy5tYXAiLCJ2YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXk7XG5leHBvcnQgZnVuY3Rpb24gYXJnc09yQXJnQXJyYXkoYXJncykge1xuICAgIHJldHVybiBhcmdzLmxlbmd0aCA9PT0gMSAmJiBpc0FycmF5KGFyZ3NbMF0pID8gYXJnc1swXSA6IGFyZ3M7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcmdzT3JBcmdBcnJheS5qcy5tYXAiLCJpbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5leHBvcnQgdmFyIEVNUFRZID0gbmV3IE9ic2VydmFibGUoZnVuY3Rpb24gKHN1YnNjcmliZXIpIHsgcmV0dXJuIHN1YnNjcmliZXIuY29tcGxldGUoKTsgfSk7XG5leHBvcnQgZnVuY3Rpb24gZW1wdHkoc2NoZWR1bGVyKSB7XG4gICAgcmV0dXJuIHNjaGVkdWxlciA/IGVtcHR5U2NoZWR1bGVkKHNjaGVkdWxlcikgOiBFTVBUWTtcbn1cbmZ1bmN0aW9uIGVtcHR5U2NoZWR1bGVkKHNjaGVkdWxlcikge1xuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikgeyByZXR1cm4gc2NoZWR1bGVyLnNjaGVkdWxlKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHN1YnNjcmliZXIuY29tcGxldGUoKTsgfSk7IH0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZW1wdHkuanMubWFwIiwiaW1wb3J0IHsgX19leHRlbmRzIH0gZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBTdWJzY3JpYmVyIH0gZnJvbSAnLi4vU3Vic2NyaWJlcic7XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKGRlc3RpbmF0aW9uLCBvbk5leHQsIG9uQ29tcGxldGUsIG9uRXJyb3IsIG9uRmluYWxpemUpIHtcbiAgICByZXR1cm4gbmV3IE9wZXJhdG9yU3Vic2NyaWJlcihkZXN0aW5hdGlvbiwgb25OZXh0LCBvbkNvbXBsZXRlLCBvbkVycm9yLCBvbkZpbmFsaXplKTtcbn1cbnZhciBPcGVyYXRvclN1YnNjcmliZXIgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhPcGVyYXRvclN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gT3BlcmF0b3JTdWJzY3JpYmVyKGRlc3RpbmF0aW9uLCBvbk5leHQsIG9uQ29tcGxldGUsIG9uRXJyb3IsIG9uRmluYWxpemUsIHNob3VsZFVuc3Vic2NyaWJlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGRlc3RpbmF0aW9uKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5vbkZpbmFsaXplID0gb25GaW5hbGl6ZTtcbiAgICAgICAgX3RoaXMuc2hvdWxkVW5zdWJzY3JpYmUgPSBzaG91bGRVbnN1YnNjcmliZTtcbiAgICAgICAgX3RoaXMuX25leHQgPSBvbk5leHRcbiAgICAgICAgICAgID8gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgb25OZXh0KHZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICBkZXN0aW5hdGlvbi5lcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIDogX3N1cGVyLnByb3RvdHlwZS5fbmV4dDtcbiAgICAgICAgX3RoaXMuX2Vycm9yID0gb25FcnJvclxuICAgICAgICAgICAgPyBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgb25FcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uLmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgOiBfc3VwZXIucHJvdG90eXBlLl9lcnJvcjtcbiAgICAgICAgX3RoaXMuX2NvbXBsZXRlID0gb25Db21wbGV0ZVxuICAgICAgICAgICAgPyBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgb25Db21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uLmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgOiBfc3VwZXIucHJvdG90eXBlLl9jb21wbGV0ZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBPcGVyYXRvclN1YnNjcmliZXIucHJvdG90eXBlLnVuc3Vic2NyaWJlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmICghdGhpcy5zaG91bGRVbnN1YnNjcmliZSB8fCB0aGlzLnNob3VsZFVuc3Vic2NyaWJlKCkpIHtcbiAgICAgICAgICAgIHZhciBjbG9zZWRfMSA9IHRoaXMuY2xvc2VkO1xuICAgICAgICAgICAgX3N1cGVyLnByb3RvdHlwZS51bnN1YnNjcmliZS5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgIWNsb3NlZF8xICYmICgoX2EgPSB0aGlzLm9uRmluYWxpemUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKHRoaXMpKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIE9wZXJhdG9yU3Vic2NyaWJlcjtcbn0oU3Vic2NyaWJlcikpO1xuZXhwb3J0IHsgT3BlcmF0b3JTdWJzY3JpYmVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1PcGVyYXRvclN1YnNjcmliZXIuanMubWFwIiwiaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJy4vaXNGdW5jdGlvbic7XG5leHBvcnQgZnVuY3Rpb24gaXNTY2hlZHVsZXIodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgJiYgaXNGdW5jdGlvbih2YWx1ZS5zY2hlZHVsZSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pc1NjaGVkdWxlci5qcy5tYXAiLCJpbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSAnLi9pc0Z1bmN0aW9uJztcbmltcG9ydCB7IGlzU2NoZWR1bGVyIH0gZnJvbSAnLi9pc1NjaGVkdWxlcic7XG5mdW5jdGlvbiBsYXN0KGFycikge1xuICAgIHJldHVybiBhcnJbYXJyLmxlbmd0aCAtIDFdO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHBvcFJlc3VsdFNlbGVjdG9yKGFyZ3MpIHtcbiAgICByZXR1cm4gaXNGdW5jdGlvbihsYXN0KGFyZ3MpKSA/IGFyZ3MucG9wKCkgOiB1bmRlZmluZWQ7XG59XG5leHBvcnQgZnVuY3Rpb24gcG9wU2NoZWR1bGVyKGFyZ3MpIHtcbiAgICByZXR1cm4gaXNTY2hlZHVsZXIobGFzdChhcmdzKSkgPyBhcmdzLnBvcCgpIDogdW5kZWZpbmVkO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHBvcE51bWJlcihhcmdzLCBkZWZhdWx0VmFsdWUpIHtcbiAgICByZXR1cm4gdHlwZW9mIGxhc3QoYXJncykgPT09ICdudW1iZXInID8gYXJncy5wb3AoKSA6IGRlZmF1bHRWYWx1ZTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFyZ3MuanMubWFwIiwiaW1wb3J0IHsgX19yZWFkLCBfX3NwcmVhZEFycmF5IH0gZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBpbm5lckZyb20gfSBmcm9tICcuL2lubmVyRnJvbSc7XG5pbXBvcnQgeyBhcmdzT3JBcmdBcnJheSB9IGZyb20gJy4uL3V0aWwvYXJnc09yQXJnQXJyYXknO1xuaW1wb3J0IHsgRU1QVFkgfSBmcm9tICcuL2VtcHR5JztcbmltcG9ydCB7IGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlciB9IGZyb20gJy4uL29wZXJhdG9ycy9PcGVyYXRvclN1YnNjcmliZXInO1xuaW1wb3J0IHsgcG9wUmVzdWx0U2VsZWN0b3IgfSBmcm9tICcuLi91dGlsL2FyZ3MnO1xuZXhwb3J0IGZ1bmN0aW9uIHppcCgpIHtcbiAgICB2YXIgYXJncyA9IFtdO1xuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICB9XG4gICAgdmFyIHJlc3VsdFNlbGVjdG9yID0gcG9wUmVzdWx0U2VsZWN0b3IoYXJncyk7XG4gICAgdmFyIHNvdXJjZXMgPSBhcmdzT3JBcmdBcnJheShhcmdzKTtcbiAgICByZXR1cm4gc291cmNlcy5sZW5ndGhcbiAgICAgICAgPyBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICAgICAgdmFyIGJ1ZmZlcnMgPSBzb3VyY2VzLm1hcChmdW5jdGlvbiAoKSB7IHJldHVybiBbXTsgfSk7XG4gICAgICAgICAgICB2YXIgY29tcGxldGVkID0gc291cmNlcy5tYXAoZnVuY3Rpb24gKCkgeyByZXR1cm4gZmFsc2U7IH0pO1xuICAgICAgICAgICAgc3Vic2NyaWJlci5hZGQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGJ1ZmZlcnMgPSBjb21wbGV0ZWQgPSBudWxsO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB2YXIgX2xvb3BfMSA9IGZ1bmN0aW9uIChzb3VyY2VJbmRleCkge1xuICAgICAgICAgICAgICAgIGlubmVyRnJvbShzb3VyY2VzW3NvdXJjZUluZGV4XSkuc3Vic2NyaWJlKGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgYnVmZmVyc1tzb3VyY2VJbmRleF0ucHVzaCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChidWZmZXJzLmV2ZXJ5KGZ1bmN0aW9uIChidWZmZXIpIHsgcmV0dXJuIGJ1ZmZlci5sZW5ndGg7IH0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gYnVmZmVycy5tYXAoZnVuY3Rpb24gKGJ1ZmZlcikgeyByZXR1cm4gYnVmZmVyLnNoaWZ0KCk7IH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KHJlc3VsdFNlbGVjdG9yID8gcmVzdWx0U2VsZWN0b3IuYXBwbHkodm9pZCAwLCBfX3NwcmVhZEFycmF5KFtdLCBfX3JlYWQocmVzdWx0KSkpIDogcmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChidWZmZXJzLnNvbWUoZnVuY3Rpb24gKGJ1ZmZlciwgaSkgeyByZXR1cm4gIWJ1ZmZlci5sZW5ndGggJiYgY29tcGxldGVkW2ldOyB9KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgY29tcGxldGVkW3NvdXJjZUluZGV4XSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICFidWZmZXJzW3NvdXJjZUluZGV4XS5sZW5ndGggJiYgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBmb3IgKHZhciBzb3VyY2VJbmRleCA9IDA7ICFzdWJzY3JpYmVyLmNsb3NlZCAmJiBzb3VyY2VJbmRleCA8IHNvdXJjZXMubGVuZ3RoOyBzb3VyY2VJbmRleCsrKSB7XG4gICAgICAgICAgICAgICAgX2xvb3BfMShzb3VyY2VJbmRleCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGJ1ZmZlcnMgPSBjb21wbGV0ZWQgPSBudWxsO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSlcbiAgICAgICAgOiBFTVBUWTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXppcC5qcy5tYXAiLCJleHBvcnQgZnVuY3Rpb24gZXhlY3V0ZVNjaGVkdWxlKHBhcmVudFN1YnNjcmlwdGlvbiwgc2NoZWR1bGVyLCB3b3JrLCBkZWxheSwgcmVwZWF0KSB7XG4gICAgaWYgKGRlbGF5ID09PSB2b2lkIDApIHsgZGVsYXkgPSAwOyB9XG4gICAgaWYgKHJlcGVhdCA9PT0gdm9pZCAwKSB7IHJlcGVhdCA9IGZhbHNlOyB9XG4gICAgdmFyIHNjaGVkdWxlU3Vic2NyaXB0aW9uID0gc2NoZWR1bGVyLnNjaGVkdWxlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgd29yaygpO1xuICAgICAgICBpZiAocmVwZWF0KSB7XG4gICAgICAgICAgICBwYXJlbnRTdWJzY3JpcHRpb24uYWRkKHRoaXMuc2NoZWR1bGUobnVsbCwgZGVsYXkpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgfVxuICAgIH0sIGRlbGF5KTtcbiAgICBwYXJlbnRTdWJzY3JpcHRpb24uYWRkKHNjaGVkdWxlU3Vic2NyaXB0aW9uKTtcbiAgICBpZiAoIXJlcGVhdCkge1xuICAgICAgICByZXR1cm4gc2NoZWR1bGVTdWJzY3JpcHRpb247XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXhlY3V0ZVNjaGVkdWxlLmpzLm1hcCIsImltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuL2lzRnVuY3Rpb24nO1xuZXhwb3J0IGZ1bmN0aW9uIGhhc0xpZnQoc291cmNlKSB7XG4gICAgcmV0dXJuIGlzRnVuY3Rpb24oc291cmNlID09PSBudWxsIHx8IHNvdXJjZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogc291cmNlLmxpZnQpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIG9wZXJhdGUoaW5pdCkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoc291cmNlKSB7XG4gICAgICAgIGlmIChoYXNMaWZ0KHNvdXJjZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBzb3VyY2UubGlmdChmdW5jdGlvbiAobGlmdGVkU291cmNlKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGluaXQobGlmdGVkU291cmNlLCB0aGlzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVW5hYmxlIHRvIGxpZnQgdW5rbm93biBPYnNlcnZhYmxlIHR5cGUnKTtcbiAgICB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bGlmdC5qcy5tYXAiLCJpbXBvcnQgeyBleGVjdXRlU2NoZWR1bGUgfSBmcm9tICcuLi91dGlsL2V4ZWN1dGVTY2hlZHVsZSc7XG5pbXBvcnQgeyBvcGVyYXRlIH0gZnJvbSAnLi4vdXRpbC9saWZ0JztcbmltcG9ydCB7IGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlciB9IGZyb20gJy4vT3BlcmF0b3JTdWJzY3JpYmVyJztcbmV4cG9ydCBmdW5jdGlvbiBvYnNlcnZlT24oc2NoZWR1bGVyLCBkZWxheSkge1xuICAgIGlmIChkZWxheSA9PT0gdm9pZCAwKSB7IGRlbGF5ID0gMDsgfVxuICAgIHJldHVybiBvcGVyYXRlKGZ1bmN0aW9uIChzb3VyY2UsIHN1YnNjcmliZXIpIHtcbiAgICAgICAgc291cmNlLnN1YnNjcmliZShjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgZnVuY3Rpb24gKHZhbHVlKSB7IHJldHVybiBleGVjdXRlU2NoZWR1bGUoc3Vic2NyaWJlciwgc2NoZWR1bGVyLCBmdW5jdGlvbiAoKSB7IHJldHVybiBzdWJzY3JpYmVyLm5leHQodmFsdWUpOyB9LCBkZWxheSk7IH0sIGZ1bmN0aW9uICgpIHsgcmV0dXJuIGV4ZWN1dGVTY2hlZHVsZShzdWJzY3JpYmVyLCBzY2hlZHVsZXIsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHN1YnNjcmliZXIuY29tcGxldGUoKTsgfSwgZGVsYXkpOyB9LCBmdW5jdGlvbiAoZXJyKSB7IHJldHVybiBleGVjdXRlU2NoZWR1bGUoc3Vic2NyaWJlciwgc2NoZWR1bGVyLCBmdW5jdGlvbiAoKSB7IHJldHVybiBzdWJzY3JpYmVyLmVycm9yKGVycik7IH0sIGRlbGF5KTsgfSkpO1xuICAgIH0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9b2JzZXJ2ZU9uLmpzLm1hcCIsImltcG9ydCB7IG9wZXJhdGUgfSBmcm9tICcuLi91dGlsL2xpZnQnO1xuZXhwb3J0IGZ1bmN0aW9uIHN1YnNjcmliZU9uKHNjaGVkdWxlciwgZGVsYXkpIHtcbiAgICBpZiAoZGVsYXkgPT09IHZvaWQgMCkgeyBkZWxheSA9IDA7IH1cbiAgICByZXR1cm4gb3BlcmF0ZShmdW5jdGlvbiAoc291cmNlLCBzdWJzY3JpYmVyKSB7XG4gICAgICAgIHN1YnNjcmliZXIuYWRkKHNjaGVkdWxlci5zY2hlZHVsZShmdW5jdGlvbiAoKSB7IHJldHVybiBzb3VyY2Uuc3Vic2NyaWJlKHN1YnNjcmliZXIpOyB9LCBkZWxheSkpO1xuICAgIH0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3Vic2NyaWJlT24uanMubWFwIiwiaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgZXhlY3V0ZVNjaGVkdWxlIH0gZnJvbSAnLi4vdXRpbC9leGVjdXRlU2NoZWR1bGUnO1xuZXhwb3J0IGZ1bmN0aW9uIHNjaGVkdWxlQXN5bmNJdGVyYWJsZShpbnB1dCwgc2NoZWR1bGVyKSB7XG4gICAgaWYgKCFpbnB1dCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0l0ZXJhYmxlIGNhbm5vdCBiZSBudWxsJyk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICBleGVjdXRlU2NoZWR1bGUoc3Vic2NyaWJlciwgc2NoZWR1bGVyLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgaXRlcmF0b3IgPSBpbnB1dFtTeW1ib2wuYXN5bmNJdGVyYXRvcl0oKTtcbiAgICAgICAgICAgIGV4ZWN1dGVTY2hlZHVsZShzdWJzY3JpYmVyLCBzY2hlZHVsZXIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpdGVyYXRvci5uZXh0KCkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuZG9uZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KHJlc3VsdC52YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sIDAsIHRydWUpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNjaGVkdWxlQXN5bmNJdGVyYWJsZS5qcy5tYXAiLCJpbXBvcnQgeyBzY2hlZHVsZWQgfSBmcm9tICcuLi9zY2hlZHVsZWQvc2NoZWR1bGVkJztcbmltcG9ydCB7IGlubmVyRnJvbSB9IGZyb20gJy4vaW5uZXJGcm9tJztcbmV4cG9ydCBmdW5jdGlvbiBmcm9tKGlucHV0LCBzY2hlZHVsZXIpIHtcbiAgICByZXR1cm4gc2NoZWR1bGVyID8gc2NoZWR1bGVkKGlucHV0LCBzY2hlZHVsZXIpIDogaW5uZXJGcm9tKGlucHV0KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZyb20uanMubWFwIiwiaW1wb3J0IHsgc2NoZWR1bGVPYnNlcnZhYmxlIH0gZnJvbSAnLi9zY2hlZHVsZU9ic2VydmFibGUnO1xuaW1wb3J0IHsgc2NoZWR1bGVQcm9taXNlIH0gZnJvbSAnLi9zY2hlZHVsZVByb21pc2UnO1xuaW1wb3J0IHsgc2NoZWR1bGVBcnJheSB9IGZyb20gJy4vc2NoZWR1bGVBcnJheSc7XG5pbXBvcnQgeyBzY2hlZHVsZUl0ZXJhYmxlIH0gZnJvbSAnLi9zY2hlZHVsZUl0ZXJhYmxlJztcbmltcG9ydCB7IHNjaGVkdWxlQXN5bmNJdGVyYWJsZSB9IGZyb20gJy4vc2NoZWR1bGVBc3luY0l0ZXJhYmxlJztcbmltcG9ydCB7IGlzSW50ZXJvcE9ic2VydmFibGUgfSBmcm9tICcuLi91dGlsL2lzSW50ZXJvcE9ic2VydmFibGUnO1xuaW1wb3J0IHsgaXNQcm9taXNlIH0gZnJvbSAnLi4vdXRpbC9pc1Byb21pc2UnO1xuaW1wb3J0IHsgaXNBcnJheUxpa2UgfSBmcm9tICcuLi91dGlsL2lzQXJyYXlMaWtlJztcbmltcG9ydCB7IGlzSXRlcmFibGUgfSBmcm9tICcuLi91dGlsL2lzSXRlcmFibGUnO1xuaW1wb3J0IHsgaXNBc3luY0l0ZXJhYmxlIH0gZnJvbSAnLi4vdXRpbC9pc0FzeW5jSXRlcmFibGUnO1xuaW1wb3J0IHsgY3JlYXRlSW52YWxpZE9ic2VydmFibGVUeXBlRXJyb3IgfSBmcm9tICcuLi91dGlsL3Rocm93VW5vYnNlcnZhYmxlRXJyb3InO1xuaW1wb3J0IHsgaXNSZWFkYWJsZVN0cmVhbUxpa2UgfSBmcm9tICcuLi91dGlsL2lzUmVhZGFibGVTdHJlYW1MaWtlJztcbmltcG9ydCB7IHNjaGVkdWxlUmVhZGFibGVTdHJlYW1MaWtlIH0gZnJvbSAnLi9zY2hlZHVsZVJlYWRhYmxlU3RyZWFtTGlrZSc7XG5leHBvcnQgZnVuY3Rpb24gc2NoZWR1bGVkKGlucHV0LCBzY2hlZHVsZXIpIHtcbiAgICBpZiAoaW5wdXQgIT0gbnVsbCkge1xuICAgICAgICBpZiAoaXNJbnRlcm9wT2JzZXJ2YWJsZShpbnB1dCkpIHtcbiAgICAgICAgICAgIHJldHVybiBzY2hlZHVsZU9ic2VydmFibGUoaW5wdXQsIHNjaGVkdWxlcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzQXJyYXlMaWtlKGlucHV0KSkge1xuICAgICAgICAgICAgcmV0dXJuIHNjaGVkdWxlQXJyYXkoaW5wdXQsIHNjaGVkdWxlcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzUHJvbWlzZShpbnB1dCkpIHtcbiAgICAgICAgICAgIHJldHVybiBzY2hlZHVsZVByb21pc2UoaW5wdXQsIHNjaGVkdWxlcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzQXN5bmNJdGVyYWJsZShpbnB1dCkpIHtcbiAgICAgICAgICAgIHJldHVybiBzY2hlZHVsZUFzeW5jSXRlcmFibGUoaW5wdXQsIHNjaGVkdWxlcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzSXRlcmFibGUoaW5wdXQpKSB7XG4gICAgICAgICAgICByZXR1cm4gc2NoZWR1bGVJdGVyYWJsZShpbnB1dCwgc2NoZWR1bGVyKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNSZWFkYWJsZVN0cmVhbUxpa2UoaW5wdXQpKSB7XG4gICAgICAgICAgICByZXR1cm4gc2NoZWR1bGVSZWFkYWJsZVN0cmVhbUxpa2UoaW5wdXQsIHNjaGVkdWxlcik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdGhyb3cgY3JlYXRlSW52YWxpZE9ic2VydmFibGVUeXBlRXJyb3IoaW5wdXQpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2NoZWR1bGVkLmpzLm1hcCIsImltcG9ydCB7IGlubmVyRnJvbSB9IGZyb20gJy4uL29ic2VydmFibGUvaW5uZXJGcm9tJztcbmltcG9ydCB7IG9ic2VydmVPbiB9IGZyb20gJy4uL29wZXJhdG9ycy9vYnNlcnZlT24nO1xuaW1wb3J0IHsgc3Vic2NyaWJlT24gfSBmcm9tICcuLi9vcGVyYXRvcnMvc3Vic2NyaWJlT24nO1xuZXhwb3J0IGZ1bmN0aW9uIHNjaGVkdWxlT2JzZXJ2YWJsZShpbnB1dCwgc2NoZWR1bGVyKSB7XG4gICAgcmV0dXJuIGlubmVyRnJvbShpbnB1dCkucGlwZShzdWJzY3JpYmVPbihzY2hlZHVsZXIpLCBvYnNlcnZlT24oc2NoZWR1bGVyKSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zY2hlZHVsZU9ic2VydmFibGUuanMubWFwIiwiaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuZXhwb3J0IGZ1bmN0aW9uIHNjaGVkdWxlQXJyYXkoaW5wdXQsIHNjaGVkdWxlcikge1xuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgIHJldHVybiBzY2hlZHVsZXIuc2NoZWR1bGUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKGkgPT09IGlucHV0Lmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dChpbnB1dFtpKytdKTtcbiAgICAgICAgICAgICAgICBpZiAoIXN1YnNjcmliZXIuY2xvc2VkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2NoZWR1bGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2NoZWR1bGVBcnJheS5qcy5tYXAiLCJpbXBvcnQgeyBpbm5lckZyb20gfSBmcm9tICcuLi9vYnNlcnZhYmxlL2lubmVyRnJvbSc7XG5pbXBvcnQgeyBvYnNlcnZlT24gfSBmcm9tICcuLi9vcGVyYXRvcnMvb2JzZXJ2ZU9uJztcbmltcG9ydCB7IHN1YnNjcmliZU9uIH0gZnJvbSAnLi4vb3BlcmF0b3JzL3N1YnNjcmliZU9uJztcbmV4cG9ydCBmdW5jdGlvbiBzY2hlZHVsZVByb21pc2UoaW5wdXQsIHNjaGVkdWxlcikge1xuICAgIHJldHVybiBpbm5lckZyb20oaW5wdXQpLnBpcGUoc3Vic2NyaWJlT24oc2NoZWR1bGVyKSwgb2JzZXJ2ZU9uKHNjaGVkdWxlcikpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2NoZWR1bGVQcm9taXNlLmpzLm1hcCIsImltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IGl0ZXJhdG9yIGFzIFN5bWJvbF9pdGVyYXRvciB9IGZyb20gJy4uL3N5bWJvbC9pdGVyYXRvcic7XG5pbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSAnLi4vdXRpbC9pc0Z1bmN0aW9uJztcbmltcG9ydCB7IGV4ZWN1dGVTY2hlZHVsZSB9IGZyb20gJy4uL3V0aWwvZXhlY3V0ZVNjaGVkdWxlJztcbmV4cG9ydCBmdW5jdGlvbiBzY2hlZHVsZUl0ZXJhYmxlKGlucHV0LCBzY2hlZHVsZXIpIHtcbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIGl0ZXJhdG9yO1xuICAgICAgICBleGVjdXRlU2NoZWR1bGUoc3Vic2NyaWJlciwgc2NoZWR1bGVyLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpdGVyYXRvciA9IGlucHV0W1N5bWJvbF9pdGVyYXRvcl0oKTtcbiAgICAgICAgICAgIGV4ZWN1dGVTY2hlZHVsZShzdWJzY3JpYmVyLCBzY2hlZHVsZXIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgdmFyIHZhbHVlO1xuICAgICAgICAgICAgICAgIHZhciBkb25lO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIChfYSA9IGl0ZXJhdG9yLm5leHQoKSwgdmFsdWUgPSBfYS52YWx1ZSwgZG9uZSA9IF9hLmRvbmUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZG9uZSkge1xuICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQodmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIDAsIHRydWUpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsgcmV0dXJuIGlzRnVuY3Rpb24oaXRlcmF0b3IgPT09IG51bGwgfHwgaXRlcmF0b3IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGl0ZXJhdG9yLnJldHVybikgJiYgaXRlcmF0b3IucmV0dXJuKCk7IH07XG4gICAgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zY2hlZHVsZUl0ZXJhYmxlLmpzLm1hcCIsImltcG9ydCB7IHNjaGVkdWxlQXN5bmNJdGVyYWJsZSB9IGZyb20gJy4vc2NoZWR1bGVBc3luY0l0ZXJhYmxlJztcbmltcG9ydCB7IHJlYWRhYmxlU3RyZWFtTGlrZVRvQXN5bmNHZW5lcmF0b3IgfSBmcm9tICcuLi91dGlsL2lzUmVhZGFibGVTdHJlYW1MaWtlJztcbmV4cG9ydCBmdW5jdGlvbiBzY2hlZHVsZVJlYWRhYmxlU3RyZWFtTGlrZShpbnB1dCwgc2NoZWR1bGVyKSB7XG4gICAgcmV0dXJuIHNjaGVkdWxlQXN5bmNJdGVyYWJsZShyZWFkYWJsZVN0cmVhbUxpa2VUb0FzeW5jR2VuZXJhdG9yKGlucHV0KSwgc2NoZWR1bGVyKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNjaGVkdWxlUmVhZGFibGVTdHJlYW1MaWtlLmpzLm1hcCIsImV4cG9ydCBjb25zdCB2ZWhpY2xlc1VSTD1cImh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC92ZWhpY2xlcy9cIjtcclxuZXhwb3J0IGNvbnN0IGRyaXZlcnNVUkw9XCJodHRwOi8vbG9jYWxob3N0OjMwMDAvZHJpdmVycy9cIjtcclxuZXhwb3J0IGNvbnN0IG9yZGVyc1VSTD1cImh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9vcmRlcnMvXCI7XHJcbmV4cG9ydCBjb25zdCBnYXJhZ2VMb2NhdGlvbiA9IHsgbGF0OiA0Mi45OTc3LCBsbmc6IDIxLjk2NTQgfTtcclxuXHJcbiIsImltcG9ydCB7IERyaXZlciB9IGZyb20gXCIuL3BlcnNvblwiO1xyXG5pbXBvcnQgeyB1cGRhdGVEcml2ZXJSZXF1ZXN0LCB1cGRhdGVPcmRlclJlcXVlc3QsIHVwZGF0ZVRydWNrUmVxdWVzdCB9IGZyb20gXCIuL3NlcnZpY2VzXCI7XHJcbmltcG9ydCB7IFRydWNrIH0gZnJvbSBcIi4vdmVoaWNsZVwiO1xyXG5cclxuZXhwb3J0IGVudW0gU2hpcG1lbnRTdGF0dXMge1xyXG4gICAgcGVuZGluZz1cInBlbmRpbmdcIixcclxuICAgIHNoaXBwZWQ9XCJzaGlwcGVkXCIsXHJcbiAgICBkZWxpdmVyZWQ9XCJkZWxpdmVyZWRcIlxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgT3JkZXIge1xyXG4gICAgaWQ6IG51bWJlcjtcclxuICAgIFN0YXR1czogJ3BlbmRpbmcnIHwgJ3NoaXBwZWQnIHwgJ2RlbGl2ZXJlZCc7XHJcbiAgICBUb3RhbExvYWQ6IG51bWJlcjtcclxuICAgIC8vIERlbGl2ZXJ5RGF0ZTogRGF0ZTtcclxuICAgIERlc3RpbmF0aW9uOiBnb29nbGUubWFwcy5MYXRMbmc7XHJcbiAgICBBc3NpZ25lZERyaXZlcklEOiBzdHJpbmc7XHJcbiAgICBBc3NpZ25lZFRydWNrSUQ6IHN0cmluZztcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihpZE9yT3JkZXJEYXRhOiBudW1iZXIgfCBPcmRlciwgc3RhdHVzPzogJ3BlbmRpbmcnIHwgJ3NoaXBwZWQnIHwgJ2RlbGl2ZXJlZCcsIHRvdGFsTG9hZD86IG51bWJlcixcclxuICAgICAgICBkZXN0aW5hdGlvbj86IGdvb2dsZS5tYXBzLkxhdExuZywgYXNzaWduZWREcml2ZXI/OiBzdHJpbmcsIGFzc2lnbmVkVmVoaWNsZT86IHN0cmluZykge1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgaWYodHlwZW9mIGlkT3JPcmRlckRhdGEgPT09ICdudW1iZXInKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlkPWlkT3JPcmRlckRhdGE7XHJcbiAgICAgICAgICAgICAgICB0aGlzLlN0YXR1cz1zdGF0dXM7XHJcbiAgICAgICAgICAgICAgICB0aGlzLlRvdGFsTG9hZD10b3RhbExvYWQ7XHJcbiAgICAgICAgICAgICAgICB0aGlzLkRlc3RpbmF0aW9uPWRlc3RpbmF0aW9uO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5Bc3NpZ25lZERyaXZlcklEPWFzc2lnbmVkRHJpdmVyO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5Bc3NpZ25lZFRydWNrSUQ9YXNzaWduZWRWZWhpY2xlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaWQ9aWRPck9yZGVyRGF0YS5pZDtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLlN0YXR1cz1pZE9yT3JkZXJEYXRhLlN0YXR1cztcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLlRvdGFsTG9hZD1pZE9yT3JkZXJEYXRhLlRvdGFsTG9hZDtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLkRlc3RpbmF0aW9uPW5ldyBnb29nbGUubWFwcy5MYXRMbmcoaWRPck9yZGVyRGF0YS5EZXN0aW5hdGlvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5Bc3NpZ25lZERyaXZlcklEPWlkT3JPcmRlckRhdGEuQXNzaWduZWREcml2ZXJJRDtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLkFzc2lnbmVkVHJ1Y2tJRD1pZE9yT3JkZXJEYXRhLkFzc2lnbmVkVHJ1Y2tJRDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBcclxuICAgIH1cclxuXHJcbiAgICBwbGFjZU5ld09yZGVyKGlkOiBudW1iZXIsIHN0YXR1czogJ3BlbmRpbmcnIHwgJ3NoaXBwZWQnIHwgJ2RlbGl2ZXJlZCcsIHRvdGFsTG9hZDogbnVtYmVyLFxyXG4gICAgICAgICAgICBkZXN0aW5hdGlvbjogZ29vZ2xlLm1hcHMuTGF0TG5nLCBhc3NpZ25lZERyaXZlcjogc3RyaW5nLCBhc3NpZ25lZFZlaGljbGU6IHN0cmluZykgXHJcbiAgICB7XHJcbiAgICAgICAgY29uc3QgbmV3T3JkZXI6IE9yZGVyID0gbmV3IE9yZGVyKGlkLCBzdGF0dXMsIHRvdGFsTG9hZCwgZGVzdGluYXRpb24sIGFzc2lnbmVkRHJpdmVyLCBhc3NpZ25lZFZlaGljbGUpO1xyXG4gICAgICAgIHVwZGF0ZU9yZGVyUmVxdWVzdCh0aGlzKTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVPcmRlckRhdGEobmV3T3JkZXJEYXRhOiBQYXJ0aWFsPE9yZGVyPik6IHZvaWQge1xyXG4gICAgICAgIGlmIChuZXdPcmRlckRhdGEuaGFzT3duUHJvcGVydHkoJ1N0YXR1cycpKSB7XHJcbiAgICAgICAgICB0aGlzLlN0YXR1cyA9IG5ld09yZGVyRGF0YS5TdGF0dXM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChuZXdPcmRlckRhdGEuaGFzT3duUHJvcGVydHkoJ1RvdGFsTG9hZCcpKSB7XHJcbiAgICAgICAgICB0aGlzLlRvdGFsTG9hZCA9IG5ld09yZGVyRGF0YS5Ub3RhbExvYWQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChuZXdPcmRlckRhdGEuaGFzT3duUHJvcGVydHkoJ0Rlc3RpbmF0aW9uJykpIHtcclxuICAgICAgICAgIHRoaXMuRGVzdGluYXRpb24gPSBuZXdPcmRlckRhdGEuRGVzdGluYXRpb247XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKG5ld09yZGVyRGF0YS5oYXNPd25Qcm9wZXJ0eSgnQXNzaWduZWREcml2ZXJJRCcpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuQXNzaWduZWREcml2ZXJJRCA9IG5ld09yZGVyRGF0YS5Bc3NpZ25lZERyaXZlcklEO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZihuZXdPcmRlckRhdGEuaGFzT3duUHJvcGVydHkoJ0Fzc2lnbmVkVHJ1Y2tJRCcpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuQXNzaWduZWRUcnVja0lEID0gbmV3T3JkZXJEYXRhLkFzc2lnbmVkVHJ1Y2tJRDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgXHJcbiAgICBzaGlwT3JkZXIoYWxsVHJ1Y2tzOiBUcnVja1tdLCBhbGxEcml2ZXJzOiBEcml2ZXJbXSkge1xyXG5cclxuICAgICAgICBsZXQgYXNzaWduZWRUcnVjazogVHJ1Y2sgPSBhbGxUcnVja3MuZmluZCh0cnVjayA9PiB0cnVjay5TdGF0dXM9PT0naWRsZScgJiYgdHJ1Y2suQ2FwYWNpdHk+PXRoaXMuVG90YWxMb2FkKVxyXG4gICAgICAgIGxldCBhc3NpZ25lZERyaXZlcjogRHJpdmVyID0gYWxsRHJpdmVycy5maW5kKGRyaXZlciA9PiBkcml2ZXIuU3RhdHVzPT09J2F2YWlsYWJsZScpXHJcblxyXG5cclxuICAgICAgICBhc3NpZ25lZFRydWNrLlN0YXR1cz0naW5UcmFuc2l0JztcclxuICAgICAgICBhc3NpZ25lZFRydWNrLkxvYWQ9dGhpcy5Ub3RhbExvYWQ7XHJcbiAgICAgICAgYXNzaWduZWRUcnVjay5GaW5hbERlc3RpbmF0aW9uPW5ldyBnb29nbGUubWFwcy5MYXRMbmcodGhpcy5EZXN0aW5hdGlvbik7XHJcblxyXG4gICAgICAgIGFzc2lnbmVkRHJpdmVyLlN0YXR1cz0nb25Sb2FkJztcclxuICAgICAgICBhc3NpZ25lZERyaXZlci5Bc3NpZ25lZFZlaGljbGVJRD1hc3NpZ25lZFRydWNrLmlkO1xyXG5cclxuICAgICAgICB0aGlzLlN0YXR1cz0nc2hpcHBlZCc7XHJcbiAgICAgICAgdGhpcy5Bc3NpZ25lZFRydWNrSUQ9YXNzaWduZWRUcnVjay5pZDtcclxuICAgICAgICB0aGlzLkFzc2lnbmVkRHJpdmVySUQ9YXNzaWduZWREcml2ZXIuaWQ7XHJcblxyXG4gICAgICAgIHVwZGF0ZVRydWNrUmVxdWVzdChhc3NpZ25lZFRydWNrKTtcclxuICAgICAgICB1cGRhdGVEcml2ZXJSZXF1ZXN0KGFzc2lnbmVkRHJpdmVyKTtcclxuICAgICAgICB1cGRhdGVPcmRlclJlcXVlc3QodGhpcyk7XHJcbiAgICB9XHJcblxyXG4gICAgZGVzdGluYXRpb25SZWFjaGVkVXBkYXRlKCkge1xyXG4gICAgICAgIHRoaXMuU3RhdHVzPSdkZWxpdmVyZWQnO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgT2JzZXJ2YWJsZSwgZnJvbSwgbWVyZ2VNYXAsIHRhcCB9IGZyb20gXCJyeGpzXCI7XHJcbmltcG9ydCB7IGRyaXZlcnNVUkwsIG9yZGVyc1VSTCwgdmVoaWNsZXNVUkwgfSBmcm9tIFwiLi4vY29uZmlnXCI7XHJcbmltcG9ydCB7IFRydWNrIH0gZnJvbSBcIi4vdmVoaWNsZVwiO1xyXG5pbXBvcnQgeyBPcmRlciB9IGZyb20gXCIuL29yZGVyXCI7XHJcbmltcG9ydCB7IERyaXZlciB9IGZyb20gXCIuL3BlcnNvblwiO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFRydWNrKHJlZ2lzdHJhdGlvbklEOiBzdHJpbmcpIDogT2JzZXJ2YWJsZTxUcnVjaz4ge1xyXG4gICAgcmV0dXJuIGZyb20oZmV0Y2godmVoaWNsZXNVUkwgKyByZWdpc3RyYXRpb25JRClcclxuICAgICAgICAudGhlbih2ZWhpY2xlID0+IHtcclxuICAgICAgICAgICAgaWYoIXZlaGljbGUub2spXHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJWZWhpY2xlIG5vdCBmb3VuZC5cIik7XHJcbiAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgIHJldHVybiAodmVoaWNsZS5qc29uKCkpOyAgIFxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNhdGNoKGVycm9yID0+IGNvbnNvbGUuZXJyb3IoZXJyb3IpKVxyXG4gICAgKVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0VHJ1Y2tzRnJvbVNlcnZlcigpIDogT2JzZXJ2YWJsZTxUcnVja1tdPiB7XHJcbiAgICBcclxuICAgIGNvbnN0IHByb21pc2UgPSBmZXRjaCh2ZWhpY2xlc1VSTClcclxuICAgICAgICAudGhlbihyZXNwb25zZSA9PiBcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgaWYocmVzcG9uc2Uub2spIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVmVoaWNsZXMgZmV0Y2ggZmFpbGVkLlwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmNhdGNoKGVycm9yID0+IGNvbnNvbGUubG9nKGVycm9yKSlcclxuXHJcbiAgICAgICAgcmV0dXJuIGZyb20ocHJvbWlzZSk7XHJcbiAgICBcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZVRydWNrUmVxdWVzdCh0cnVjazogVHJ1Y2spIHtcclxuICAgIGZldGNoKGAke3ZlaGljbGVzVVJMfS8ke3RydWNrLmlkfWAsIHtcclxuICAgICAgICBtZXRob2Q6ICdQVVQnLFxyXG4gICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxyXG4gICAgfSxcclxuICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHRydWNrKSxcclxufSkudGhlbihuZXdUcnVja0RhdGEgPT4ge1xyXG4gICAgdHJ1Y2sudXBkYXRlVHJ1Y2tEYXRhKHRydWNrKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0T3JkZXIob3JkZXJJRDogc3RyaW5nKSB7XHJcbiAgICByZXR1cm4gZnJvbShmZXRjaChvcmRlcnNVUkwgKyBvcmRlcklEKVxyXG4gICAgICAgIC50aGVuKG9yZGVyID0+IHtcclxuICAgICAgICAgICAgaWYoIW9yZGVyLm9rKVxyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiT3JkZXIgbm90IGZvdW5kLlwiKTtcclxuICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG9yZGVyLmpzb24oKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmNhdGNoKGVycm9yID0+IGNvbnNvbGUuZXJyb3IoZXJyb3IpKSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRPcmRlcnNGcm9tU2VydmVyKCkgOiBPYnNlcnZhYmxlPE9yZGVyW10+IHtcclxuICAgIFxyXG4gICAgY29uc3QgcHJvbWlzZSA9IGZldGNoKG9yZGVyc1VSTClcclxuICAgICAgICAudGhlbihyZXNwb25zZSA9PiBcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgaWYocmVzcG9uc2Uub2spIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiT3JkZXJzIGZldGNoIGZhaWxlZC5cIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5jYXRjaChlcnJvciA9PiBjb25zb2xlLmxvZyhlcnJvcikpXHJcblxyXG4gICAgICAgIHJldHVybiBmcm9tKHByb21pc2UpO1xyXG5cclxuICAgIC8vIHJldHVybiBuZXcgT2JzZXJ2YWJsZTxPcmRlcltdPigob2JzZXJ2ZXIpID0+IHtcclxuICAgIC8vICAgICBmZXRjaChvcmRlcnNVUkwpXHJcbiAgICAvLyAgICAgLnRoZW4oKEFQSXJlc3BvbnNlKSA9PiB7XHJcbiAgICAvLyAgICAgICAgIGlmKCFBUElyZXNwb25zZS5vaylcclxuICAgIC8vICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk9yZGVycyBmZXRjaCBmYWlsZWQuXCIpO1xyXG4gICAgLy8gICAgICAgICBlbHNlIHtcclxuICAgIC8vICAgICAgICAgICAgIHJldHVybiBBUElyZXNwb25zZS5qc29uKCk7XHJcbiAgICAvLyAgICAgICAgIH1cclxuICAgIC8vICAgICB9KVxyXG4gICAgLy8gICAgIC50aGVuKChkYXRhOiBPcmRlcltdKSA9PiB7XHJcbiAgICAvLyAgICAgICAgIG9ic2VydmVyLm5leHQoZGF0YSBhcyBPcmRlcltdKTtcclxuICAgIC8vICAgICAgICAgb2JzZXJ2ZXIuY29tcGxldGUoKTtcclxuICAgIC8vICAgICB9KVxyXG4gICAgLy8gICAgIC5jYXRjaChlcnIgPT4gb2JzZXJ2ZXIuZXJyb3IoZXJyKSk7XHJcbiAgICAvLyB9KVxyXG4gICAgXHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVPcmRlclJlcXVlc3Qob3JkZXI6IE9yZGVyKSB7XHJcbiAgICBmZXRjaChgJHtvcmRlcnNVUkx9LyR7b3JkZXIuaWR9YCwge1xyXG4gICAgICAgIG1ldGhvZDogJ1BVVCcsXHJcbiAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkob3JkZXIpLFxyXG4gICAgfSkudGhlbihuZXdPcmRlckRhdGEgPT4ge1xyXG4gICAgICAgIG9yZGVyLnVwZGF0ZU9yZGVyRGF0YShvcmRlcik7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIG5ld09yZGVyUmVxdWVzdChvcmRlcjogT3JkZXIpIHtcclxuICAgIGZldGNoKG9yZGVyc1VSTCwge1xyXG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkob3JkZXIpXHJcbiAgICB9KS50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLmpzb24oKSlcclxuICAgIC5jYXRjaChlcnIgPT4gY29uc29sZS5lcnJvcihlcnIpKVxyXG4gICAgLnRoZW4ob3JkZXIgPT4gY29uc29sZS5sb2cob3JkZXIpKVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0RHJpdmVyKGRyaXZlcklEOiBzdHJpbmcpIHtcclxuICAgIHJldHVybiBmcm9tKGZldGNoKGRyaXZlcnNVUkwgKyBkcml2ZXJJRClcclxuICAgICAgICAudGhlbihkcml2ZXIgPT4ge1xyXG4gICAgICAgICAgICBpZighZHJpdmVyLm9rKVxyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRHJpdmVyIG5vdCBmb3VuZC5cIik7XHJcbiAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgIHJldHVybiBkcml2ZXIuanNvbigpOyAgICAgICAgXHJcbiAgICAgICAgfSlcclxuICAgICAgICAgICAgLmNhdGNoKGVycm9yID0+IGNvbnNvbGUuZXJyb3IoZXJyb3IpKSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXREcml2ZXJzRnJvbVNlcnZlcigpIDogT2JzZXJ2YWJsZTxEcml2ZXJbXT4ge1xyXG4gICAgY29uc3QgcHJvbWlzZSA9IGZldGNoKGRyaXZlcnNVUkwpXHJcbiAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGlmKHJlc3BvbnNlLm9rKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkRyaXZlcnMgZmV0Y2ggZmFpbGVkLlwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmNhdGNoKGVycm9yID0+IGNvbnNvbGUubG9nKGVycm9yKSlcclxuXHJcbiAgICAgICAgcmV0dXJuIGZyb20ocHJvbWlzZSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVEcml2ZXJSZXF1ZXN0KGRyaXZlcjogRHJpdmVyKSB7XHJcbiAgICBmZXRjaChgJHtkcml2ZXJzVVJMfS8ke2RyaXZlci5pZH1gLCB7XHJcbiAgICAgICAgbWV0aG9kOiAnUFVUJyxcclxuICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShkcml2ZXIpLFxyXG4gICAgfSkudGhlbihuZXdEcml2ZXJEYXRhID0+IHtcclxuICAgICAgICBkcml2ZXIudXBkYXRlRHJpdmVyRGF0YShkcml2ZXIpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBkZWxldGVDb250ZW50KGV2ZW50OiBFdmVudCwgY2xhc3NOYW1lOiBzdHJpbmcsIGhvc3Q6IEhUTUxFbGVtZW50KSB7XHJcbiAgICBsZXQgdHJndD08RWxlbWVudD5ldmVudC50YXJnZXQ7XHJcbiAgICB3aGlsZShob3N0LmZpcnN0Q2hpbGQpe1xyXG4gICAgICAgIGlmKCFob3N0LmNsYXNzTGlzdC5jb250YWlucyhjbGFzc05hbWUpKSB7XHJcbiAgICAgICAgICAgIGhvc3QucmVtb3ZlQ2hpbGQoaG9zdC5sYXN0Q2hpbGQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImltcG9ydCB7IGdhcmFnZUxvY2F0aW9uIH0gZnJvbSBcIi4uL2NvbmZpZ1wiO1xyXG5pbXBvcnQgeyBUcnVjayB9IGZyb20gXCIuL3ZlaGljbGVcIjtcclxuXHJcbmxldCBjdXJyZW50TG9jYXRpb25NYXJrZXI6IGdvb2dsZS5tYXBzLk1hcmtlcjtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzZXR1cE1hcChtYXBEaXY6IEhUTUxFbGVtZW50KSA6IGdvb2dsZS5tYXBzLk1hcCB7XHJcbiAgICBjb25zdCBteU1hcCA9IG5ldyBnb29nbGUubWFwcy5NYXAobWFwRGl2LCBcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNlbnRlcjogZ2FyYWdlTG9jYXRpb24sXHJcbiAgICAgICAgICAgIHpvb206IDdcclxuICAgICAgICB9KTtcclxuICAgIFxyXG4gICAgICAgIGN1cnJlbnRMb2NhdGlvbk1hcmtlciA9IG5ldyBnb29nbGUubWFwcy5NYXJrZXIoe1xyXG4gICAgICAgICAgICBwb3NpdGlvbjogZ2FyYWdlTG9jYXRpb24sXHJcbiAgICAgICAgICAgIG1hcDogbXlNYXBcclxuICAgICAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gbXlNYXA7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB0cmFja09yZGVyKHRydWNrOiBUcnVjaykge1xyXG5cclxuICAgIGNvbnN0IG15TWFwID0gbmV3IGdvb2dsZS5tYXBzLk1hcChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1hcFwiKSwgXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjZW50ZXI6IGdhcmFnZUxvY2F0aW9uLFxyXG4gICAgICAgICAgICB6b29tOiA3XHJcbiAgICAgICAgfSk7XHJcbiAgICBcclxuICAgIGN1cnJlbnRMb2NhdGlvbk1hcmtlciA9IG5ldyBnb29nbGUubWFwcy5NYXJrZXIoe1xyXG4gICAgICAgIHBvc2l0aW9uOiB0cnVjay5DdXJyZW50TG9jYXRpb24sXHJcbiAgICAgICAgbWFwOiBteU1hcFxyXG4gICAgfSk7XHJcblxyXG4gICAgbGV0IEZpbmFsRGVzdGluYXRpb25NYXJrZXIgPSBuZXcgZ29vZ2xlLm1hcHMuTWFya2VyKHtcclxuICAgICAgICBwb3NpdGlvbjogdHJ1Y2suRmluYWxEZXN0aW5hdGlvbixcclxuICAgICAgICBtYXA6IG15TWFwXHJcbiAgICB9KTtcclxuXHJcbiAgICBzZXRJbnRlcnZhbCgoKSA9PiB7XHJcbiAgICAgICAgY3VycmVudExvY2F0aW9uTWFya2VyLnNldFBvc2l0aW9uKHRydWNrLkN1cnJlbnRMb2NhdGlvbik7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJDVVJSIFwiLCB0cnVjay5DdXJyZW50TG9jYXRpb24ubGF0KCkpO1xyXG4gICAgfSwgMTAwMCk7XHJcbn0iLCJ2YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXk7XG52YXIgZ2V0UHJvdG90eXBlT2YgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YsIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZSwgZ2V0S2V5cyA9IE9iamVjdC5rZXlzO1xuZXhwb3J0IGZ1bmN0aW9uIGFyZ3NBcmdBcnJheU9yT2JqZWN0KGFyZ3MpIHtcbiAgICBpZiAoYXJncy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgdmFyIGZpcnN0XzEgPSBhcmdzWzBdO1xuICAgICAgICBpZiAoaXNBcnJheShmaXJzdF8xKSkge1xuICAgICAgICAgICAgcmV0dXJuIHsgYXJnczogZmlyc3RfMSwga2V5czogbnVsbCB9O1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc1BPSk8oZmlyc3RfMSkpIHtcbiAgICAgICAgICAgIHZhciBrZXlzID0gZ2V0S2V5cyhmaXJzdF8xKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgYXJnczoga2V5cy5tYXAoZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gZmlyc3RfMVtrZXldOyB9KSxcbiAgICAgICAgICAgICAgICBrZXlzOiBrZXlzLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4geyBhcmdzOiBhcmdzLCBrZXlzOiBudWxsIH07XG59XG5mdW5jdGlvbiBpc1BPSk8ob2JqKSB7XG4gICAgcmV0dXJuIG9iaiAmJiB0eXBlb2Ygb2JqID09PSAnb2JqZWN0JyAmJiBnZXRQcm90b3R5cGVPZihvYmopID09PSBvYmplY3RQcm90bztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFyZ3NBcmdBcnJheU9yT2JqZWN0LmpzLm1hcCIsImltcG9ydCB7IG9wZXJhdGUgfSBmcm9tICcuLi91dGlsL2xpZnQnO1xuaW1wb3J0IHsgY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyIH0gZnJvbSAnLi9PcGVyYXRvclN1YnNjcmliZXInO1xuZXhwb3J0IGZ1bmN0aW9uIG1hcChwcm9qZWN0LCB0aGlzQXJnKSB7XG4gICAgcmV0dXJuIG9wZXJhdGUoZnVuY3Rpb24gKHNvdXJjZSwgc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgaW5kZXggPSAwO1xuICAgICAgICBzb3VyY2Uuc3Vic2NyaWJlKGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dChwcm9qZWN0LmNhbGwodGhpc0FyZywgdmFsdWUsIGluZGV4KyspKTtcbiAgICAgICAgfSkpO1xuICAgIH0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWFwLmpzLm1hcCIsImltcG9ydCB7IF9fcmVhZCwgX19zcHJlYWRBcnJheSB9IGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgbWFwIH0gZnJvbSBcIi4uL29wZXJhdG9ycy9tYXBcIjtcbnZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheTtcbmZ1bmN0aW9uIGNhbGxPckFwcGx5KGZuLCBhcmdzKSB7XG4gICAgcmV0dXJuIGlzQXJyYXkoYXJncykgPyBmbi5hcHBseSh2b2lkIDAsIF9fc3ByZWFkQXJyYXkoW10sIF9fcmVhZChhcmdzKSkpIDogZm4oYXJncyk7XG59XG5leHBvcnQgZnVuY3Rpb24gbWFwT25lT3JNYW55QXJncyhmbikge1xuICAgIHJldHVybiBtYXAoZnVuY3Rpb24gKGFyZ3MpIHsgcmV0dXJuIGNhbGxPckFwcGx5KGZuLCBhcmdzKTsgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tYXBPbmVPck1hbnlBcmdzLmpzLm1hcCIsImltcG9ydCB7IGNyZWF0ZUVycm9yQ2xhc3MgfSBmcm9tICcuL2NyZWF0ZUVycm9yQ2xhc3MnO1xuZXhwb3J0IHZhciBPYmplY3RVbnN1YnNjcmliZWRFcnJvciA9IGNyZWF0ZUVycm9yQ2xhc3MoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHJldHVybiBmdW5jdGlvbiBPYmplY3RVbnN1YnNjcmliZWRFcnJvckltcGwoKSB7XG4gICAgICAgIF9zdXBlcih0aGlzKTtcbiAgICAgICAgdGhpcy5uYW1lID0gJ09iamVjdFVuc3Vic2NyaWJlZEVycm9yJztcbiAgICAgICAgdGhpcy5tZXNzYWdlID0gJ29iamVjdCB1bnN1YnNjcmliZWQnO1xuICAgIH07XG59KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU9iamVjdFVuc3Vic2NyaWJlZEVycm9yLmpzLm1hcCIsImltcG9ydCB7IF9fZXh0ZW5kcywgX192YWx1ZXMgfSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuL09ic2VydmFibGUnO1xuaW1wb3J0IHsgU3Vic2NyaXB0aW9uLCBFTVBUWV9TVUJTQ1JJUFRJT04gfSBmcm9tICcuL1N1YnNjcmlwdGlvbic7XG5pbXBvcnQgeyBPYmplY3RVbnN1YnNjcmliZWRFcnJvciB9IGZyb20gJy4vdXRpbC9PYmplY3RVbnN1YnNjcmliZWRFcnJvcic7XG5pbXBvcnQgeyBhcnJSZW1vdmUgfSBmcm9tICcuL3V0aWwvYXJyUmVtb3ZlJztcbmltcG9ydCB7IGVycm9yQ29udGV4dCB9IGZyb20gJy4vdXRpbC9lcnJvckNvbnRleHQnO1xudmFyIFN1YmplY3QgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhTdWJqZWN0LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFN1YmplY3QoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmNsb3NlZCA9IGZhbHNlO1xuICAgICAgICBfdGhpcy5jdXJyZW50T2JzZXJ2ZXJzID0gbnVsbDtcbiAgICAgICAgX3RoaXMub2JzZXJ2ZXJzID0gW107XG4gICAgICAgIF90aGlzLmlzU3RvcHBlZCA9IGZhbHNlO1xuICAgICAgICBfdGhpcy5oYXNFcnJvciA9IGZhbHNlO1xuICAgICAgICBfdGhpcy50aHJvd25FcnJvciA9IG51bGw7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgU3ViamVjdC5wcm90b3R5cGUubGlmdCA9IGZ1bmN0aW9uIChvcGVyYXRvcikge1xuICAgICAgICB2YXIgc3ViamVjdCA9IG5ldyBBbm9ueW1vdXNTdWJqZWN0KHRoaXMsIHRoaXMpO1xuICAgICAgICBzdWJqZWN0Lm9wZXJhdG9yID0gb3BlcmF0b3I7XG4gICAgICAgIHJldHVybiBzdWJqZWN0O1xuICAgIH07XG4gICAgU3ViamVjdC5wcm90b3R5cGUuX3Rocm93SWZDbG9zZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmNsb3NlZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE9iamVjdFVuc3Vic2NyaWJlZEVycm9yKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN1YmplY3QucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgZXJyb3JDb250ZXh0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBlXzEsIF9hO1xuICAgICAgICAgICAgX3RoaXMuX3Rocm93SWZDbG9zZWQoKTtcbiAgICAgICAgICAgIGlmICghX3RoaXMuaXNTdG9wcGVkKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFfdGhpcy5jdXJyZW50T2JzZXJ2ZXJzKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmN1cnJlbnRPYnNlcnZlcnMgPSBBcnJheS5mcm9tKF90aGlzLm9ic2VydmVycyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9iID0gX192YWx1ZXMoX3RoaXMuY3VycmVudE9ic2VydmVycyksIF9jID0gX2IubmV4dCgpOyAhX2MuZG9uZTsgX2MgPSBfYi5uZXh0KCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvYnNlcnZlciA9IF9jLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JzZXJ2ZXIubmV4dCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVfMV8xKSB7IGVfMSA9IHsgZXJyb3I6IGVfMV8xIH07IH1cbiAgICAgICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfYyAmJiAhX2MuZG9uZSAmJiAoX2EgPSBfYi5yZXR1cm4pKSBfYS5jYWxsKF9iKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFN1YmplY3QucHJvdG90eXBlLmVycm9yID0gZnVuY3Rpb24gKGVycikge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBlcnJvckNvbnRleHQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMuX3Rocm93SWZDbG9zZWQoKTtcbiAgICAgICAgICAgIGlmICghX3RoaXMuaXNTdG9wcGVkKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuaGFzRXJyb3IgPSBfdGhpcy5pc1N0b3BwZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIF90aGlzLnRocm93bkVycm9yID0gZXJyO1xuICAgICAgICAgICAgICAgIHZhciBvYnNlcnZlcnMgPSBfdGhpcy5vYnNlcnZlcnM7XG4gICAgICAgICAgICAgICAgd2hpbGUgKG9ic2VydmVycy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgb2JzZXJ2ZXJzLnNoaWZ0KCkuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgU3ViamVjdC5wcm90b3R5cGUuY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGVycm9yQ29udGV4dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5fdGhyb3dJZkNsb3NlZCgpO1xuICAgICAgICAgICAgaWYgKCFfdGhpcy5pc1N0b3BwZWQpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5pc1N0b3BwZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHZhciBvYnNlcnZlcnMgPSBfdGhpcy5vYnNlcnZlcnM7XG4gICAgICAgICAgICAgICAgd2hpbGUgKG9ic2VydmVycy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgb2JzZXJ2ZXJzLnNoaWZ0KCkuY29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgU3ViamVjdC5wcm90b3R5cGUudW5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuaXNTdG9wcGVkID0gdGhpcy5jbG9zZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLm9ic2VydmVycyA9IHRoaXMuY3VycmVudE9ic2VydmVycyA9IG51bGw7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3ViamVjdC5wcm90b3R5cGUsIFwib2JzZXJ2ZWRcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgIHJldHVybiAoKF9hID0gdGhpcy5vYnNlcnZlcnMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5sZW5ndGgpID4gMDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIFN1YmplY3QucHJvdG90eXBlLl90cnlTdWJzY3JpYmUgPSBmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICB0aGlzLl90aHJvd0lmQ2xvc2VkKCk7XG4gICAgICAgIHJldHVybiBfc3VwZXIucHJvdG90eXBlLl90cnlTdWJzY3JpYmUuY2FsbCh0aGlzLCBzdWJzY3JpYmVyKTtcbiAgICB9O1xuICAgIFN1YmplY3QucHJvdG90eXBlLl9zdWJzY3JpYmUgPSBmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICB0aGlzLl90aHJvd0lmQ2xvc2VkKCk7XG4gICAgICAgIHRoaXMuX2NoZWNrRmluYWxpemVkU3RhdHVzZXMoc3Vic2NyaWJlcik7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbm5lclN1YnNjcmliZShzdWJzY3JpYmVyKTtcbiAgICB9O1xuICAgIFN1YmplY3QucHJvdG90eXBlLl9pbm5lclN1YnNjcmliZSA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBfYSA9IHRoaXMsIGhhc0Vycm9yID0gX2EuaGFzRXJyb3IsIGlzU3RvcHBlZCA9IF9hLmlzU3RvcHBlZCwgb2JzZXJ2ZXJzID0gX2Eub2JzZXJ2ZXJzO1xuICAgICAgICBpZiAoaGFzRXJyb3IgfHwgaXNTdG9wcGVkKSB7XG4gICAgICAgICAgICByZXR1cm4gRU1QVFlfU1VCU0NSSVBUSU9OO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY3VycmVudE9ic2VydmVycyA9IG51bGw7XG4gICAgICAgIG9ic2VydmVycy5wdXNoKHN1YnNjcmliZXIpO1xuICAgICAgICByZXR1cm4gbmV3IFN1YnNjcmlwdGlvbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5jdXJyZW50T2JzZXJ2ZXJzID0gbnVsbDtcbiAgICAgICAgICAgIGFyclJlbW92ZShvYnNlcnZlcnMsIHN1YnNjcmliZXIpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFN1YmplY3QucHJvdG90eXBlLl9jaGVja0ZpbmFsaXplZFN0YXR1c2VzID0gZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIF9hID0gdGhpcywgaGFzRXJyb3IgPSBfYS5oYXNFcnJvciwgdGhyb3duRXJyb3IgPSBfYS50aHJvd25FcnJvciwgaXNTdG9wcGVkID0gX2EuaXNTdG9wcGVkO1xuICAgICAgICBpZiAoaGFzRXJyb3IpIHtcbiAgICAgICAgICAgIHN1YnNjcmliZXIuZXJyb3IodGhyb3duRXJyb3IpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzU3RvcHBlZCkge1xuICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTdWJqZWN0LnByb3RvdHlwZS5hc09ic2VydmFibGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBvYnNlcnZhYmxlID0gbmV3IE9ic2VydmFibGUoKTtcbiAgICAgICAgb2JzZXJ2YWJsZS5zb3VyY2UgPSB0aGlzO1xuICAgICAgICByZXR1cm4gb2JzZXJ2YWJsZTtcbiAgICB9O1xuICAgIFN1YmplY3QuY3JlYXRlID0gZnVuY3Rpb24gKGRlc3RpbmF0aW9uLCBzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBBbm9ueW1vdXNTdWJqZWN0KGRlc3RpbmF0aW9uLCBzb3VyY2UpO1xuICAgIH07XG4gICAgcmV0dXJuIFN1YmplY3Q7XG59KE9ic2VydmFibGUpKTtcbmV4cG9ydCB7IFN1YmplY3QgfTtcbnZhciBBbm9ueW1vdXNTdWJqZWN0ID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQW5vbnltb3VzU3ViamVjdCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBBbm9ueW1vdXNTdWJqZWN0KGRlc3RpbmF0aW9uLCBzb3VyY2UpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuZGVzdGluYXRpb24gPSBkZXN0aW5hdGlvbjtcbiAgICAgICAgX3RoaXMuc291cmNlID0gc291cmNlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIEFub255bW91c1N1YmplY3QucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgKF9iID0gKF9hID0gdGhpcy5kZXN0aW5hdGlvbikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLm5leHQpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jYWxsKF9hLCB2YWx1ZSk7XG4gICAgfTtcbiAgICBBbm9ueW1vdXNTdWJqZWN0LnByb3RvdHlwZS5lcnJvciA9IGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgKF9iID0gKF9hID0gdGhpcy5kZXN0aW5hdGlvbikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmVycm9yKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2FsbChfYSwgZXJyKTtcbiAgICB9O1xuICAgIEFub255bW91c1N1YmplY3QucHJvdG90eXBlLmNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAoX2IgPSAoX2EgPSB0aGlzLmRlc3RpbmF0aW9uKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY29tcGxldGUpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jYWxsKF9hKTtcbiAgICB9O1xuICAgIEFub255bW91c1N1YmplY3QucHJvdG90eXBlLl9zdWJzY3JpYmUgPSBmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICByZXR1cm4gKF9iID0gKF9hID0gdGhpcy5zb3VyY2UpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zdWJzY3JpYmUoc3Vic2NyaWJlcikpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IEVNUFRZX1NVQlNDUklQVElPTjtcbiAgICB9O1xuICAgIHJldHVybiBBbm9ueW1vdXNTdWJqZWN0O1xufShTdWJqZWN0KSk7XG5leHBvcnQgeyBBbm9ueW1vdXNTdWJqZWN0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TdWJqZWN0LmpzLm1hcCIsImltcG9ydCB7IF9fZXh0ZW5kcyB9IGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgU3Vic2NyaXB0aW9uIH0gZnJvbSAnLi4vU3Vic2NyaXB0aW9uJztcbnZhciBBY3Rpb24gPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhBY3Rpb24sIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQWN0aW9uKHNjaGVkdWxlciwgd29yaykge1xuICAgICAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICB9XG4gICAgQWN0aW9uLnByb3RvdHlwZS5zY2hlZHVsZSA9IGZ1bmN0aW9uIChzdGF0ZSwgZGVsYXkpIHtcbiAgICAgICAgaWYgKGRlbGF5ID09PSB2b2lkIDApIHsgZGVsYXkgPSAwOyB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgcmV0dXJuIEFjdGlvbjtcbn0oU3Vic2NyaXB0aW9uKSk7XG5leHBvcnQgeyBBY3Rpb24gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUFjdGlvbi5qcy5tYXAiLCJpbXBvcnQgeyBfX3JlYWQsIF9fc3ByZWFkQXJyYXkgfSBmcm9tIFwidHNsaWJcIjtcbmV4cG9ydCB2YXIgaW50ZXJ2YWxQcm92aWRlciA9IHtcbiAgICBzZXRJbnRlcnZhbDogZnVuY3Rpb24gKGhhbmRsZXIsIHRpbWVvdXQpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAyOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGFyZ3NbX2kgLSAyXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGRlbGVnYXRlID0gaW50ZXJ2YWxQcm92aWRlci5kZWxlZ2F0ZTtcbiAgICAgICAgaWYgKGRlbGVnYXRlID09PSBudWxsIHx8IGRlbGVnYXRlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkZWxlZ2F0ZS5zZXRJbnRlcnZhbCkge1xuICAgICAgICAgICAgcmV0dXJuIGRlbGVnYXRlLnNldEludGVydmFsLmFwcGx5KGRlbGVnYXRlLCBfX3NwcmVhZEFycmF5KFtoYW5kbGVyLCB0aW1lb3V0XSwgX19yZWFkKGFyZ3MpKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNldEludGVydmFsLmFwcGx5KHZvaWQgMCwgX19zcHJlYWRBcnJheShbaGFuZGxlciwgdGltZW91dF0sIF9fcmVhZChhcmdzKSkpO1xuICAgIH0sXG4gICAgY2xlYXJJbnRlcnZhbDogZnVuY3Rpb24gKGhhbmRsZSkge1xuICAgICAgICB2YXIgZGVsZWdhdGUgPSBpbnRlcnZhbFByb3ZpZGVyLmRlbGVnYXRlO1xuICAgICAgICByZXR1cm4gKChkZWxlZ2F0ZSA9PT0gbnVsbCB8fCBkZWxlZ2F0ZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZGVsZWdhdGUuY2xlYXJJbnRlcnZhbCkgfHwgY2xlYXJJbnRlcnZhbCkoaGFuZGxlKTtcbiAgICB9LFxuICAgIGRlbGVnYXRlOiB1bmRlZmluZWQsXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW50ZXJ2YWxQcm92aWRlci5qcy5tYXAiLCJpbXBvcnQgeyBfX2V4dGVuZHMgfSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IEFjdGlvbiB9IGZyb20gJy4vQWN0aW9uJztcbmltcG9ydCB7IGludGVydmFsUHJvdmlkZXIgfSBmcm9tICcuL2ludGVydmFsUHJvdmlkZXInO1xuaW1wb3J0IHsgYXJyUmVtb3ZlIH0gZnJvbSAnLi4vdXRpbC9hcnJSZW1vdmUnO1xudmFyIEFzeW5jQWN0aW9uID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQXN5bmNBY3Rpb24sIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQXN5bmNBY3Rpb24oc2NoZWR1bGVyLCB3b3JrKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHNjaGVkdWxlciwgd29yaykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuc2NoZWR1bGVyID0gc2NoZWR1bGVyO1xuICAgICAgICBfdGhpcy53b3JrID0gd29yaztcbiAgICAgICAgX3RoaXMucGVuZGluZyA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIEFzeW5jQWN0aW9uLnByb3RvdHlwZS5zY2hlZHVsZSA9IGZ1bmN0aW9uIChzdGF0ZSwgZGVsYXkpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAoZGVsYXkgPT09IHZvaWQgMCkgeyBkZWxheSA9IDA7IH1cbiAgICAgICAgaWYgKHRoaXMuY2xvc2VkKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnN0YXRlID0gc3RhdGU7XG4gICAgICAgIHZhciBpZCA9IHRoaXMuaWQ7XG4gICAgICAgIHZhciBzY2hlZHVsZXIgPSB0aGlzLnNjaGVkdWxlcjtcbiAgICAgICAgaWYgKGlkICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuaWQgPSB0aGlzLnJlY3ljbGVBc3luY0lkKHNjaGVkdWxlciwgaWQsIGRlbGF5KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnBlbmRpbmcgPSB0cnVlO1xuICAgICAgICB0aGlzLmRlbGF5ID0gZGVsYXk7XG4gICAgICAgIHRoaXMuaWQgPSAoX2EgPSB0aGlzLmlkKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB0aGlzLnJlcXVlc3RBc3luY0lkKHNjaGVkdWxlciwgdGhpcy5pZCwgZGVsYXkpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIEFzeW5jQWN0aW9uLnByb3RvdHlwZS5yZXF1ZXN0QXN5bmNJZCA9IGZ1bmN0aW9uIChzY2hlZHVsZXIsIF9pZCwgZGVsYXkpIHtcbiAgICAgICAgaWYgKGRlbGF5ID09PSB2b2lkIDApIHsgZGVsYXkgPSAwOyB9XG4gICAgICAgIHJldHVybiBpbnRlcnZhbFByb3ZpZGVyLnNldEludGVydmFsKHNjaGVkdWxlci5mbHVzaC5iaW5kKHNjaGVkdWxlciwgdGhpcyksIGRlbGF5KTtcbiAgICB9O1xuICAgIEFzeW5jQWN0aW9uLnByb3RvdHlwZS5yZWN5Y2xlQXN5bmNJZCA9IGZ1bmN0aW9uIChfc2NoZWR1bGVyLCBpZCwgZGVsYXkpIHtcbiAgICAgICAgaWYgKGRlbGF5ID09PSB2b2lkIDApIHsgZGVsYXkgPSAwOyB9XG4gICAgICAgIGlmIChkZWxheSAhPSBudWxsICYmIHRoaXMuZGVsYXkgPT09IGRlbGF5ICYmIHRoaXMucGVuZGluZyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHJldHVybiBpZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaWQgIT0gbnVsbCkge1xuICAgICAgICAgICAgaW50ZXJ2YWxQcm92aWRlci5jbGVhckludGVydmFsKGlkKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH07XG4gICAgQXN5bmNBY3Rpb24ucHJvdG90eXBlLmV4ZWN1dGUgPSBmdW5jdGlvbiAoc3RhdGUsIGRlbGF5KSB7XG4gICAgICAgIGlmICh0aGlzLmNsb3NlZCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBFcnJvcignZXhlY3V0aW5nIGEgY2FuY2VsbGVkIGFjdGlvbicpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucGVuZGluZyA9IGZhbHNlO1xuICAgICAgICB2YXIgZXJyb3IgPSB0aGlzLl9leGVjdXRlKHN0YXRlLCBkZWxheSk7XG4gICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgcmV0dXJuIGVycm9yO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMucGVuZGluZyA9PT0gZmFsc2UgJiYgdGhpcy5pZCAhPSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLmlkID0gdGhpcy5yZWN5Y2xlQXN5bmNJZCh0aGlzLnNjaGVkdWxlciwgdGhpcy5pZCwgbnVsbCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEFzeW5jQWN0aW9uLnByb3RvdHlwZS5fZXhlY3V0ZSA9IGZ1bmN0aW9uIChzdGF0ZSwgX2RlbGF5KSB7XG4gICAgICAgIHZhciBlcnJvcmVkID0gZmFsc2U7XG4gICAgICAgIHZhciBlcnJvclZhbHVlO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy53b3JrKHN0YXRlKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgZXJyb3JlZCA9IHRydWU7XG4gICAgICAgICAgICBlcnJvclZhbHVlID0gZSA/IGUgOiBuZXcgRXJyb3IoJ1NjaGVkdWxlZCBhY3Rpb24gdGhyZXcgZmFsc3kgZXJyb3InKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXJyb3JlZCkge1xuICAgICAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgcmV0dXJuIGVycm9yVmFsdWU7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEFzeW5jQWN0aW9uLnByb3RvdHlwZS51bnN1YnNjcmliZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmNsb3NlZCkge1xuICAgICAgICAgICAgdmFyIF9hID0gdGhpcywgaWQgPSBfYS5pZCwgc2NoZWR1bGVyID0gX2Euc2NoZWR1bGVyO1xuICAgICAgICAgICAgdmFyIGFjdGlvbnMgPSBzY2hlZHVsZXIuYWN0aW9ucztcbiAgICAgICAgICAgIHRoaXMud29yayA9IHRoaXMuc3RhdGUgPSB0aGlzLnNjaGVkdWxlciA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLnBlbmRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIGFyclJlbW92ZShhY3Rpb25zLCB0aGlzKTtcbiAgICAgICAgICAgIGlmIChpZCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pZCA9IHRoaXMucmVjeWNsZUFzeW5jSWQoc2NoZWR1bGVyLCBpZCwgbnVsbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmRlbGF5ID0gbnVsbDtcbiAgICAgICAgICAgIF9zdXBlci5wcm90b3R5cGUudW5zdWJzY3JpYmUuY2FsbCh0aGlzKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIEFzeW5jQWN0aW9uO1xufShBY3Rpb24pKTtcbmV4cG9ydCB7IEFzeW5jQWN0aW9uIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Bc3luY0FjdGlvbi5qcy5tYXAiLCJleHBvcnQgdmFyIGRhdGVUaW1lc3RhbXBQcm92aWRlciA9IHtcbiAgICBub3c6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIChkYXRlVGltZXN0YW1wUHJvdmlkZXIuZGVsZWdhdGUgfHwgRGF0ZSkubm93KCk7XG4gICAgfSxcbiAgICBkZWxlZ2F0ZTogdW5kZWZpbmVkLFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGVUaW1lc3RhbXBQcm92aWRlci5qcy5tYXAiLCJpbXBvcnQgeyBkYXRlVGltZXN0YW1wUHJvdmlkZXIgfSBmcm9tICcuL3NjaGVkdWxlci9kYXRlVGltZXN0YW1wUHJvdmlkZXInO1xudmFyIFNjaGVkdWxlciA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU2NoZWR1bGVyKHNjaGVkdWxlckFjdGlvbkN0b3IsIG5vdykge1xuICAgICAgICBpZiAobm93ID09PSB2b2lkIDApIHsgbm93ID0gU2NoZWR1bGVyLm5vdzsgfVxuICAgICAgICB0aGlzLnNjaGVkdWxlckFjdGlvbkN0b3IgPSBzY2hlZHVsZXJBY3Rpb25DdG9yO1xuICAgICAgICB0aGlzLm5vdyA9IG5vdztcbiAgICB9XG4gICAgU2NoZWR1bGVyLnByb3RvdHlwZS5zY2hlZHVsZSA9IGZ1bmN0aW9uICh3b3JrLCBkZWxheSwgc3RhdGUpIHtcbiAgICAgICAgaWYgKGRlbGF5ID09PSB2b2lkIDApIHsgZGVsYXkgPSAwOyB9XG4gICAgICAgIHJldHVybiBuZXcgdGhpcy5zY2hlZHVsZXJBY3Rpb25DdG9yKHRoaXMsIHdvcmspLnNjaGVkdWxlKHN0YXRlLCBkZWxheSk7XG4gICAgfTtcbiAgICBTY2hlZHVsZXIubm93ID0gZGF0ZVRpbWVzdGFtcFByb3ZpZGVyLm5vdztcbiAgICByZXR1cm4gU2NoZWR1bGVyO1xufSgpKTtcbmV4cG9ydCB7IFNjaGVkdWxlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U2NoZWR1bGVyLmpzLm1hcCIsImltcG9ydCB7IEFzeW5jQWN0aW9uIH0gZnJvbSAnLi9Bc3luY0FjdGlvbic7XG5pbXBvcnQgeyBBc3luY1NjaGVkdWxlciB9IGZyb20gJy4vQXN5bmNTY2hlZHVsZXInO1xuZXhwb3J0IHZhciBhc3luY1NjaGVkdWxlciA9IG5ldyBBc3luY1NjaGVkdWxlcihBc3luY0FjdGlvbik7XG5leHBvcnQgdmFyIGFzeW5jID0gYXN5bmNTY2hlZHVsZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hc3luYy5qcy5tYXAiLCJpbXBvcnQgeyBfX2V4dGVuZHMgfSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IFNjaGVkdWxlciB9IGZyb20gJy4uL1NjaGVkdWxlcic7XG52YXIgQXN5bmNTY2hlZHVsZXIgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhBc3luY1NjaGVkdWxlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBBc3luY1NjaGVkdWxlcihTY2hlZHVsZXJBY3Rpb24sIG5vdykge1xuICAgICAgICBpZiAobm93ID09PSB2b2lkIDApIHsgbm93ID0gU2NoZWR1bGVyLm5vdzsgfVxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBTY2hlZHVsZXJBY3Rpb24sIG5vdykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuYWN0aW9ucyA9IFtdO1xuICAgICAgICBfdGhpcy5fYWN0aXZlID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgQXN5bmNTY2hlZHVsZXIucHJvdG90eXBlLmZsdXNoID0gZnVuY3Rpb24gKGFjdGlvbikge1xuICAgICAgICB2YXIgYWN0aW9ucyA9IHRoaXMuYWN0aW9ucztcbiAgICAgICAgaWYgKHRoaXMuX2FjdGl2ZSkge1xuICAgICAgICAgICAgYWN0aW9ucy5wdXNoKGFjdGlvbik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGVycm9yO1xuICAgICAgICB0aGlzLl9hY3RpdmUgPSB0cnVlO1xuICAgICAgICBkbyB7XG4gICAgICAgICAgICBpZiAoKGVycm9yID0gYWN0aW9uLmV4ZWN1dGUoYWN0aW9uLnN0YXRlLCBhY3Rpb24uZGVsYXkpKSkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IHdoaWxlICgoYWN0aW9uID0gYWN0aW9ucy5zaGlmdCgpKSk7XG4gICAgICAgIHRoaXMuX2FjdGl2ZSA9IGZhbHNlO1xuICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgIHdoaWxlICgoYWN0aW9uID0gYWN0aW9ucy5zaGlmdCgpKSkge1xuICAgICAgICAgICAgICAgIGFjdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBBc3luY1NjaGVkdWxlcjtcbn0oU2NoZWR1bGVyKSk7XG5leHBvcnQgeyBBc3luY1NjaGVkdWxlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QXN5bmNTY2hlZHVsZXIuanMubWFwIiwiaW1wb3J0IHsgYXN5bmNTY2hlZHVsZXIgfSBmcm9tICcuLi9zY2hlZHVsZXIvYXN5bmMnO1xuaW1wb3J0IHsgdGltZXIgfSBmcm9tICcuL3RpbWVyJztcbmV4cG9ydCBmdW5jdGlvbiBpbnRlcnZhbChwZXJpb2QsIHNjaGVkdWxlcikge1xuICAgIGlmIChwZXJpb2QgPT09IHZvaWQgMCkgeyBwZXJpb2QgPSAwOyB9XG4gICAgaWYgKHNjaGVkdWxlciA9PT0gdm9pZCAwKSB7IHNjaGVkdWxlciA9IGFzeW5jU2NoZWR1bGVyOyB9XG4gICAgaWYgKHBlcmlvZCA8IDApIHtcbiAgICAgICAgcGVyaW9kID0gMDtcbiAgICB9XG4gICAgcmV0dXJuIHRpbWVyKHBlcmlvZCwgcGVyaW9kLCBzY2hlZHVsZXIpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW50ZXJ2YWwuanMubWFwIiwiaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgYXN5bmMgYXMgYXN5bmNTY2hlZHVsZXIgfSBmcm9tICcuLi9zY2hlZHVsZXIvYXN5bmMnO1xuaW1wb3J0IHsgaXNTY2hlZHVsZXIgfSBmcm9tICcuLi91dGlsL2lzU2NoZWR1bGVyJztcbmltcG9ydCB7IGlzVmFsaWREYXRlIH0gZnJvbSAnLi4vdXRpbC9pc0RhdGUnO1xuZXhwb3J0IGZ1bmN0aW9uIHRpbWVyKGR1ZVRpbWUsIGludGVydmFsT3JTY2hlZHVsZXIsIHNjaGVkdWxlcikge1xuICAgIGlmIChkdWVUaW1lID09PSB2b2lkIDApIHsgZHVlVGltZSA9IDA7IH1cbiAgICBpZiAoc2NoZWR1bGVyID09PSB2b2lkIDApIHsgc2NoZWR1bGVyID0gYXN5bmNTY2hlZHVsZXI7IH1cbiAgICB2YXIgaW50ZXJ2YWxEdXJhdGlvbiA9IC0xO1xuICAgIGlmIChpbnRlcnZhbE9yU2NoZWR1bGVyICE9IG51bGwpIHtcbiAgICAgICAgaWYgKGlzU2NoZWR1bGVyKGludGVydmFsT3JTY2hlZHVsZXIpKSB7XG4gICAgICAgICAgICBzY2hlZHVsZXIgPSBpbnRlcnZhbE9yU2NoZWR1bGVyO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaW50ZXJ2YWxEdXJhdGlvbiA9IGludGVydmFsT3JTY2hlZHVsZXI7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBkdWUgPSBpc1ZhbGlkRGF0ZShkdWVUaW1lKSA/ICtkdWVUaW1lIC0gc2NoZWR1bGVyLm5vdygpIDogZHVlVGltZTtcbiAgICAgICAgaWYgKGR1ZSA8IDApIHtcbiAgICAgICAgICAgIGR1ZSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG4gPSAwO1xuICAgICAgICByZXR1cm4gc2NoZWR1bGVyLnNjaGVkdWxlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICghc3Vic2NyaWJlci5jbG9zZWQpIHtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQobisrKTtcbiAgICAgICAgICAgICAgICBpZiAoMCA8PSBpbnRlcnZhbER1cmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2NoZWR1bGUodW5kZWZpbmVkLCBpbnRlcnZhbER1cmF0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIGR1ZSk7XG4gICAgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD10aW1lci5qcy5tYXAiLCJleHBvcnQgZnVuY3Rpb24gaXNWYWxpZERhdGUodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBEYXRlICYmICFpc05hTih2YWx1ZSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pc0RhdGUuanMubWFwIiwiaW1wb3J0IHsgb3BlcmF0ZSB9IGZyb20gJy4uL3V0aWwvbGlmdCc7XG5pbXBvcnQgeyBjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIgfSBmcm9tICcuL09wZXJhdG9yU3Vic2NyaWJlcic7XG5pbXBvcnQgeyBpbm5lckZyb20gfSBmcm9tICcuLi9vYnNlcnZhYmxlL2lubmVyRnJvbSc7XG5pbXBvcnQgeyBub29wIH0gZnJvbSAnLi4vdXRpbC9ub29wJztcbmV4cG9ydCBmdW5jdGlvbiB0YWtlVW50aWwobm90aWZpZXIpIHtcbiAgICByZXR1cm4gb3BlcmF0ZShmdW5jdGlvbiAoc291cmNlLCBzdWJzY3JpYmVyKSB7XG4gICAgICAgIGlubmVyRnJvbShub3RpZmllcikuc3Vic2NyaWJlKGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBmdW5jdGlvbiAoKSB7IHJldHVybiBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7IH0sIG5vb3ApKTtcbiAgICAgICAgIXN1YnNjcmliZXIuY2xvc2VkICYmIHNvdXJjZS5zdWJzY3JpYmUoc3Vic2NyaWJlcik7XG4gICAgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD10YWtlVW50aWwuanMubWFwIiwiaW1wb3J0IHsgbWFwIH0gZnJvbSAnLi9tYXAnO1xuaW1wb3J0IHsgaW5uZXJGcm9tIH0gZnJvbSAnLi4vb2JzZXJ2YWJsZS9pbm5lckZyb20nO1xuaW1wb3J0IHsgb3BlcmF0ZSB9IGZyb20gJy4uL3V0aWwvbGlmdCc7XG5pbXBvcnQgeyBtZXJnZUludGVybmFscyB9IGZyb20gJy4vbWVyZ2VJbnRlcm5hbHMnO1xuaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJy4uL3V0aWwvaXNGdW5jdGlvbic7XG5leHBvcnQgZnVuY3Rpb24gbWVyZ2VNYXAocHJvamVjdCwgcmVzdWx0U2VsZWN0b3IsIGNvbmN1cnJlbnQpIHtcbiAgICBpZiAoY29uY3VycmVudCA9PT0gdm9pZCAwKSB7IGNvbmN1cnJlbnQgPSBJbmZpbml0eTsgfVxuICAgIGlmIChpc0Z1bmN0aW9uKHJlc3VsdFNlbGVjdG9yKSkge1xuICAgICAgICByZXR1cm4gbWVyZ2VNYXAoZnVuY3Rpb24gKGEsIGkpIHsgcmV0dXJuIG1hcChmdW5jdGlvbiAoYiwgaWkpIHsgcmV0dXJuIHJlc3VsdFNlbGVjdG9yKGEsIGIsIGksIGlpKTsgfSkoaW5uZXJGcm9tKHByb2plY3QoYSwgaSkpKTsgfSwgY29uY3VycmVudCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGVvZiByZXN1bHRTZWxlY3RvciA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgY29uY3VycmVudCA9IHJlc3VsdFNlbGVjdG9yO1xuICAgIH1cbiAgICByZXR1cm4gb3BlcmF0ZShmdW5jdGlvbiAoc291cmNlLCBzdWJzY3JpYmVyKSB7IHJldHVybiBtZXJnZUludGVybmFscyhzb3VyY2UsIHN1YnNjcmliZXIsIHByb2plY3QsIGNvbmN1cnJlbnQpOyB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1lcmdlTWFwLmpzLm1hcCIsImltcG9ydCB7IGlubmVyRnJvbSB9IGZyb20gJy4uL29ic2VydmFibGUvaW5uZXJGcm9tJztcbmltcG9ydCB7IGV4ZWN1dGVTY2hlZHVsZSB9IGZyb20gJy4uL3V0aWwvZXhlY3V0ZVNjaGVkdWxlJztcbmltcG9ydCB7IGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlciB9IGZyb20gJy4vT3BlcmF0b3JTdWJzY3JpYmVyJztcbmV4cG9ydCBmdW5jdGlvbiBtZXJnZUludGVybmFscyhzb3VyY2UsIHN1YnNjcmliZXIsIHByb2plY3QsIGNvbmN1cnJlbnQsIG9uQmVmb3JlTmV4dCwgZXhwYW5kLCBpbm5lclN1YlNjaGVkdWxlciwgYWRkaXRpb25hbEZpbmFsaXplcikge1xuICAgIHZhciBidWZmZXIgPSBbXTtcbiAgICB2YXIgYWN0aXZlID0gMDtcbiAgICB2YXIgaW5kZXggPSAwO1xuICAgIHZhciBpc0NvbXBsZXRlID0gZmFsc2U7XG4gICAgdmFyIGNoZWNrQ29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChpc0NvbXBsZXRlICYmICFidWZmZXIubGVuZ3RoICYmICFhY3RpdmUpIHtcbiAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdmFyIG91dGVyTmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkgeyByZXR1cm4gKGFjdGl2ZSA8IGNvbmN1cnJlbnQgPyBkb0lubmVyU3ViKHZhbHVlKSA6IGJ1ZmZlci5wdXNoKHZhbHVlKSk7IH07XG4gICAgdmFyIGRvSW5uZXJTdWIgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgZXhwYW5kICYmIHN1YnNjcmliZXIubmV4dCh2YWx1ZSk7XG4gICAgICAgIGFjdGl2ZSsrO1xuICAgICAgICB2YXIgaW5uZXJDb21wbGV0ZSA9IGZhbHNlO1xuICAgICAgICBpbm5lckZyb20ocHJvamVjdCh2YWx1ZSwgaW5kZXgrKykpLnN1YnNjcmliZShjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgZnVuY3Rpb24gKGlubmVyVmFsdWUpIHtcbiAgICAgICAgICAgIG9uQmVmb3JlTmV4dCA9PT0gbnVsbCB8fCBvbkJlZm9yZU5leHQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9uQmVmb3JlTmV4dChpbm5lclZhbHVlKTtcbiAgICAgICAgICAgIGlmIChleHBhbmQpIHtcbiAgICAgICAgICAgICAgICBvdXRlck5leHQoaW5uZXJWYWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQoaW5uZXJWYWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlubmVyQ29tcGxldGUgPSB0cnVlO1xuICAgICAgICB9LCB1bmRlZmluZWQsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChpbm5lckNvbXBsZXRlKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgYWN0aXZlLS07XG4gICAgICAgICAgICAgICAgICAgIHZhciBfbG9vcF8xID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGJ1ZmZlcmVkVmFsdWUgPSBidWZmZXIuc2hpZnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbm5lclN1YlNjaGVkdWxlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4ZWN1dGVTY2hlZHVsZShzdWJzY3JpYmVyLCBpbm5lclN1YlNjaGVkdWxlciwgZnVuY3Rpb24gKCkgeyByZXR1cm4gZG9Jbm5lclN1YihidWZmZXJlZFZhbHVlKTsgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb0lubmVyU3ViKGJ1ZmZlcmVkVmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoYnVmZmVyLmxlbmd0aCAmJiBhY3RpdmUgPCBjb25jdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfbG9vcF8xKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2hlY2tDb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pKTtcbiAgICB9O1xuICAgIHNvdXJjZS5zdWJzY3JpYmUoY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIG91dGVyTmV4dCwgZnVuY3Rpb24gKCkge1xuICAgICAgICBpc0NvbXBsZXRlID0gdHJ1ZTtcbiAgICAgICAgY2hlY2tDb21wbGV0ZSgpO1xuICAgIH0pKTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICBhZGRpdGlvbmFsRmluYWxpemVyID09PSBudWxsIHx8IGFkZGl0aW9uYWxGaW5hbGl6ZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGFkZGl0aW9uYWxGaW5hbGl6ZXIoKTtcbiAgICB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWVyZ2VJbnRlcm5hbHMuanMubWFwIiwiaW1wb3J0IHsgbWVyZ2VBbGwgfSBmcm9tICcuL21lcmdlQWxsJztcbmV4cG9ydCBmdW5jdGlvbiBjb25jYXRBbGwoKSB7XG4gICAgcmV0dXJuIG1lcmdlQWxsKDEpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29uY2F0QWxsLmpzLm1hcCIsImltcG9ydCB7IG1lcmdlTWFwIH0gZnJvbSAnLi9tZXJnZU1hcCc7XG5pbXBvcnQgeyBpZGVudGl0eSB9IGZyb20gJy4uL3V0aWwvaWRlbnRpdHknO1xuZXhwb3J0IGZ1bmN0aW9uIG1lcmdlQWxsKGNvbmN1cnJlbnQpIHtcbiAgICBpZiAoY29uY3VycmVudCA9PT0gdm9pZCAwKSB7IGNvbmN1cnJlbnQgPSBJbmZpbml0eTsgfVxuICAgIHJldHVybiBtZXJnZU1hcChpZGVudGl0eSwgY29uY3VycmVudCk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tZXJnZUFsbC5qcy5tYXAiLCJpbXBvcnQgeyBjb25jYXRBbGwgfSBmcm9tICcuLi9vcGVyYXRvcnMvY29uY2F0QWxsJztcbmltcG9ydCB7IHBvcFNjaGVkdWxlciB9IGZyb20gJy4uL3V0aWwvYXJncyc7XG5pbXBvcnQgeyBmcm9tIH0gZnJvbSAnLi9mcm9tJztcbmV4cG9ydCBmdW5jdGlvbiBjb25jYXQoKSB7XG4gICAgdmFyIGFyZ3MgPSBbXTtcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfVxuICAgIHJldHVybiBjb25jYXRBbGwoKShmcm9tKGFyZ3MsIHBvcFNjaGVkdWxlcihhcmdzKSkpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29uY2F0LmpzLm1hcCIsImltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuLi91dGlsL2lzRnVuY3Rpb24nO1xuaW1wb3J0IHsgb3BlcmF0ZSB9IGZyb20gJy4uL3V0aWwvbGlmdCc7XG5pbXBvcnQgeyBjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIgfSBmcm9tICcuL09wZXJhdG9yU3Vic2NyaWJlcic7XG5pbXBvcnQgeyBpZGVudGl0eSB9IGZyb20gJy4uL3V0aWwvaWRlbnRpdHknO1xuZXhwb3J0IGZ1bmN0aW9uIHRhcChvYnNlcnZlck9yTmV4dCwgZXJyb3IsIGNvbXBsZXRlKSB7XG4gICAgdmFyIHRhcE9ic2VydmVyID0gaXNGdW5jdGlvbihvYnNlcnZlck9yTmV4dCkgfHwgZXJyb3IgfHwgY29tcGxldGVcbiAgICAgICAgP1xuICAgICAgICAgICAgeyBuZXh0OiBvYnNlcnZlck9yTmV4dCwgZXJyb3I6IGVycm9yLCBjb21wbGV0ZTogY29tcGxldGUgfVxuICAgICAgICA6IG9ic2VydmVyT3JOZXh0O1xuICAgIHJldHVybiB0YXBPYnNlcnZlclxuICAgICAgICA/IG9wZXJhdGUoZnVuY3Rpb24gKHNvdXJjZSwgc3Vic2NyaWJlcikge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgKF9hID0gdGFwT2JzZXJ2ZXIuc3Vic2NyaWJlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbCh0YXBPYnNlcnZlcik7XG4gICAgICAgICAgICB2YXIgaXNVbnN1YiA9IHRydWU7XG4gICAgICAgICAgICBzb3VyY2Uuc3Vic2NyaWJlKGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgKF9hID0gdGFwT2JzZXJ2ZXIubmV4dCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwodGFwT2JzZXJ2ZXIsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQodmFsdWUpO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICBpc1Vuc3ViID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgKF9hID0gdGFwT2JzZXJ2ZXIuY29tcGxldGUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKHRhcE9ic2VydmVyKTtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgIGlzVW5zdWIgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAoX2EgPSB0YXBPYnNlcnZlci5lcnJvcikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwodGFwT2JzZXJ2ZXIsIGVycik7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5lcnJvcihlcnIpO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgICAgICAgICAgaWYgKGlzVW5zdWIpIHtcbiAgICAgICAgICAgICAgICAgICAgKF9hID0gdGFwT2JzZXJ2ZXIudW5zdWJzY3JpYmUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKHRhcE9ic2VydmVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKF9iID0gdGFwT2JzZXJ2ZXIuZmluYWxpemUpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jYWxsKHRhcE9ic2VydmVyKTtcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfSlcbiAgICAgICAgOlxuICAgICAgICAgICAgaWRlbnRpdHk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD10YXAuanMubWFwIiwiaW1wb3J0IHsgb3BlcmF0ZSB9IGZyb20gJy4uL3V0aWwvbGlmdCc7XG5pbXBvcnQgeyBjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIgfSBmcm9tICcuL09wZXJhdG9yU3Vic2NyaWJlcic7XG5pbXBvcnQgeyBpbm5lckZyb20gfSBmcm9tICcuLi9vYnNlcnZhYmxlL2lubmVyRnJvbSc7XG5pbXBvcnQgeyBub29wIH0gZnJvbSAnLi4vdXRpbC9ub29wJztcbmV4cG9ydCBmdW5jdGlvbiBza2lwVW50aWwobm90aWZpZXIpIHtcbiAgICByZXR1cm4gb3BlcmF0ZShmdW5jdGlvbiAoc291cmNlLCBzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciB0YWtpbmcgPSBmYWxzZTtcbiAgICAgICAgdmFyIHNraXBTdWJzY3JpYmVyID0gY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHNraXBTdWJzY3JpYmVyID09PSBudWxsIHx8IHNraXBTdWJzY3JpYmVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBza2lwU3Vic2NyaWJlci51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgdGFraW5nID0gdHJ1ZTtcbiAgICAgICAgfSwgbm9vcCk7XG4gICAgICAgIGlubmVyRnJvbShub3RpZmllcikuc3Vic2NyaWJlKHNraXBTdWJzY3JpYmVyKTtcbiAgICAgICAgc291cmNlLnN1YnNjcmliZShjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgZnVuY3Rpb24gKHZhbHVlKSB7IHJldHVybiB0YWtpbmcgJiYgc3Vic2NyaWJlci5uZXh0KHZhbHVlKTsgfSkpO1xuICAgIH0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2tpcFVudGlsLmpzLm1hcCIsImltcG9ydCB7IHBvcFNjaGVkdWxlciB9IGZyb20gJy4uL3V0aWwvYXJncyc7XG5pbXBvcnQgeyBmcm9tIH0gZnJvbSAnLi9mcm9tJztcbmV4cG9ydCBmdW5jdGlvbiBvZigpIHtcbiAgICB2YXIgYXJncyA9IFtdO1xuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICB9XG4gICAgdmFyIHNjaGVkdWxlciA9IHBvcFNjaGVkdWxlcihhcmdzKTtcbiAgICByZXR1cm4gZnJvbShhcmdzLCBzY2hlZHVsZXIpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9b2YuanMubWFwIiwiaW1wb3J0IHsgX19yZWFkLCBfX3NwcmVhZEFycmF5IH0gZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBjb25jYXQgfSBmcm9tICcuLi9vYnNlcnZhYmxlL2NvbmNhdCc7XG5pbXBvcnQgeyBvZiB9IGZyb20gJy4uL29ic2VydmFibGUvb2YnO1xuZXhwb3J0IGZ1bmN0aW9uIGVuZFdpdGgoKSB7XG4gICAgdmFyIHZhbHVlcyA9IFtdO1xuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIHZhbHVlc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24gKHNvdXJjZSkgeyByZXR1cm4gY29uY2F0KHNvdXJjZSwgb2YuYXBwbHkodm9pZCAwLCBfX3NwcmVhZEFycmF5KFtdLCBfX3JlYWQodmFsdWVzKSkpKTsgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWVuZFdpdGguanMubWFwIiwiaW1wb3J0IHsgZHJpdmVyc1VSTCwgb3JkZXJzVVJMIH0gZnJvbSBcIi4uL2NvbmZpZ1wiO1xyXG5cclxuZXhwb3J0IGVudW0gRHJpdmVyU3RhdHVzIHtcclxuICAgICdhdmFpbGFibGUnLFxyXG4gICAgJ29uUm9hZCcsXHJcbiAgICAnb25CcmVhaydcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBQZXJzb24ge1xyXG4gICAgaWQ6IHN0cmluZyxcclxuICAgIEZ1bGxOYW1lOiBzdHJpbmcsXHJcbiAgICBQaG9uZU51bWJlcjogc3RyaW5nLFxyXG4gICAgRW1haWw6IHN0cmluZyxcclxuICAgIERhdGVPZkJpcnRoOiBEYXRlXHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBEcml2ZXIgaW1wbGVtZW50cyBQZXJzb24ge1xyXG4gICAgaWQ6IHN0cmluZztcclxuICAgIEZ1bGxOYW1lOiBzdHJpbmc7XHJcbiAgICBQaG9uZU51bWJlcjogc3RyaW5nO1xyXG4gICAgRW1haWw6IHN0cmluZztcclxuICAgIERhdGVPZkJpcnRoOiBEYXRlO1xyXG4gICAgLy8gQWRkcmVzczogc3RyaW5nO1xyXG4gICAgLy8gU2FsYXJ5OiBudW1iZXI7XHJcbiAgICAvLyBMaWNlbmNlTnVtYmVyOiBzdHJpbmc7XHJcbiAgICBTdGF0dXM6ICdhdmFpbGFibGUnIHwgJ29uUm9hZCcgfCAnb25CcmVhayc7XHJcbiAgICBBc3NpZ25lZFZlaGljbGVJRD86IHN0cmluZztcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihkcml2ZXJEYXRhOiBEcml2ZXIpIHtcclxuICAgICAgICAgICAgdGhpcy5pZCA9IGRyaXZlckRhdGEuaWQ7XHJcbiAgICAgICAgICAgIHRoaXMuRnVsbE5hbWU9ZHJpdmVyRGF0YS5GdWxsTmFtZTtcclxuICAgICAgICAgICAgdGhpcy5QaG9uZU51bWJlcj1kcml2ZXJEYXRhLlBob25lTnVtYmVyO1xyXG4gICAgICAgICAgICB0aGlzLkVtYWlsPWRyaXZlckRhdGEuRW1haWw7XHJcbiAgICAgICAgICAgIHRoaXMuRGF0ZU9mQmlydGg9ZHJpdmVyRGF0YS5EYXRlT2ZCaXJ0aDtcclxuICAgICAgICAgICAgdGhpcy5TdGF0dXM9ZHJpdmVyRGF0YS5TdGF0dXM7XHJcbiAgICAgICAgICAgIHRoaXMuQXNzaWduZWRWZWhpY2xlSUQ9ZHJpdmVyRGF0YS5Bc3NpZ25lZFZlaGljbGVJRDtcclxuICAgICAgICB9XHJcblxyXG4gICAgYXN5bmMgYXNzaWduU2hpcG1lbnQoc2hpcG1lbnRJRDogc3RyaW5nKSB7XHJcbiAgICAgICAgYXdhaXQgZmV0Y2gob3JkZXJzVVJMICsgc2hpcG1lbnRJRCk7XHJcbiAgICAgICAgYXdhaXQgZmV0Y2goZHJpdmVyc1VSTCk7XHJcbiAgICB9XHJcblxyXG4gICAgZGVzdGluYXRpb25SZWFjaGVkVXBkYXRlKCkge1xyXG4gICAgICB0aGlzLlN0YXR1cz0nYXZhaWxhYmxlJztcclxuICAgICAgdGhpcy5Bc3NpZ25lZFZlaGljbGVJRD1cIlwiO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZURyaXZlckRhdGEobmV3RGF0YTogUGFydGlhbDxEcml2ZXI+KTogdm9pZCB7XHJcbiAgICAgICAgaWYgKG5ld0RhdGEuaGFzT3duUHJvcGVydHkoJ2lkJykpIHtcclxuICAgICAgICAgIHRoaXMuaWQgPSBuZXdEYXRhLmlkO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAobmV3RGF0YS5oYXNPd25Qcm9wZXJ0eSgnRnVsbE5hbWUnKSkge1xyXG4gICAgICAgICAgdGhpcy5GdWxsTmFtZSA9IG5ld0RhdGEuRnVsbE5hbWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChuZXdEYXRhLmhhc093blByb3BlcnR5KCdEYXRlT2ZCaXJ0aCcpKSB7XHJcbiAgICAgICAgICB0aGlzLkRhdGVPZkJpcnRoID0gbmV3RGF0YS5EYXRlT2ZCaXJ0aDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKG5ld0RhdGEuaGFzT3duUHJvcGVydHkoJ0VtYWlsJykpIHtcclxuICAgICAgICAgIHRoaXMuRW1haWwgPSBuZXdEYXRhLkVtYWlsO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAobmV3RGF0YS5oYXNPd25Qcm9wZXJ0eSgnUGhvbmVOdW1iZXInKSkge1xyXG4gICAgICAgICAgdGhpcy5QaG9uZU51bWJlciA9IG5ld0RhdGEuUGhvbmVOdW1iZXI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChuZXdEYXRhLmhhc093blByb3BlcnR5KCdTdGF0dXMnKSkge1xyXG4gICAgICAgICAgdGhpcy5TdGF0dXMgPSBuZXdEYXRhLlN0YXR1cztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgQ29vcmRpbmF0ZXMgfSBmcm9tIFwiLi4vdGVzdEZ1bmN0aW9ucy9jb29yZGluYXRlc1wiO1xyXG5pbXBvcnQgeyBnYXJhZ2VMb2NhdGlvbiwgdmVoaWNsZXNVUkwgfSBmcm9tIFwiLi4vY29uZmlnXCI7XHJcbmltcG9ydCB7IE9ic2VydmFibGUsIFN1YmplY3QsIFN1YnNjcmlwdGlvbiwgY29tYmluZUxhdGVzdCwgZW5kV2l0aCwgZmlsdGVyLCBpbnRlcnZhbCwgbWFwLCBvZiwgc2Nhbiwgc2tpcFVudGlsLCBza2lwV2hpbGUsIHN0YXJ0V2l0aCwgdGFrZSwgdGFrZVVudGlsLCB0YWtlV2hpbGUsIHRhcCB9IGZyb20gXCJyeGpzXCI7XHJcbmltcG9ydCB7IGdldFRydWNrc0Zyb21TZXJ2ZXIsIHVwZGF0ZVRydWNrUmVxdWVzdCB9IGZyb20gXCIuL3NlcnZpY2VzXCI7XHJcbmltcG9ydCB7IERyaXZlciB9IGZyb20gXCIuL3BlcnNvblwiO1xyXG5cclxuZXhwb3J0IGVudW0gVmVoaWNsZVN0YXR1cyB7XHJcbiAgICAnaWRsZSc9J2lkbGUnLFxyXG4gICAgJ2luVHJhbnNpdCc9J2luVHJhbnNpdCdcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBWZWhpY2xlIHtcclxuICAgIGlkOiBzdHJpbmcsXHJcbiAgICBSZWdpc3RyYXRpb25FeHBpcnlEYXRlOiBEYXRlLFxyXG4gICAgTW9kZWw6IHN0cmluZyxcclxuICAgIENhcGFjaXR5OiBudW1iZXIsXHJcbiAgICAvL0N1cnJlbnRMb2NhdGlvbjogQ29vcmRpbmF0ZXMsXHJcbiAgICBDdXJyZW50U3BlZWQ6IG51bWJlcixcclxuICAgIEdhc0xldmVsOiBudW1iZXIsXHJcbiAgICBTdGF0dXM6ICdpZGxlJyB8ICdpblRyYW5zaXQnLFxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgVHJ1Y2sgaW1wbGVtZW50cyBWZWhpY2xlIHtcclxuICAgIGlkOiBzdHJpbmc7XHJcbiAgICBSZWdpc3RyYXRpb25FeHBpcnlEYXRlOiBEYXRlO1xyXG4gICAgTW9kZWw6IHN0cmluZztcclxuICAgIENhcGFjaXR5OiBudW1iZXI7XHJcbiAgICBMb2FkOiBudW1iZXI7XHJcbiAgICBDdXJyZW50U3BlZWQ6IG51bWJlcjtcclxuICAgIEdhc0xldmVsOiBudW1iZXI7XHJcbiAgICBTdGF0dXM6ICdpZGxlJyB8ICdpblRyYW5zaXQnO1xyXG4gICAgQ3VycmVudExvY2F0aW9uOiBnb29nbGUubWFwcy5MYXRMbmc7XHJcbiAgICBGaW5hbERlc3RpbmF0aW9uOiBnb29nbGUubWFwcy5MYXRMbmc7XHJcblxyXG4gICAgLy8gcHJpdmF0ZSBnYXNMZXZlbCQgPSBuZXcgT2JzZXJ2YWJsZTxudW1iZXI+KCk7XHJcbiAgICAvLyBwcml2YXRlIGxvY2F0aW9uJCA9IG5ldyBPYnNlcnZhYmxlKCk7XHJcbiAgICAvLyBwcml2YXRlIHNwZWVkJCA9IG5ldyBPYnNlcnZhYmxlPG51bWJlcj4oKTtcclxuICAgIC8vIHByaXZhdGUgZGVzdGluYXRpb25SZWFjaGVkU3ViamVjdCA9IG5ldyBTdWJqZWN0PHZvaWQ+KCk7XHJcblxyXG4gICAgY29uc3RydWN0b3Iob3JkZXI6IFRydWNrKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaWQ9b3JkZXIuaWQ7XHJcbiAgICAgICAgICAgIHRoaXMuUmVnaXN0cmF0aW9uRXhwaXJ5RGF0ZT1vcmRlci5SZWdpc3RyYXRpb25FeHBpcnlEYXRlO1xyXG4gICAgICAgICAgICB0aGlzLk1vZGVsPW9yZGVyLk1vZGVsO1xyXG4gICAgICAgICAgICB0aGlzLkNhcGFjaXR5PW9yZGVyLkNhcGFjaXR5O1xyXG4gICAgICAgICAgICB0aGlzLkxvYWQ9b3JkZXIuTG9hZDtcclxuICAgICAgICAgICAgdGhpcy5DdXJyZW50U3BlZWQ9b3JkZXIuQ3VycmVudFNwZWVkO1xyXG4gICAgICAgICAgICB0aGlzLkdhc0xldmVsPW9yZGVyLkdhc0xldmVsO1xyXG4gICAgICAgICAgICB0aGlzLlN0YXR1cz1vcmRlci5TdGF0dXM7XHJcbiAgICAgICAgICAgIHRoaXMuQ3VycmVudExvY2F0aW9uPW5ldyBnb29nbGUubWFwcy5MYXRMbmcob3JkZXIuQ3VycmVudExvY2F0aW9uKTtcclxuICAgICAgICAgICAgdGhpcy5GaW5hbERlc3RpbmF0aW9uPW5ldyBnb29nbGUubWFwcy5MYXRMbmcob3JkZXIuRmluYWxEZXN0aW5hdGlvbik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgdXBkYXRlVHJ1Y2tEYXRhKG5ld0RhdGE6IFBhcnRpYWw8VHJ1Y2s+KTogdm9pZCB7XHJcbiAgICAgICAgICBpZiAobmV3RGF0YS5oYXNPd25Qcm9wZXJ0eSgnQ3VycmVudExvY2F0aW9uJykpIHtcclxuICAgICAgICAgICAgdGhpcy5DdXJyZW50TG9jYXRpb24gPSBuZXdEYXRhLkN1cnJlbnRMb2NhdGlvbjtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGlmIChuZXdEYXRhLmhhc093blByb3BlcnR5KCdDdXJyZW50U3BlZWQnKSkge1xyXG4gICAgICAgICAgICB0aGlzLkN1cnJlbnRTcGVlZCA9IG5ld0RhdGEuQ3VycmVudFNwZWVkO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgaWYgKG5ld0RhdGEuaGFzT3duUHJvcGVydHkoJ0dhc0xldmVsJykpIHtcclxuICAgICAgICAgICAgdGhpcy5HYXNMZXZlbCA9IG5ld0RhdGEuR2FzTGV2ZWw7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBpZiAobmV3RGF0YS5oYXNPd25Qcm9wZXJ0eSgnU3RhdHVzJykpIHtcclxuICAgICAgICAgICAgdGhpcy5TdGF0dXMgPSBuZXdEYXRhLlN0YXR1cztcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGlmIChuZXdEYXRhLmhhc093blByb3BlcnR5KCdGaW5hbERlc3RpbmF0aW9uJykpIHtcclxuICAgICAgICAgICAgdGhpcy5GaW5hbERlc3RpbmF0aW9uID0gbmV3RGF0YS5GaW5hbERlc3RpbmF0aW9uO1xyXG4gICAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBhc3luYyB0cmFja1RydWNrTG9jYXRpb24oSUQ6IHN0cmluZywgaG9zdDogSFRNTEVsZW1lbnQpIHtcclxuXHJcbiAgICAgICAgICBjb25zdCB0cnVja09uTWFwID0gbmV3IGdvb2dsZS5tYXBzLk1hcChob3N0LCBcclxuICAgICAgICAgIHtcclxuICAgICAgICAgICAgICBjZW50ZXI6IHRoaXMuQ3VycmVudExvY2F0aW9uLFxyXG4gICAgICAgICAgICAgIHpvb206IDRcclxuICAgICAgICAgIH0pOyAgICBcclxuICAgICAgICAgIGNvbnN0IG1hcmtlcj1uZXcgZ29vZ2xlLm1hcHMuTWFya2VyKHtcclxuICAgICAgICAgICAgICBwb3NpdGlvbjogdGhpcy5DdXJyZW50TG9jYXRpb24sXHJcbiAgICAgICAgICAgICAgbWFwOiB0cnVja09uTWFwXHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAvL3RoaXMuc2ltdWxhdGVNb3ZlbWVudCgpLnN1YnNjcmliZShuZXdMb2NhdGlvbiA9PiBtYXJrZXIuc2V0UG9zaXRpb24obmV3TG9jYXRpb24pKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgZGVzdGluYXRpb25SZWFjaGVkVXBkYXRlKCkge1xyXG4gICAgICAgIHRoaXMuU3RhdHVzPSdpZGxlJztcclxuICAgICAgICB0aGlzLkxvYWQ9MDtcclxuICAgICAgICB0aGlzLkN1cnJlbnRMb2NhdGlvbj1uZXcgZ29vZ2xlLm1hcHMuTGF0TG5nKGdhcmFnZUxvY2F0aW9uKTtcclxuICAgICAgICB0aGlzLkZpbmFsRGVzdGluYXRpb249IG5ldyBnb29nbGUubWFwcy5MYXRMbmcoZ2FyYWdlTG9jYXRpb24pO1xyXG4gICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gc3RhdGljIGFzeW5jIHNob3dBbGxUcnVja3NPbk1hcCh2ZWhpY2xlJDogT2JzZXJ2YWJsZTxUcnVjaz4sIG1hcEVsZW1lbnQ6IEhUTUxEaXZFbGVtZW50KSB7XHJcbiAgICAgICAgLy8gICAgIGNvbnN0IG15TWFwID0gbmV3IGdvb2dsZS5tYXBzLk1hcChtYXBFbGVtZW50LCBcclxuICAgICAgICAvLyAgICAge1xyXG4gICAgICAgIC8vICAgICAgICAgY2VudGVyOiBnYXJhZ2VMb2NhdGlvbixcclxuICAgICAgICAvLyAgICAgICAgIHpvb206IDdcclxuICAgICAgICAvLyAgICAgfSk7XHJcbiAgICAgICAgLy8gICAgIHJldHVybiB2ZWhpY2xlJC5waXBlKFxyXG4gICAgICAgIC8vICAgICAgICAgbWFwKCh0cnVjaykgPT4ge1xyXG4gICAgICAgIC8vICAgICAgICAgICAgIGNvbnN0IG1hcmtlciA9IG5ldyBnb29nbGUubWFwcy5NYXJrZXIoe1xyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICBwb3NpdGlvbjogdHJ1Y2suQ3VycmVudExvY2F0aW9uLFxyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICBtYXA6IG15TWFwXHJcbiAgICAgICAgLy8gICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgcmV0dXJuIG1hcmtlcjtcclxuICAgICAgICAvLyAgICAgICAgIH0pXHJcbiAgICAgICAgLy8gICAgICk7XHJcbiAgICAgICAgLy8gfVxyXG5cclxuICAgICAgICAvLyB1cGRhdGVHYXNMZXZlbCgpIHtcclxuICAgICAgICAvLyAgICAgdGhpcy5nYXNMZXZlbCQ9aW50ZXJ2YWwoMjAwMCk7XHJcblxyXG4gICAgICAgIC8vICAgICB0aGlzLmdhc0xldmVsJCA9IHRoaXMuZ2FzTGV2ZWwkLnBpcGUoXHJcbiAgICAgICAgLy8gICAgICAgICB0YWtlVW50aWwodGhpcy5kZXN0aW5hdGlvblJlYWNoZWRTdWJqZWN0KSxcclxuICAgICAgICAvLyAgICAgICAgIHN0YXJ0V2l0aCh0aGlzLkdhc0xldmVsKSxcclxuICAgICAgICAvLyAgICAgICAgIHNjYW4oKGdhc0xldmVsKSA9PiBnYXNMZXZlbC0xLCB0aGlzLkdhc0xldmVsKSxcclxuICAgICAgICAvLyAgICAgICAgIHRha2VXaGlsZSgoZ2FzTGV2ZWwpID0+IGdhc0xldmVsID49IDApLFxyXG4gICAgICAgIC8vICAgICAgICAgLy8gc2tpcFdoaWxlKGdhc0xldmVsID0+IGdhc0xldmVsID4gMCksXHJcbiAgICAgICAgLy8gICAgICAgICB0YXAoZ2FzTGV2ZWwgPT4ge1xyXG4gICAgICAgIC8vICAgICAgICAgICAgIHRoaXMuR2FzTGV2ZWwgPSBnYXNMZXZlbDtcclxuICAgICAgICAvLyAgICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmlkICsgXCIgZ2FzIGxldmVsOiBcIiArIGdhc0xldmVsKTtcclxuICAgICAgICAvLyAgICAgICAgIH0pXHJcbiAgICAgICAgLy8gICAgICk7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAvLyAgICAgLy8gLnN1YnNjcmliZShnYXNMZXZlbCA9PiBcclxuICAgICAgICAvLyAgICAgLy8gICAgIGNvbnNvbGUubG9nKHRoaXMuaWQgKyBcIiBnYXMgbGV2ZWw6IFwiICsgZ2FzTGV2ZWwpKVxyXG4gICAgICAgIC8vIH1cclxuICAgICAgICBcclxuICAgICAgICAvLyB1cGRhdGVTcGVlZCgpIHtcclxuICAgICAgICAvLyAgICAgdGhpcy5zcGVlZCQ9aW50ZXJ2YWwoNDAwMCk7XHJcblxyXG4gICAgICAgIC8vICAgICB0aGlzLnNwZWVkJCA9IHRoaXMuc3BlZWQkLnBpcGUoXHJcbiAgICAgICAgLy8gICAgICAgICB0YWtlVW50aWwodGhpcy5kZXN0aW5hdGlvblJlYWNoZWRTdWJqZWN0KSxcclxuICAgICAgICAvLyAgICAgICAgIHNraXBVbnRpbCh0aGlzLmdhc0xldmVsJCksXHJcbiAgICAgICAgLy8gICAgICAgICBtYXAoKGN1cnJlbnRTcGVlZCkgPT4ge1xyXG4gICAgICAgIC8vICAgICAgICAgICAgIGN1cnJlbnRTcGVlZCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSoxMDApO1xyXG4gICAgICAgIC8vICAgICAgICAgICAgIHJldHVybiBjdXJyZW50U3BlZWQ7XHJcbiAgICAgICAgLy8gICAgICAgICB9KSxcclxuICAgICAgICAvLyAgICAgICAgIHRhcCggY3VycmVudFNwZWVkID0+IHtcclxuICAgICAgICAvLyAgICAgICAgICAgICB0aGlzLkN1cnJlbnRTcGVlZCA9IGN1cnJlbnRTcGVlZDtcclxuICAgICAgICAvLyAgICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmlkICsgXCIgc3BlZWQ6IFwiICsgY3VycmVudFNwZWVkKTtcclxuICAgICAgICAvLyAgICAgICAgIH0pLFxyXG4gICAgICAgIC8vICAgICAgICAgZW5kV2l0aCgwKVxyXG4gICAgICAgIC8vICAgICApO1xyXG4gICAgICAgIC8vIH1cclxuICAgICAgICBcclxuICAgICAgICAvLyB1cGRhdGVMb2NhdGlvbigpIHtcclxuICAgICAgICAvLyAgICAgY29uc3Qgc3RlcFNpemU9MTAwMDtcclxuXHJcbiAgICAgICAgLy8gICAgIHRoaXMubG9jYXRpb24kID0gY29tYmluZUxhdGVzdChbdGhpcy5zcGVlZCQsIHRoaXMuZ2FzTGV2ZWwkLCBpbnRlcnZhbCgxMDAwKV0pLnBpcGUoXHJcbiAgICAgICAgLy8gICAgICAgICB0YWtlVW50aWwodGhpcy5kZXN0aW5hdGlvblJlYWNoZWRTdWJqZWN0KSxcclxuICAgICAgICAvLyAgICAgICAgIGZpbHRlcigoW2N1cnJlbnRTcGVlZCwgZ2FzTGV2ZWxdKSA9PiBnYXNMZXZlbCA+IDApLFxyXG4gICAgICAgIC8vICAgICAgICAgLy90YWtlV2hpbGUoKFtjdXJyZW50U3BlZWQsIGdhc0xldmVsXSkgPT4gZ2FzTGV2ZWwgPiAwKSxcclxuICAgICAgICAvLyAgICAgICAgIG1hcCgoW2N1cnJlbnRTcGVlZCwgZ2FzTGV2ZWxdKSA9PiB7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgLy9jb25zb2xlLmxvZyh0aGlzLmlkICsgXCIgSU5ORVIgZ2FzIGxldmVsOiBcIiArIGdhc0xldmVsKTtcclxuXHJcbiAgICAgICAgLy8gICAgICAgICAgICAgY29uc3QgbWV0ZXJzUGVyU2Vjb25kID0gKGN1cnJlbnRTcGVlZCAqIDEwMDAgKSAvIDM2MDA7IC8vIENvbnZlcnQgc3BlZWQgdG8gbWV0ZXJzIHBlciBzZWNvbmRcclxuICAgICAgICAvLyAgICAgICAgICAgICBjb25zdCBsYXRJbmNyZW1lbnQgPSAobWV0ZXJzUGVyU2Vjb25kKihnYXNMZXZlbCoqMikgLyAoZ29vZ2xlLm1hcHMuZ2VvbWV0cnkuc3BoZXJpY2FsLmNvbXB1dGVEaXN0YW5jZUJldHdlZW4odGhpcy5DdXJyZW50TG9jYXRpb24sIHRoaXMuRmluYWxEZXN0aW5hdGlvbikgfHwgMSkpIFxyXG4gICAgICAgIC8vICAgICAgICAgICAgICogKHRoaXMuRmluYWxEZXN0aW5hdGlvbi5sYXQoKSAtIHRoaXMuQ3VycmVudExvY2F0aW9uLmxhdCgpKTtcclxuICAgICAgICAvLyAgICAgICAgICAgICBjb25zdCBsbmdJbmNyZW1lbnQgPSAobWV0ZXJzUGVyU2Vjb25kKihnYXNMZXZlbCoqMikgLyAoZ29vZ2xlLm1hcHMuZ2VvbWV0cnkuc3BoZXJpY2FsLmNvbXB1dGVEaXN0YW5jZUJldHdlZW4odGhpcy5DdXJyZW50TG9jYXRpb24sIHRoaXMuRmluYWxEZXN0aW5hdGlvbikgfHwgMSkpIFxyXG4gICAgICAgIC8vICAgICAgICAgICAgICogKHRoaXMuRmluYWxEZXN0aW5hdGlvbi5sbmcoKSAtIHRoaXMuQ3VycmVudExvY2F0aW9uLmxuZygpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgLy8gICAgICAgICAgICAgbGV0IGN1cnJlbnRMb2NhdGlvbj10aGlzLkN1cnJlbnRMb2NhdGlvbjtcclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAvLyAgICAgICAgICAgICBjb25zdCBuZXdMb2NhdGlvbiA9IG5ldyBnb29nbGUubWFwcy5MYXRMbmcoY3VycmVudExvY2F0aW9uLmxhdCgpK2xhdEluY3JlbWVudCwgY3VycmVudExvY2F0aW9uLmxuZygpK2xuZ0luY3JlbWVudCk7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgY3VycmVudExvY2F0aW9uID0gbmV3TG9jYXRpb247XHJcblxyXG4gICAgICAgIC8vICAgICAgICAgICAgIHJldHVybiBjdXJyZW50TG9jYXRpb247XHJcbiAgICAgICAgLy8gICAgICAgICB9KVxyXG4gICAgICAgIC8vICAgICAvLyApO1xyXG4gICAgICAgIC8vICAgICAvLyB0aGlzLmxvY2F0aW9uJC5zdWJzY3JpYmUoKGxvY2F0aW9uOiBnb29nbGUubWFwcy5MYXRMbmcpID0+IHtcclxuICAgICAgICAvLyAgICAgLy8gICAgIHRoaXMuQ3VycmVudExvY2F0aW9uPWxvY2F0aW9uO1xyXG4gICAgICAgIC8vICAgICAvLyAgICAgY29uc29sZS5sb2codGhpcy5pZCArIFwiIGxvY2F0aW9uOiBcIiAgKyB0aGlzLkN1cnJlbnRMb2NhdGlvbik7XHJcbiAgICAgICAgLy8gICAgIC8vICAgICBpZihNYXRoLmFicyhsb2NhdGlvbi5sYXQoKS10aGlzLkZpbmFsRGVzdGluYXRpb24ubGF0KCkpPDAuMDEgJiZcclxuICAgICAgICAvLyAgICAgLy8gICAgIChNYXRoLmFicyhsb2NhdGlvbi5sbmcoKS10aGlzLkZpbmFsRGVzdGluYXRpb24ubG5nKCkpPDAuMDEpKVxyXG4gICAgICAgIC8vICAgICAvLyAgICAge1xyXG4gICAgICAgIC8vICAgICAvLyAgICAgICAgIGNvbnNvbGUubG9nKFwiZmluYWw6IFwiICsgbG9jYXRpb24pO1xyXG4gICAgICAgIC8vICAgICAvLyAgICAgICAgIHRoaXMuZGVzdGluYXRpb25SZWFjaGVkU3ViamVjdC5uZXh0KCk7XHJcbiAgICAgICAgLy8gICAgIC8vICAgICAgICAgY29uc29sZS5sb2codGhpcy5pZCArIFwiIGRlc3RpbmF0aW9uIHJlYWNoZWQuXCIpO1xyXG4gICAgICAgIC8vICAgICAvLyAgICAgICAgIHRoaXMuU3RhdHVzPSdpZGxlJztcclxuICAgICAgICAvLyAgICAgLy8gICAgICAgICB0aGlzLkN1cnJlbnRMb2NhdGlvbj1uZXcgZ29vZ2xlLm1hcHMuTGF0TG5nKGdhcmFnZUxvY2F0aW9uKTtcclxuICAgICAgICAvLyAgICAgLy8gICAgICAgICB0aGlzLkZpbmFsRGVzdGluYXRpb249IG5ldyBnb29nbGUubWFwcy5MYXRMbmcoZ2FyYWdlTG9jYXRpb24pO1xyXG4gICAgICAgIC8vICAgICAvLyAgICAgICAgIHRoaXMuQ3VycmVudFNwZWVkPTA7XHJcbiAgICAgICAgLy8gICAgIC8vICAgICAgICAgdXBkYXRlVHJ1Y2tSZXF1ZXN0KHRoaXMpO1xyXG4gICAgICAgIC8vICAgICAvLyAgICAgfVxyXG4gICAgICAgIC8vICAgICAvLyB9XHJcbiAgICAgICAgLy8gICAgIClcclxuICAgICAgICAvLyB9XHJcbn0iLCJpbXBvcnQgeyBPYnNlcnZhYmxlLCBTdWJqZWN0LCBjb21iaW5lTGF0ZXN0LCBjb25jYXQsIGNvbmNhdE1hcCwgZW5kV2l0aCwgZmlsdGVyLCBmaW5hbGl6ZSwgZm9ya0pvaW4sIGZyb20sIGlpZiwgaW50ZXJ2YWwsIG1hcCwgbWVyZ2UsIG1lcmdlTWFwLCBvZiwgc2Nhbiwgc2tpcFVudGlsLCBza2lwV2hpbGUsIHN0YXJ0V2l0aCwgc3dpdGNoTWFwLCB0YWtlLCB0YWtlVW50aWwsIHRha2VXaGlsZSwgdGFwLCB6aXAgfSBmcm9tIFwicnhqc1wiO1xyXG5pbXBvcnQgeyBPcmRlciB9IGZyb20gXCIuL29yZGVyXCI7XHJcbmltcG9ydCB7IERyaXZlciB9IGZyb20gXCIuL3BlcnNvblwiO1xyXG5pbXBvcnQgeyBUcnVjayB9IGZyb20gXCIuL3ZlaGljbGVcIjtcclxuaW1wb3J0IHsgZ2V0RHJpdmVyLCBnZXRUcnVjaywgdXBkYXRlRHJpdmVyUmVxdWVzdCwgdXBkYXRlT3JkZXJSZXF1ZXN0LCB1cGRhdGVUcnVja1JlcXVlc3QgfSBmcm9tIFwiLi9zZXJ2aWNlc1wiO1xyXG5pbXBvcnQgeyBnYXJhZ2VMb2NhdGlvbiB9IGZyb20gXCIuLi9jb25maWdcIjtcclxuXHJcbmxldCBjdXJyZW50TG9jYXRpb25NYXJrZXI6IGdvb2dsZS5tYXBzLk1hcmtlcjtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBvcmRlclRyYW5zaXRTaW11bGF0aW9uKG9yZGVyRm9yVHJhY2tpbmc6IE9yZGVyLCB3b3JraW5nTWFwOiBnb29nbGUubWFwcy5NYXApIHtcclxuXHJcbiAgICBpZihvcmRlckZvclRyYWNraW5nLkFzc2lnbmVkVHJ1Y2tJRCAmJiBvcmRlckZvclRyYWNraW5nLkFzc2lnbmVkRHJpdmVySUQpIHtcclxuICAgICAgICBcclxuXHJcbiAgICAgICAgY29uc3QgdHJ1Y2skPWdldFRydWNrKG9yZGVyRm9yVHJhY2tpbmcuQXNzaWduZWRUcnVja0lEKTtcclxuICAgICAgICBjb25zdCBkcml2ZXIkPWdldERyaXZlcihvcmRlckZvclRyYWNraW5nLkFzc2lnbmVkRHJpdmVySUQpO1xyXG5cclxuICAgICAgICBpZighdHJ1Y2skKVxyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gbG9hZCB0cnVjay5cIilcclxuICAgICAgICBpZighZHJpdmVyJClcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRmFpbGVkIHRvIGxvYWQgZHJpdmVyLlwiKTtcclxuICAgICAgICBcclxuICAgICAgICBsZXQgdHJ1Y2s6IFRydWNrO1xyXG4gICAgICAgIGxldCBkcml2ZXI6IERyaXZlcjtcclxuXHJcbiAgICAgICAgZm9ya0pvaW4oW3RydWNrJCwgZHJpdmVyJF0pLnBpcGUoXHJcbiAgICAgICAgICAgIHN3aXRjaE1hcCgoW3RydWNrRGF0YSwgZHJpdmVyRGF0YV0pID0+IHtcclxuICAgICAgICAgICAgICAgIHRydWNrPW5ldyBUcnVjayh0cnVja0RhdGEpO1xyXG4gICAgICAgICAgICAgICAgZHJpdmVyPW5ldyBEcml2ZXIoZHJpdmVyRGF0YSk7XHJcbiAgICAgICAgICAgICAgICBjdXJyZW50TG9jYXRpb25NYXJrZXIgPSBuZXcgZ29vZ2xlLm1hcHMuTWFya2VyKHtcclxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogdHJ1Y2suQ3VycmVudExvY2F0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgIG1hcDogd29ya2luZ01hcCxcclxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ1RSVUNLICcgKyB0cnVjay5pZCArICdcXG4nICsgJ1NwZWVkOiAnICsgdHJ1Y2suQ3VycmVudFNwZWVkLnRvU3RyaW5nKCkgKyAnXFxuJyArICdHYXMgbGV2ZWw6ICcgKyB0cnVjay5HYXNMZXZlbFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZnJvbSh0cmFja1RydWNrTG9jYXRpb24odHJ1Y2spKS5waXBlKFxyXG4gICAgICAgICAgICAgICAgICAgIG1hcCgobG9jYXRpb24pID0+ICh7IHRydWNrLCBkcml2ZXIsIGxvY2F0aW9uIH0pKSxcclxuICAgICAgICAgICAgICAgICAgICBmaW5hbGl6ZSgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwidHJhY2tUcnVja0xvY2F0aW9uIGNvbXBsZXRlZC5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRydWNrLmRlc3RpbmF0aW9uUmVhY2hlZFVwZGF0ZSgpOyAvLyBDYWxsIGRlc3RpbmF0aW9uUmVhY2hlZFVwZGF0ZSBmb3IgdHJ1Y2tcclxuICAgICAgICAgICAgICAgICAgICAgICAgZHJpdmVyLmRlc3RpbmF0aW9uUmVhY2hlZFVwZGF0ZSgpOyAvLyBDYWxsIGRlc3RpbmF0aW9uUmVhY2hlZFVwZGF0ZSBmb3IgZHJpdmVyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9yZGVyRm9yVHJhY2tpbmcuZGVzdGluYXRpb25SZWFjaGVkVXBkYXRlKCk7IC8vIENhbGwgZGVzdGluYXRpb25SZWFjaGVkVXBkYXRlIGZvciBvcmRlckZvclRyYWNraW5nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZVRydWNrUmVxdWVzdCh0cnVjayk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZURyaXZlclJlcXVlc3QoZHJpdmVyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlT3JkZXJSZXF1ZXN0KG9yZGVyRm9yVHJhY2tpbmcpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgKS5zdWJzY3JpYmUoKHt0cnVjaywgZHJpdmVyLCBsb2NhdGlvbn0pID0+IHtcclxuICAgICAgICAgICAgLy9jdXJyZW50TG9jYXRpb25NYXJrZXIuc2V0UG9zaXRpb24odHJ1Y2suQ3VycmVudExvY2F0aW9uKTtcclxuICAgICAgICAgICAgdHJ1Y2suQ3VycmVudExvY2F0aW9uPWxvY2F0aW9uO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnR2FzIGxldmVsOiAnLCB0cnVjay5HYXNMZXZlbCk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdTcGVlZDogJywgdHJ1Y2suQ3VycmVudFNwZWVkKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJMb2NhdGlvbjogXCIgICsgdHJ1Y2suQ3VycmVudExvY2F0aW9uKTtcclxuICAgICAgICAgICAgY3VycmVudExvY2F0aW9uTWFya2VyLnNldFBvc2l0aW9uKGxvY2F0aW9uKTtcclxuICAgICAgICAgICAgY3VycmVudExvY2F0aW9uTWFya2VyLnNldFRpdGxlKCdUUlVDSyAnICsgdHJ1Y2suaWQgKyAnXFxuJyArICdTcGVlZDogJyArIHRydWNrLkN1cnJlbnRTcGVlZC50b1N0cmluZygpICsgJ1xcbicgKyAnR2FzIGxldmVsOiAnICsgdHJ1Y2suR2FzTGV2ZWxcclxuICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAvLyB1cGRhdGVUcnVja1JlcXVlc3QodHJ1Y2spO1xyXG4gICAgICAgICAgICAvLyB1cGRhdGVEcml2ZXJSZXF1ZXN0KGRyaXZlcik7XHJcbiAgICAgICAgICAgIC8vIHVwZGF0ZU9yZGVyUmVxdWVzdChvcmRlckZvclRyYWNraW5nKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gdHJhY2tUcnVja0xvY2F0aW9uKG1vdmluZ1RydWNrOiBUcnVjaykge1xyXG4gICAgXHJcbiAgICBsZXQgZ2FzTGV2ZWwkID0gbmV3IE9ic2VydmFibGU8bnVtYmVyPigpO1xyXG4gICAgbGV0IGxvY2F0aW9uJCA9IG5ldyBPYnNlcnZhYmxlKCk7XHJcbiAgICBsZXQgc3BlZWQkID0gbmV3IE9ic2VydmFibGU8bnVtYmVyPigpO1xyXG4gICAgbGV0IGRlc3RpbmF0aW9uUmVhY2hlZFN1YmplY3QgPSBuZXcgU3ViamVjdDx2b2lkPigpO1xyXG4gICAgXHJcbiAgICBcclxuICAgIGdhc0xldmVsJCA9IChmdW5jdGlvbiB1cGRhdGVHYXNMZXZlbCgpIHtcclxuXHJcbiAgICAgICAgcmV0dXJuIGludGVydmFsKDIwMDApLnBpcGUoXHJcbiAgICAgICAgICAgIHRha2VVbnRpbChkZXN0aW5hdGlvblJlYWNoZWRTdWJqZWN0KSxcclxuICAgICAgICAgICAgc3RhcnRXaXRoKG1vdmluZ1RydWNrLkdhc0xldmVsKSxcclxuICAgICAgICAgICAgc2NhbigobmV3R2FzTGV2ZWw6IG51bWJlcikgPT4gbmV3R2FzTGV2ZWwtMSwgbW92aW5nVHJ1Y2suR2FzTGV2ZWwpLFxyXG4gICAgICAgICAgICAvLyB0YWtlV2hpbGUoKGN1cnJlbnRHYXNMZXZlbDogbnVtYmVyKSA9PiBjdXJyZW50R2FzTGV2ZWwgPiAwKSxcclxuICAgICAgICAgICAgLy9maWx0ZXIoZ2FzTGV2ZWwgPT4gZ2FzTGV2ZWwgPiAwKSxcclxuICAgICAgICAgICAgdGFwKChjdXJyZW50R2FzTGV2ZWw6IG51bWJlcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgbW92aW5nVHJ1Y2suR2FzTGV2ZWwgPSBjdXJyZW50R2FzTGV2ZWw7XHJcbiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwiR2FzIGxldmVsOiBcIiArIGN1cnJlbnRHYXNMZXZlbCk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgIH0pKCk7XHJcbiAgICAgICAgXHJcbiAgICBzcGVlZCQgPSAoZnVuY3Rpb24gdXBkYXRlU3BlZWQoKSB7XHJcblxyXG4gICAgICAgIFxyXG4gICAgICAgIHJldHVybiBpbnRlcnZhbCgyMDAwKS5waXBlKFxyXG4gICAgICAgICAgICB0YWtlVW50aWwoZGVzdGluYXRpb25SZWFjaGVkU3ViamVjdCksXHJcbiAgICAgICAgICAgIHNraXBVbnRpbChnYXNMZXZlbCQpLFxyXG4gICAgICAgICAgICBtYXAoKG5ld1NwZWVkKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBuZXdTcGVlZCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSoxMDApO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ld1NwZWVkO1xyXG4gICAgICAgICAgICB9KSxcclxuICAgICAgICAgICAgdGFwKG5ld1NwZWVkID0+IHtcclxuICAgICAgICAgICAgICAgIG1vdmluZ1RydWNrLkN1cnJlbnRTcGVlZCA9IG5ld1NwZWVkO1xyXG4gICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhtb3ZpbmdUcnVjay5pZCArIFwiIHNwZWVkOiBcIiArIG5ld1NwZWVkKTtcclxuICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICAgIGVuZFdpdGgoMClcclxuICAgICAgICApO1xyXG4gICAgfSkoKTtcclxuICAgIFxyXG4gICAgcmV0dXJuIGxvY2F0aW9uJCA9IChmdW5jdGlvbiB1cGRhdGVMb2NhdGlvbigpIHtcclxuICAgICAgICBjb25zdCBzdGVwU2l6ZT0xMDAwO1xyXG5cclxuICAgICAgICByZXR1cm4gemlwKFtzcGVlZCQsIGdhc0xldmVsJF0pLnBpcGUoXHJcbiAgICAgICAgICAgIHRha2VVbnRpbChkZXN0aW5hdGlvblJlYWNoZWRTdWJqZWN0KSxcclxuICAgICAgICAgICAgZmlsdGVyKChbY3VycmVudFNwZWVkLCBnYXNMZXZlbF0pID0+IGdhc0xldmVsID4gMCksXHJcbiAgICAgICAgICAgIHNraXBVbnRpbChnYXNMZXZlbCQpLFxyXG4gICAgICAgICAgICBza2lwVW50aWwoc3BlZWQkKSxcclxuICAgICAgICAgICAgbWFwKChbY3VycmVudFNwZWVkLCBnYXNMZXZlbF0pID0+IHtcclxuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2codGhpcy5pZCArIFwiIElOTkVSIGdhcyBsZXZlbDogXCIgKyBnYXNMZXZlbCk7XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc3Qgc3BlZWRJbk1ldGVyc1BlclNlY29uZCA9IChjdXJyZW50U3BlZWQgKiAxMDAwICkgLyAzNjAwOyAvLyBDb252ZXJ0IGttL2ggdG8gbS9zXHJcbiAgICAgICAgICAgICAgICBjb25zdCBsYXRJbmNyZW1lbnQgPSAoc3BlZWRJbk1ldGVyc1BlclNlY29uZCooZ2FzTGV2ZWwqKjIpIC8gKGdvb2dsZS5tYXBzLmdlb21ldHJ5LnNwaGVyaWNhbC5jb21wdXRlRGlzdGFuY2VCZXR3ZWVuKG1vdmluZ1RydWNrLkN1cnJlbnRMb2NhdGlvbiwgbW92aW5nVHJ1Y2suRmluYWxEZXN0aW5hdGlvbikgfHwgMSkpIFxyXG4gICAgICAgICAgICAgICAgKiAobW92aW5nVHJ1Y2suRmluYWxEZXN0aW5hdGlvbi5sYXQoKSAtIG1vdmluZ1RydWNrLkN1cnJlbnRMb2NhdGlvbi5sYXQoKSk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBsbmdJbmNyZW1lbnQgPSAoc3BlZWRJbk1ldGVyc1BlclNlY29uZCooZ2FzTGV2ZWwqKjIpIC8gKGdvb2dsZS5tYXBzLmdlb21ldHJ5LnNwaGVyaWNhbC5jb21wdXRlRGlzdGFuY2VCZXR3ZWVuKG1vdmluZ1RydWNrLkN1cnJlbnRMb2NhdGlvbiwgbW92aW5nVHJ1Y2suRmluYWxEZXN0aW5hdGlvbikgfHwgMSkpIFxyXG4gICAgICAgICAgICAgICAgKiAobW92aW5nVHJ1Y2suRmluYWxEZXN0aW5hdGlvbi5sbmcoKSAtIG1vdmluZ1RydWNrLkN1cnJlbnRMb2NhdGlvbi5sbmcoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBsZXQgY3VycmVudExvY2F0aW9uPW1vdmluZ1RydWNrLkN1cnJlbnRMb2NhdGlvbjtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgY29uc3QgbmV3TG9jYXRpb24gPSBuZXcgZ29vZ2xlLm1hcHMuTGF0TG5nKGN1cnJlbnRMb2NhdGlvbi5sYXQoKSArIGxhdEluY3JlbWVudCwgY3VycmVudExvY2F0aW9uLmxuZygpICsgbG5nSW5jcmVtZW50KTtcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRMb2NhdGlvbiA9IG5ld0xvY2F0aW9uO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmKE1hdGguYWJzKGN1cnJlbnRMb2NhdGlvbi5sYXQoKSAtIG1vdmluZ1RydWNrLkZpbmFsRGVzdGluYXRpb24ubGF0KCkpIDwgMC4wMSAmJlxyXG4gICAgICAgICAgICAgICAgICAgIChNYXRoLmFicyhjdXJyZW50TG9jYXRpb24ubG5nKCktbW92aW5nVHJ1Y2suRmluYWxEZXN0aW5hdGlvbi5sbmcoKSkgPCAwLjAxKSlcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBkZXN0aW5hdGlvblJlYWNoZWRTdWJqZWN0Lm5leHQoKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImZpbmFsOiBcIiArIGN1cnJlbnRMb2NhdGlvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cobW92aW5nVHJ1Y2suaWQgKyBcIiBkZXN0aW5hdGlvbiByZWFjaGVkLlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyB0cnVjay5kZXN0aW5hdGlvblJlYWNoZWRVcGRhdGUoKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyBkcml2ZXIuZGVzdGluYXRpb25SZWFjaGVkVXBkYXRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gb3JkZXJGb3JUcmFja2luZy5kZXN0aW5hdGlvblJlYWNoZWRVcGRhdGUoKTtcclxuICAgICAgICAgICAgICAgICAgICAvL21vdmluZ1RydWNrLkN1cnJlbnRTcGVlZD0wO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiBjdXJyZW50TG9jYXRpb247XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICk7XHJcbiAgICB9KSgpO1xyXG59XHJcblxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNoaXBPcmRlcihwZW5kaW5nT3JkZXI6IE9yZGVyLCBhbGxUcnVja3M6IFRydWNrW10sIGFsbERyaXZlcnM6IERyaXZlcltdKSB7XHJcblxyXG4gICAgY29uc29sZS5sb2coXCJPUkRFUjogXCIsIHBlbmRpbmdPcmRlcik7XHJcblxyXG4gICAgbGV0IGFzc2lnbmVkVHJ1Y2s6IFRydWNrID0gYWxsVHJ1Y2tzLmZpbmQodHJ1Y2sgPT4gdHJ1Y2suU3RhdHVzPT09J2lkbGUnICYmIHRydWNrLkNhcGFjaXR5Pj1wZW5kaW5nT3JkZXIuVG90YWxMb2FkKVxyXG4gICAgbGV0IGFzc2lnbmVkRHJpdmVyOiBEcml2ZXIgPSBhbGxEcml2ZXJzLmZpbmQoZHJpdmVyID0+IGRyaXZlci5TdGF0dXM9PT0nYXZhaWxhYmxlJylcclxuXHJcblxyXG4gICAgYXNzaWduZWRUcnVjay5TdGF0dXM9J2luVHJhbnNpdCc7XHJcbiAgICBhc3NpZ25lZFRydWNrLkxvYWQ9cGVuZGluZ09yZGVyLlRvdGFsTG9hZDtcclxuICAgIGFzc2lnbmVkVHJ1Y2suRmluYWxEZXN0aW5hdGlvbj1uZXcgZ29vZ2xlLm1hcHMuTGF0TG5nKHBlbmRpbmdPcmRlci5EZXN0aW5hdGlvbik7XHJcblxyXG4gICAgYXNzaWduZWREcml2ZXIuU3RhdHVzPSdvblJvYWQnO1xyXG4gICAgYXNzaWduZWREcml2ZXIuQXNzaWduZWRWZWhpY2xlSUQ9YXNzaWduZWRUcnVjay5pZDtcclxuXHJcbiAgICBwZW5kaW5nT3JkZXIuU3RhdHVzPSdzaGlwcGVkJztcclxuICAgIHBlbmRpbmdPcmRlci5Bc3NpZ25lZFRydWNrSUQ9YXNzaWduZWRUcnVjay5pZDtcclxuICAgIHBlbmRpbmdPcmRlci5Bc3NpZ25lZERyaXZlcklEPWFzc2lnbmVkRHJpdmVyLmlkO1xyXG5cclxuICAgIGNvbnNvbGUubG9nKFwiT1JERVIgSVM6IFwiLCBwZW5kaW5nT3JkZXIpO1xyXG4gICAgY29uc29sZS5sb2coXCJUUlVDSyBJUzogXCIsIGFzc2lnbmVkVHJ1Y2spO1xyXG4gICAgY29uc29sZS5sb2coXCJEUklWRVIgSVM6IFwiLCBhc3NpZ25lZERyaXZlcik7XHJcblxyXG4gICAgdXBkYXRlVHJ1Y2tSZXF1ZXN0KGFzc2lnbmVkVHJ1Y2spO1xyXG4gICAgdXBkYXRlRHJpdmVyUmVxdWVzdChhc3NpZ25lZERyaXZlcik7XHJcbiAgICB1cGRhdGVPcmRlclJlcXVlc3QocGVuZGluZ09yZGVyKTtcclxufVxyXG5cclxuLy8gZXhwb3J0IGZ1bmN0aW9uIHRyYWNrT3JkZXIodHJ1Y2s6IFRydWNrKSB7XHJcblxyXG4vLyAgICAgY29uc3QgbXlNYXAgPSBuZXcgZ29vZ2xlLm1hcHMuTWFwKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWFwXCIpLCBcclxuLy8gICAgICAgICB7XHJcbi8vICAgICAgICAgICAgIGNlbnRlcjogZ2FyYWdlTG9jYXRpb24sXHJcbi8vICAgICAgICAgICAgIHpvb206IDdcclxuLy8gICAgICAgICB9KTtcclxuICAgIFxyXG4vLyAgICAgY3VycmVudExvY2F0aW9uTWFya2VyID0gbmV3IGdvb2dsZS5tYXBzLk1hcmtlcih7XHJcbi8vICAgICAgICAgcG9zaXRpb246IHRydWNrLkN1cnJlbnRMb2NhdGlvbixcclxuLy8gICAgICAgICBtYXA6IG15TWFwXHJcbi8vICAgICB9KTtcclxuXHJcbi8vICAgICBsZXQgRmluYWxEZXN0aW5hdGlvbk1hcmtlciA9IG5ldyBnb29nbGUubWFwcy5NYXJrZXIoe1xyXG4vLyAgICAgICAgIHBvc2l0aW9uOiB0cnVjay5GaW5hbERlc3RpbmF0aW9uLFxyXG4vLyAgICAgICAgIG1hcDogbXlNYXBcclxuLy8gICAgIH0pO1xyXG4vLyB9IiwiaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgYXJnc0FyZ0FycmF5T3JPYmplY3QgfSBmcm9tICcuLi91dGlsL2FyZ3NBcmdBcnJheU9yT2JqZWN0JztcbmltcG9ydCB7IGlubmVyRnJvbSB9IGZyb20gJy4vaW5uZXJGcm9tJztcbmltcG9ydCB7IHBvcFJlc3VsdFNlbGVjdG9yIH0gZnJvbSAnLi4vdXRpbC9hcmdzJztcbmltcG9ydCB7IGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlciB9IGZyb20gJy4uL29wZXJhdG9ycy9PcGVyYXRvclN1YnNjcmliZXInO1xuaW1wb3J0IHsgbWFwT25lT3JNYW55QXJncyB9IGZyb20gJy4uL3V0aWwvbWFwT25lT3JNYW55QXJncyc7XG5pbXBvcnQgeyBjcmVhdGVPYmplY3QgfSBmcm9tICcuLi91dGlsL2NyZWF0ZU9iamVjdCc7XG5leHBvcnQgZnVuY3Rpb24gZm9ya0pvaW4oKSB7XG4gICAgdmFyIGFyZ3MgPSBbXTtcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfVxuICAgIHZhciByZXN1bHRTZWxlY3RvciA9IHBvcFJlc3VsdFNlbGVjdG9yKGFyZ3MpO1xuICAgIHZhciBfYSA9IGFyZ3NBcmdBcnJheU9yT2JqZWN0KGFyZ3MpLCBzb3VyY2VzID0gX2EuYXJncywga2V5cyA9IF9hLmtleXM7XG4gICAgdmFyIHJlc3VsdCA9IG5ldyBPYnNlcnZhYmxlKGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBsZW5ndGggPSBzb3VyY2VzLmxlbmd0aDtcbiAgICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdmFsdWVzID0gbmV3IEFycmF5KGxlbmd0aCk7XG4gICAgICAgIHZhciByZW1haW5pbmdDb21wbGV0aW9ucyA9IGxlbmd0aDtcbiAgICAgICAgdmFyIHJlbWFpbmluZ0VtaXNzaW9ucyA9IGxlbmd0aDtcbiAgICAgICAgdmFyIF9sb29wXzEgPSBmdW5jdGlvbiAoc291cmNlSW5kZXgpIHtcbiAgICAgICAgICAgIHZhciBoYXNWYWx1ZSA9IGZhbHNlO1xuICAgICAgICAgICAgaW5uZXJGcm9tKHNvdXJjZXNbc291cmNlSW5kZXhdKS5zdWJzY3JpYmUoY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGlmICghaGFzVmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaGFzVmFsdWUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICByZW1haW5pbmdFbWlzc2lvbnMtLTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFsdWVzW3NvdXJjZUluZGV4XSA9IHZhbHVlO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24gKCkgeyByZXR1cm4gcmVtYWluaW5nQ29tcGxldGlvbnMtLTsgfSwgdW5kZWZpbmVkLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFyZW1haW5pbmdDb21wbGV0aW9ucyB8fCAhaGFzVmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFyZW1haW5pbmdFbWlzc2lvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dChrZXlzID8gY3JlYXRlT2JqZWN0KGtleXMsIHZhbHVlcykgOiB2YWx1ZXMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH07XG4gICAgICAgIGZvciAodmFyIHNvdXJjZUluZGV4ID0gMDsgc291cmNlSW5kZXggPCBsZW5ndGg7IHNvdXJjZUluZGV4KyspIHtcbiAgICAgICAgICAgIF9sb29wXzEoc291cmNlSW5kZXgpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdFNlbGVjdG9yID8gcmVzdWx0LnBpcGUobWFwT25lT3JNYW55QXJncyhyZXN1bHRTZWxlY3RvcikpIDogcmVzdWx0O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Zm9ya0pvaW4uanMubWFwIiwiZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZU9iamVjdChrZXlzLCB2YWx1ZXMpIHtcbiAgICByZXR1cm4ga2V5cy5yZWR1Y2UoZnVuY3Rpb24gKHJlc3VsdCwga2V5LCBpKSB7IHJldHVybiAoKHJlc3VsdFtrZXldID0gdmFsdWVzW2ldKSwgcmVzdWx0KTsgfSwge30pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y3JlYXRlT2JqZWN0LmpzLm1hcCIsImltcG9ydCB7IGlubmVyRnJvbSB9IGZyb20gJy4uL29ic2VydmFibGUvaW5uZXJGcm9tJztcbmltcG9ydCB7IG9wZXJhdGUgfSBmcm9tICcuLi91dGlsL2xpZnQnO1xuaW1wb3J0IHsgY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyIH0gZnJvbSAnLi9PcGVyYXRvclN1YnNjcmliZXInO1xuZXhwb3J0IGZ1bmN0aW9uIHN3aXRjaE1hcChwcm9qZWN0LCByZXN1bHRTZWxlY3Rvcikge1xuICAgIHJldHVybiBvcGVyYXRlKGZ1bmN0aW9uIChzb3VyY2UsIHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIGlubmVyU3Vic2NyaWJlciA9IG51bGw7XG4gICAgICAgIHZhciBpbmRleCA9IDA7XG4gICAgICAgIHZhciBpc0NvbXBsZXRlID0gZmFsc2U7XG4gICAgICAgIHZhciBjaGVja0NvbXBsZXRlID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gaXNDb21wbGV0ZSAmJiAhaW5uZXJTdWJzY3JpYmVyICYmIHN1YnNjcmliZXIuY29tcGxldGUoKTsgfTtcbiAgICAgICAgc291cmNlLnN1YnNjcmliZShjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpbm5lclN1YnNjcmliZXIgPT09IG51bGwgfHwgaW5uZXJTdWJzY3JpYmVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpbm5lclN1YnNjcmliZXIudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgIHZhciBpbm5lckluZGV4ID0gMDtcbiAgICAgICAgICAgIHZhciBvdXRlckluZGV4ID0gaW5kZXgrKztcbiAgICAgICAgICAgIGlubmVyRnJvbShwcm9qZWN0KHZhbHVlLCBvdXRlckluZGV4KSkuc3Vic2NyaWJlKChpbm5lclN1YnNjcmliZXIgPSBjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgZnVuY3Rpb24gKGlubmVyVmFsdWUpIHsgcmV0dXJuIHN1YnNjcmliZXIubmV4dChyZXN1bHRTZWxlY3RvciA/IHJlc3VsdFNlbGVjdG9yKHZhbHVlLCBpbm5lclZhbHVlLCBvdXRlckluZGV4LCBpbm5lckluZGV4KyspIDogaW5uZXJWYWx1ZSk7IH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpbm5lclN1YnNjcmliZXIgPSBudWxsO1xuICAgICAgICAgICAgICAgIGNoZWNrQ29tcGxldGUoKTtcbiAgICAgICAgICAgIH0pKSk7XG4gICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlzQ29tcGxldGUgPSB0cnVlO1xuICAgICAgICAgICAgY2hlY2tDb21wbGV0ZSgpO1xuICAgICAgICB9KSk7XG4gICAgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zd2l0Y2hNYXAuanMubWFwIiwiaW1wb3J0IHsgb3BlcmF0ZSB9IGZyb20gJy4uL3V0aWwvbGlmdCc7XG5leHBvcnQgZnVuY3Rpb24gZmluYWxpemUoY2FsbGJhY2spIHtcbiAgICByZXR1cm4gb3BlcmF0ZShmdW5jdGlvbiAoc291cmNlLCBzdWJzY3JpYmVyKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBzb3VyY2Uuc3Vic2NyaWJlKHN1YnNjcmliZXIpO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgc3Vic2NyaWJlci5hZGQoY2FsbGJhY2spO1xuICAgICAgICB9XG4gICAgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1maW5hbGl6ZS5qcy5tYXAiLCJpbXBvcnQgeyBvcGVyYXRlIH0gZnJvbSAnLi4vdXRpbC9saWZ0JztcbmltcG9ydCB7IGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlciB9IGZyb20gJy4vT3BlcmF0b3JTdWJzY3JpYmVyJztcbmV4cG9ydCBmdW5jdGlvbiBmaWx0ZXIocHJlZGljYXRlLCB0aGlzQXJnKSB7XG4gICAgcmV0dXJuIG9wZXJhdGUoZnVuY3Rpb24gKHNvdXJjZSwgc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgaW5kZXggPSAwO1xuICAgICAgICBzb3VyY2Uuc3Vic2NyaWJlKGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBmdW5jdGlvbiAodmFsdWUpIHsgcmV0dXJuIHByZWRpY2F0ZS5jYWxsKHRoaXNBcmcsIHZhbHVlLCBpbmRleCsrKSAmJiBzdWJzY3JpYmVyLm5leHQodmFsdWUpOyB9KSk7XG4gICAgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1maWx0ZXIuanMubWFwIiwiaW1wb3J0IHsgY29uY2F0IH0gZnJvbSAnLi4vb2JzZXJ2YWJsZS9jb25jYXQnO1xuaW1wb3J0IHsgcG9wU2NoZWR1bGVyIH0gZnJvbSAnLi4vdXRpbC9hcmdzJztcbmltcG9ydCB7IG9wZXJhdGUgfSBmcm9tICcuLi91dGlsL2xpZnQnO1xuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0V2l0aCgpIHtcbiAgICB2YXIgdmFsdWVzID0gW107XG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgdmFsdWVzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfVxuICAgIHZhciBzY2hlZHVsZXIgPSBwb3BTY2hlZHVsZXIodmFsdWVzKTtcbiAgICByZXR1cm4gb3BlcmF0ZShmdW5jdGlvbiAoc291cmNlLCBzdWJzY3JpYmVyKSB7XG4gICAgICAgIChzY2hlZHVsZXIgPyBjb25jYXQodmFsdWVzLCBzb3VyY2UsIHNjaGVkdWxlcikgOiBjb25jYXQodmFsdWVzLCBzb3VyY2UpKS5zdWJzY3JpYmUoc3Vic2NyaWJlcik7XG4gICAgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zdGFydFdpdGguanMubWFwIiwiaW1wb3J0IHsgb3BlcmF0ZSB9IGZyb20gJy4uL3V0aWwvbGlmdCc7XG5pbXBvcnQgeyBzY2FuSW50ZXJuYWxzIH0gZnJvbSAnLi9zY2FuSW50ZXJuYWxzJztcbmV4cG9ydCBmdW5jdGlvbiBzY2FuKGFjY3VtdWxhdG9yLCBzZWVkKSB7XG4gICAgcmV0dXJuIG9wZXJhdGUoc2NhbkludGVybmFscyhhY2N1bXVsYXRvciwgc2VlZCwgYXJndW1lbnRzLmxlbmd0aCA+PSAyLCB0cnVlKSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zY2FuLmpzLm1hcCIsImltcG9ydCB7IGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlciB9IGZyb20gJy4vT3BlcmF0b3JTdWJzY3JpYmVyJztcbmV4cG9ydCBmdW5jdGlvbiBzY2FuSW50ZXJuYWxzKGFjY3VtdWxhdG9yLCBzZWVkLCBoYXNTZWVkLCBlbWl0T25OZXh0LCBlbWl0QmVmb3JlQ29tcGxldGUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHNvdXJjZSwgc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgaGFzU3RhdGUgPSBoYXNTZWVkO1xuICAgICAgICB2YXIgc3RhdGUgPSBzZWVkO1xuICAgICAgICB2YXIgaW5kZXggPSAwO1xuICAgICAgICBzb3VyY2Uuc3Vic2NyaWJlKGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHZhciBpID0gaW5kZXgrKztcbiAgICAgICAgICAgIHN0YXRlID0gaGFzU3RhdGVcbiAgICAgICAgICAgICAgICA/XG4gICAgICAgICAgICAgICAgICAgIGFjY3VtdWxhdG9yKHN0YXRlLCB2YWx1ZSwgaSlcbiAgICAgICAgICAgICAgICA6XG4gICAgICAgICAgICAgICAgICAgICgoaGFzU3RhdGUgPSB0cnVlKSwgdmFsdWUpO1xuICAgICAgICAgICAgZW1pdE9uTmV4dCAmJiBzdWJzY3JpYmVyLm5leHQoc3RhdGUpO1xuICAgICAgICB9LCBlbWl0QmVmb3JlQ29tcGxldGUgJiZcbiAgICAgICAgICAgIChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaGFzU3RhdGUgJiYgc3Vic2NyaWJlci5uZXh0KHN0YXRlKTtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICB9KSkpO1xuICAgIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zY2FuSW50ZXJuYWxzLmpzLm1hcCIsImltcG9ydCB7IGdhcmFnZUxvY2F0aW9uIH0gZnJvbSBcIi4uL2NvbmZpZ1wiO1xyXG5pbXBvcnQgeyB0cmFja09yZGVyIH0gZnJvbSBcIi4vbWFwTG9naWNcIjtcclxuaW1wb3J0IHsgT3JkZXIgfSBmcm9tIFwiLi9vcmRlclwiO1xyXG5pbXBvcnQgeyBzaGlwT3JkZXIgfSBmcm9tIFwiLi9vcmRlclRyYWNraW5nXCI7XHJcbmltcG9ydCB7IERyaXZlciB9IGZyb20gXCIuL3BlcnNvblwiO1xyXG5pbXBvcnQgeyBnZXRUcnVjaywgbmV3T3JkZXJSZXF1ZXN0LCB1cGRhdGVEcml2ZXJSZXF1ZXN0LCB1cGRhdGVPcmRlclJlcXVlc3QsIHVwZGF0ZVRydWNrUmVxdWVzdCB9IGZyb20gXCIuL3NlcnZpY2VzXCI7XHJcbmltcG9ydCB7IFRydWNrIH0gZnJvbSBcIi4vdmVoaWNsZVwiO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGluaXRpYWxpemVQYWdlKG1lbnVEaXY6IEhUTUxEaXZFbGVtZW50LCB0cnVja3NEaXY6IEhUTUxEaXZFbGVtZW50LCBkcml2ZXJzRGl2OiBIVE1MRGl2RWxlbWVudCwgb3JkZXJzRGl2OiBIVE1MRGl2RWxlbWVudCxcclxuICAgIGNvbnRlbnREaXY6IEhUTUxEaXZFbGVtZW50LCBtYXBEaXY6IEhUTUxEaXZFbGVtZW50KSB7XHJcbiAgICAvLyBnbGF2bmkgY29udGFpbmVyXHJcbiAgICBjb25zdCBtYWluRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgIG1haW5EaXYuY2xhc3NMaXN0LmFkZChcIm1haW4tZGl2XCIpO1xyXG4gICAgbWFpbkRpdi5pZD1cIm1haW5cIjtcclxuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobWFpbkRpdik7XHJcbiAgICBcclxuICAgIC8vIG1lbmlcclxuICAgIG1lbnVEaXYuY2xhc3NMaXN0LmFkZChcIm1lbnUtZGl2XCIpO1xyXG4gICAgbWFpbkRpdi5hcHBlbmRDaGlsZChtZW51RGl2KTtcclxuICAgIFxyXG4gICAgY29uc3QgbWVudUg9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImgyXCIpO1xyXG4gICAgbWVudUguY2xhc3NMaXN0LmFkZChcIm1lbnUtaFwiKTtcclxuICAgIG1lbnVILnRleHRDb250ZW50PVwiTUVOVVwiO1xyXG4gICAgbWVudUguc3R5bGUubWFyZ2luQm90dG9tPVwiNDBweFwiO1xyXG4gICAgbWVudURpdi5hcHBlbmRDaGlsZChtZW51SCk7XHJcbiAgICBcclxuICAgIC8vIHBvZGFjaSBvIGthbWlvbmltYVxyXG4gICAgdHJ1Y2tzRGl2LmNsYXNzTGlzdC5hZGQoXCJ0cnVja3MtZGl2XCIpO1xyXG4gICAgdHJ1Y2tzRGl2LnRleHRDb250ZW50PVwiVFJVQ0tTXCI7XHJcbiAgICBtZW51RGl2LmFwcGVuZENoaWxkKHRydWNrc0Rpdik7XHJcblxyXG4gICAgLy8gcG9kYWNpIG8gdm96YWNpbWFcclxuICAgIGRyaXZlcnNEaXYuY2xhc3NMaXN0LmFkZChcImRyaXZlcnMtZGl2XCIpO1xyXG4gICAgZHJpdmVyc0Rpdi50ZXh0Q29udGVudD1cIkRSSVZFUlNcIjtcclxuICAgIG1lbnVEaXYuYXBwZW5kQ2hpbGQoZHJpdmVyc0Rpdik7XHJcblxyXG4gICAgLy8gcG9kYWNpIG8gdHVyYW1hXHJcbiAgICBvcmRlcnNEaXYuY2xhc3NMaXN0LmFkZChcIm9yZGVycy1kaXZcIik7XHJcbiAgICBvcmRlcnNEaXYudGV4dENvbnRlbnQ9XCJPUkRFUlNcIjtcclxuICAgIG1lbnVEaXYuYXBwZW5kQ2hpbGQob3JkZXJzRGl2KTtcclxuXHJcbiAgICAvLyBjb250ZW50XHJcbiAgICBjb250ZW50RGl2LmNsYXNzTGlzdC5hZGQoXCJjb250ZW50LWRpdlwiKTtcclxuICAgIG1haW5EaXYuYXBwZW5kQ2hpbGQoY29udGVudERpdik7XHJcblxyXG4gICAgY29uc3Qgd2VsY29tZUxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImgxXCIpO1xyXG4gICAgd2VsY29tZUxhYmVsLnRleHRDb250ZW50PVwiV2VsY29tZSB0byBvcmRlciB0cmFja2luZy4gUGxlYXNlIHNlbGVjdCBlbnRpdHkuXCI7XHJcbiAgICBjb250ZW50RGl2LmFwcGVuZENoaWxkKHdlbGNvbWVMYWJlbCk7XHJcbiAgICBcclxuICAgIG1hcERpdi5jbGFzc0xpc3QuYWRkKFwibWFwLWRpdlwiKTtcclxuICAgIG1hcERpdi5pZD1cIm1hcFwiO1xyXG4gICAgbWFpbkRpdi5hcHBlbmRDaGlsZChtYXBEaXYpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZHJhd1RydWNrKHRydWNrOiBUcnVjaywgaG9zdDogSFRNTEVsZW1lbnQpIHtcclxuICAgICAgICAgICAgXHJcbiAgICBjb25zdCB0cnVja0Rpdj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgdHJ1Y2tEaXYuY2xhc3NMaXN0LmFkZChcInRydWNrLWRpdlwiKTtcclxuICAgIGhvc3QuYXBwZW5kQ2hpbGQodHJ1Y2tEaXYpO1xyXG5cclxuICAgIGNvbnN0IHRydWNrTmFtZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGFiZWxcIik7XHJcbiAgICB0cnVja05hbWUuY2xhc3NMaXN0LmFkZChcImxhYmVsXCIpO1xyXG4gICAgdHJ1Y2tOYW1lLnRleHRDb250ZW50PXRydWNrLmlkO1xyXG4gICAgdHJ1Y2tEaXYuYXBwZW5kQ2hpbGQodHJ1Y2tOYW1lKTtcclxuICAgIFxyXG4gICAgY29uc3QgdHJ1Y2tNb2RlbD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGFiZWxcIik7XHJcbiAgICB0cnVja01vZGVsLmNsYXNzTGlzdC5hZGQoXCJsYWJlbFwiKTtcclxuICAgIHRydWNrTW9kZWwudGV4dENvbnRlbnQ9dHJ1Y2suTW9kZWw7XHJcbiAgICB0cnVja0Rpdi5hcHBlbmRDaGlsZCh0cnVja01vZGVsKTtcclxuXHJcbiAgICBjb25zdCBjdXJyZW50TG9jYXRpb25MYWJlbD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGFiZWxcIik7XHJcbiAgICBjdXJyZW50TG9jYXRpb25MYWJlbC5jbGFzc0xpc3QuYWRkKFwibGFiZWxcIik7XHJcbiAgICBjdXJyZW50TG9jYXRpb25MYWJlbC50ZXh0Q29udGVudD0gXCJDVVJSRU5UIExPQ0FUSU9OOiBcIiArIHRydWNrLkN1cnJlbnRMb2NhdGlvbi50b1N0cmluZygpO1xyXG4gICAgdHJ1Y2tEaXYuYXBwZW5kQ2hpbGQoY3VycmVudExvY2F0aW9uTGFiZWwpO1xyXG4gICAgXHJcbiAgICBjb25zdCBkZXN0aW5hdGlvbkxhYmVsPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsYWJlbFwiKTtcclxuICAgIGRlc3RpbmF0aW9uTGFiZWwuY2xhc3NMaXN0LmFkZChcImxhYmVsXCIpO1xyXG4gICAgZGVzdGluYXRpb25MYWJlbC50ZXh0Q29udGVudD0gXCJERVNUSU5BVElPTjogXCIgKyB0cnVjay5GaW5hbERlc3RpbmF0aW9uLnRvU3RyaW5nKCk7XHJcbiAgICB0cnVja0Rpdi5hcHBlbmRDaGlsZChkZXN0aW5hdGlvbkxhYmVsKTtcclxuXHJcbiAgICBjb25zdCBzcGVlZExhYmVsPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsYWJlbFwiKTtcclxuICAgIHNwZWVkTGFiZWwuY2xhc3NMaXN0LmFkZChcImxhYmVsXCIpO1xyXG4gICAgc3BlZWRMYWJlbC50ZXh0Q29udGVudD0gXCJDVVJSRU5UIFNQRUVEOiBcIiArIHRydWNrLkN1cnJlbnRTcGVlZC50b1N0cmluZygpICsgXCJrbS9zXCI7XHJcbiAgICB0cnVja0Rpdi5hcHBlbmRDaGlsZChzcGVlZExhYmVsKTtcclxuXHJcbiAgICBjb25zdCBnYXNMZXZlbExhYmVsPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsYWJlbFwiKTtcclxuICAgIGdhc0xldmVsTGFiZWwuY2xhc3NMaXN0LmFkZChcImxhYmVsXCIpO1xyXG4gICAgZ2FzTGV2ZWxMYWJlbC50ZXh0Q29udGVudD1cIkdBUyBMRVZFTDogXCIgKyB0cnVjay5HYXNMZXZlbC50b1N0cmluZygpICsgXCIlXCI7XHJcbiAgICB0cnVja0Rpdi5hcHBlbmRDaGlsZChnYXNMZXZlbExhYmVsKTtcclxuXHJcbiAgICBpZih0cnVjay5TdGF0dXM9PSdpblRyYW5zaXQnKSB7XHJcbiAgICAgICAgY29uc3QgdHJhY2tCdXR0b249ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xyXG4gICAgICAgIHRyYWNrQnV0dG9uLnR5cGU9XCJidXR0b25cIjtcclxuICAgICAgICB0cmFja0J1dHRvbi52YWx1ZT1cIlRSQUNLIExPQ0FUSU9OXCI7XHJcbiAgICAgICAgdHJ1Y2tEaXYuYXBwZW5kQ2hpbGQodHJhY2tCdXR0b24pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRyYWNrQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKGV2ZW50KSA9PiBcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRyYWNrT3JkZXIobmV3IFRydWNrKHRydWNrKSk7XHJcbiAgICAgICAgICAgIC8vdGhpcy50cmFja1RydWNrTG9jYXRpb24odHJ1Y2suaWQsIGhvc3QpO1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnR2FzIGxldmVsOiAnLCB0cnVjay5HYXNMZXZlbCk7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdTcGVlZDogJywgdHJ1Y2suQ3VycmVudFNwZWVkKTtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCJMb2NhdGlvbjogXCIgICsgdHJ1Y2suQ3VycmVudExvY2F0aW9uKTtcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnNvbGUubG9nKFwiZGl2OiBcIiwgdHJ1Y2tEaXYpO1xyXG5cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGRyYXdUcnVja3ModHJ1Y2tzOiBUcnVja1tdLCBob3N0OiBIVE1MRWxlbWVudCkge1xyXG4gICAgY29uc3QgdHJ1Y2tzQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgIHRydWNrc0NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwiY29udGFpbmVyLWRpdlwiKTtcclxuICAgIGhvc3QuYXBwZW5kQ2hpbGQodHJ1Y2tzQ29udGFpbmVyKTtcclxuXHJcbiAgICBmb3IobGV0IHQgb2YgdHJ1Y2tzKSB7XHJcbiAgICAgICAgY29uc3QgdHJ1Y2s9bmV3IFRydWNrKHQpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGRyYXdUcnVjayh0cnVjaywgdHJ1Y2tzQ29udGFpbmVyKTtcclxuICAgIH1cclxufVxyXG5cclxuXHJcbi8vIGV4cG9ydCBmdW5jdGlvbiB0cmFja09yZGVyKHRydWNrOiBUcnVjaywgaG9zdDogSFRNTEVsZW1lbnQpIHtcclxuLy8gICAgIGNvbnN0IG1hcERpdj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4vLyAgICAgaG9zdC5hcHBlbmRDaGlsZChtYXBEaXYpO1xyXG5cclxuLy8gICAgIGNvbnN0IG15TWFwID0gbmV3IGdvb2dsZS5tYXBzLk1hcChtYXBEaXYsIFxyXG4vLyAgICAgICAgIHtcclxuLy8gICAgICAgICAgICAgY2VudGVyOiBnYXJhZ2VMb2NhdGlvbixcclxuLy8gICAgICAgICAgICAgem9vbTogN1xyXG4vLyAgICAgICAgIH0pO1xyXG4gICAgXHJcbi8vICAgICBsZXQgY3VycmVudExvY2F0aW9uTWFya2VyID0gbmV3IGdvb2dsZS5tYXBzLk1hcmtlcih7XHJcbi8vICAgICAgICAgcG9zaXRpb246IHRydWNrLkN1cnJlbnRMb2NhdGlvbixcclxuLy8gICAgICAgICBtYXA6IG15TWFwXHJcbi8vICAgICB9KTtcclxuXHJcbi8vICAgICBsZXQgRmluYWxEZXN0aW5hdGlvbk1hcmtlciA9IG5ldyBnb29nbGUubWFwcy5NYXJrZXIoe1xyXG4vLyAgICAgICAgIHBvc2l0aW9uOiB0cnVjay5GaW5hbERlc3RpbmF0aW9uLFxyXG4vLyAgICAgICAgIG1hcDogbXlNYXBcclxuLy8gICAgIH0pO1xyXG4vLyB9XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZHJhd09yZGVyKG9yZGVyOiBPcmRlciwgaG9zdDogSFRNTEVsZW1lbnQsIGFsbFRydWNrcz86IFRydWNrW10sIGFsbERyaXZlcnM/OiBEcml2ZXJbXSkge1xyXG4gICAgICAgXHJcbiAgICBjb25zdCBvcmRlckRpdj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgb3JkZXJEaXYuY2xhc3NMaXN0LmFkZChcIm9yZGVyLWRpdlwiKTtcclxuICAgIGhvc3QuYXBwZW5kQ2hpbGQob3JkZXJEaXYpO1xyXG5cclxuICAgIGNvbnN0IG9yZGVySUQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxhYmVsXCIpO1xyXG4gICAgb3JkZXJJRC5jbGFzc0xpc3QuYWRkKFwibGFiZWxcIik7XHJcbiAgICBvcmRlcklELnRleHRDb250ZW50PSBcIk9SREVSIElEOiBcIiArIG9yZGVyLmlkLnRvU3RyaW5nKCk7XHJcbiAgICBvcmRlckRpdi5hcHBlbmRDaGlsZChvcmRlcklEKTtcclxuICAgIFxyXG4gICAgY29uc3Qgb3JkZXJTdGF0dXM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxhYmVsXCIpO1xyXG4gICAgb3JkZXJTdGF0dXMuY2xhc3NMaXN0LmFkZChcImxhYmVsXCIpO1xyXG4gICAgb3JkZXJTdGF0dXMudGV4dENvbnRlbnQ9IFwiU1RBVFVTOiBcIiArIG9yZGVyLlN0YXR1cy50b1VwcGVyQ2FzZSgpO1xyXG4gICAgb3JkZXJEaXYuYXBwZW5kQ2hpbGQob3JkZXJTdGF0dXMpO1xyXG4gICAgXHJcbiAgICBjb25zdCB0b3RhbExvYWQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxhYmVsXCIpO1xyXG4gICAgdG90YWxMb2FkLmNsYXNzTGlzdC5hZGQoXCJsYWJlbFwiKTtcclxuICAgIHRvdGFsTG9hZC50ZXh0Q29udGVudD1cIlRPVEFMIExPQUQ6IFwiICsgb3JkZXIuVG90YWxMb2FkLnRvU3RyaW5nKCkgKyBcInRcIjtcclxuICAgIG9yZGVyRGl2LmFwcGVuZENoaWxkKHRvdGFsTG9hZCk7XHJcblxyXG4gICAgY29uc3QgZGVzdGluYXRpb25MYWJlbD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGFiZWxcIik7XHJcbiAgICBkZXN0aW5hdGlvbkxhYmVsLmNsYXNzTGlzdC5hZGQoXCJsYWJlbFwiKTtcclxuICAgIGRlc3RpbmF0aW9uTGFiZWwudGV4dENvbnRlbnQ9IFwiREVTVElOQVRJT046IFwiICsgb3JkZXIuRGVzdGluYXRpb24udG9TdHJpbmcoKTtcclxuICAgIG9yZGVyRGl2LmFwcGVuZENoaWxkKGRlc3RpbmF0aW9uTGFiZWwpO1xyXG5cclxuICAgIGlmKG9yZGVyLlN0YXR1cz09PSdzaGlwcGVkJykge1xyXG4gICAgICAgIGNvbnN0IHRyYWNrQnV0dG9uPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcclxuICAgICAgICB0cmFja0J1dHRvbi50eXBlPVwiYnV0dG9uXCI7XHJcbiAgICAgICAgdHJhY2tCdXR0b24udmFsdWU9XCJUUkFDSyBPUkRFUlwiO1xyXG4gICAgICAgIG9yZGVyRGl2LmFwcGVuZENoaWxkKHRyYWNrQnV0dG9uKTtcclxuICAgICAgICBcclxuICAgICAgICB0cmFja0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4gXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBnZXRUcnVjayhvcmRlci5Bc3NpZ25lZFRydWNrSUQpLnN1YnNjcmliZShyZXNwb25zZSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB0cnVjayA9IG5ldyBUcnVjayhyZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICB0cmFja09yZGVyKHRydWNrKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuICAgIGVsc2UgaWYob3JkZXIuU3RhdHVzPT09J3BlbmRpbmcnKSB7XHJcbiAgICAgICAgY29uc3Qgc2hpcEJ1dHRvbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XHJcbiAgICAgICAgc2hpcEJ1dHRvbi50eXBlPVwiYnV0dG9uXCI7XHJcbiAgICAgICAgc2hpcEJ1dHRvbi52YWx1ZT1cIlNISVAgT1JERVJcIjtcclxuICAgICAgICBzaGlwQnV0dG9uLmlkPSdzaGlwQnV0dG9uSUQnO1xyXG4gICAgICAgIG9yZGVyRGl2LmFwcGVuZENoaWxkKHNoaXBCdXR0b24pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHNoaXBCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgc2hpcE9yZGVyKG9yZGVyLCBhbGxUcnVja3MsIGFsbERyaXZlcnMpO1xyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZHJhd09yZGVycyhvcmRlcnM6IE9yZGVyW10sIGhvc3Q6IEhUTUxFbGVtZW50LCBhbGxUcnVja3M/OiBUcnVja1tdLCBhbGxEcml2ZXJzPzogRHJpdmVyW10pIHtcclxuICAgIFxyXG4gICAgY29uc3QgbmV3T3JkZXJEaXY9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgIG5ld09yZGVyRGl2LmNsYXNzTGlzdC5hZGQoXCJuZXdPcmRlci1kaXZcIik7XHJcbiAgICBuZXdPcmRlckRpdi50ZXh0Q29udGVudD1cIk5FVyBPUkRFUlwiO1xyXG4gICAgaG9zdC5hcHBlbmRDaGlsZChuZXdPcmRlckRpdik7XHJcbiAgICBcclxuICAgIGNvbnN0IHRvdGFsTG9hZERpdj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgbmV3T3JkZXJEaXYuYXBwZW5kQ2hpbGQodG90YWxMb2FkRGl2KTtcclxuXHJcbiAgICBjb25zdCB0b3RhbExvYWRMYWJlbD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGFiZWxcIik7XHJcbiAgICB0b3RhbExvYWRMYWJlbC5jbGFzc0xpc3QuYWRkKFwibGFiZWxcIik7XHJcbiAgICB0b3RhbExvYWRMYWJlbC50ZXh0Q29udGVudD1cIlRPVEFMIExPQUQ6XCI7XHJcbiAgICB0b3RhbExvYWREaXYuYXBwZW5kQ2hpbGQodG90YWxMb2FkTGFiZWwpO1xyXG4gICAgXHJcbiAgICBjb25zdCB0b3RhbExvYWRJbnB1dD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XHJcbiAgICB0b3RhbExvYWRJbnB1dC50eXBlPSdudW1iZXInO1xyXG4gICAgdG90YWxMb2FkSW5wdXQuY2xhc3NMaXN0LmFkZChcImlucHV0XCIpO1xyXG4gICAgdG90YWxMb2FkRGl2LmFwcGVuZENoaWxkKHRvdGFsTG9hZElucHV0KTtcclxuICAgIFxyXG4gICAgY29uc3QgZGVzdGluYXRpb25EaXY9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICBkZXN0aW5hdGlvbkRpdi5jbGFzc0xpc3QuYWRkKFwibmV3T3JkZXJEZXN0aW5hdGlvbi1kaXZcIik7XHJcbiAgICBuZXdPcmRlckRpdi5hcHBlbmRDaGlsZChkZXN0aW5hdGlvbkRpdik7XHJcbiAgICBcclxuICAgIGNvbnN0IGRlc3RpbmF0aW9uTGFiZWw9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxhYmVsXCIpO1xyXG4gICAgZGVzdGluYXRpb25MYWJlbC5jbGFzc0xpc3QuYWRkKFwibGFiZWxcIik7XHJcbiAgICBkZXN0aW5hdGlvbkxhYmVsLnRleHRDb250ZW50PSBcIkVOVEVSIERFU1RJTkFUSU9OIExBVElUVURFIEFORCBMT05HSVRVREU6XCI7XHJcbiAgICBkZXN0aW5hdGlvbkRpdi5hcHBlbmRDaGlsZChkZXN0aW5hdGlvbkxhYmVsKTtcclxuICAgIFxyXG4gICAgY29uc3QgbGF0SW5wdXQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xyXG4gICAgbGF0SW5wdXQudHlwZT0ndGV4dCc7XHJcbiAgICBsYXRJbnB1dC5jbGFzc0xpc3QuYWRkKFwiaW5wdXRcIik7XHJcbiAgICBkZXN0aW5hdGlvbkRpdi5hcHBlbmRDaGlsZChsYXRJbnB1dCk7XHJcbiAgICBcclxuICAgIGNvbnN0IGxuZ0lucHV0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcclxuICAgIGxuZ0lucHV0LnR5cGU9J3RleHQnO1xyXG4gICAgbG5nSW5wdXQuY2xhc3NMaXN0LmFkZChcImlucHV0XCIpO1xyXG4gICAgZGVzdGluYXRpb25EaXYuYXBwZW5kQ2hpbGQobG5nSW5wdXQpO1xyXG5cclxuICAgIGNvbnN0IG5ld09yZGVyQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xyXG4gICAgbmV3T3JkZXJCdXR0b24udHlwZT1cImJ1dHRvblwiO1xyXG4gICAgbmV3T3JkZXJCdXR0b24uY2xhc3NMaXN0LmFkZChcIm5ld09yZGVyLWJ1dHRvblwiKTtcclxuICAgIG5ld09yZGVyQnV0dG9uLnZhbHVlPVwiUExBQ0UgTkVXIE9SREVSXCI7XHJcbiAgICBuZXdPcmRlckRpdi5hcHBlbmRDaGlsZChuZXdPcmRlckJ1dHRvbik7XHJcbiAgICBcclxuICAgIGNvbnN0IG9yZGVyc0NvbnRhaW5lcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgb3JkZXJzQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJjb250YWluZXItZGl2XCIpO1xyXG4gICAgaG9zdC5hcHBlbmRDaGlsZChvcmRlcnNDb250YWluZXIpO1xyXG4gICAgXHJcbiAgICBmb3IobGV0IG8gb2Ygb3JkZXJzKSB7XHJcbiAgICAgICAgY29uc3Qgb3JkZXI9bmV3IE9yZGVyKG8pO1xyXG4gICAgICAgIGlmKG8uU3RhdHVzPT09J3BlbmRpbmcnKVxyXG4gICAgICAgICAgICBkcmF3T3JkZXIob3JkZXIsIG9yZGVyc0NvbnRhaW5lciwgYWxsVHJ1Y2tzLCBhbGxEcml2ZXJzKTtcclxuICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIGRyYXdPcmRlcihvcmRlciwgb3JkZXJzQ29udGFpbmVyKTtcclxuICAgIH1cclxuXHJcbiAgICBuZXdPcmRlckJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGV2ZW50ID0+IHtcclxuICAgICAgICBjb25zdCBuZXdPcmRlciA9IG5ldyBPcmRlcihvcmRlcnMubGVuZ3RoLCAncGVuZGluZycsIHBhcnNlSW50KHRvdGFsTG9hZElucHV0LnZhbHVlKSxcclxuICAgICAgICAgICAgbmV3IGdvb2dsZS5tYXBzLkxhdExuZyhwYXJzZUZsb2F0KCBsYXRJbnB1dC52YWx1ZSksIHBhcnNlRmxvYXQobG5nSW5wdXQudmFsdWUpKSwgXCJcIiwgXCJcIik7XHJcbiAgICAgICAgb3JkZXJzLnB1c2gobmV3T3JkZXIpO1xyXG4gICAgICAgIG5ld09yZGVyUmVxdWVzdChuZXdPcmRlcik7XHJcbiAgICB9KVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZHJhd0RyaXZlcihkcml2ZXI6IERyaXZlciwgaG9zdDogSFRNTEVsZW1lbnQpIHtcclxuICAgICAgIFxyXG4gICAgY29uc3QgZHJpdmVyRGl2PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICBkcml2ZXJEaXYuY2xhc3NMaXN0LmFkZChcImRyaXZlci1kaXZcIik7XHJcbiAgICBob3N0LmFwcGVuZENoaWxkKGRyaXZlckRpdik7XHJcblxyXG4gICAgY29uc3QgZHJpdmVySUQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxhYmVsXCIpO1xyXG4gICAgZHJpdmVySUQuY2xhc3NMaXN0LmFkZChcImxhYmVsXCIpO1xyXG4gICAgZHJpdmVySUQudGV4dENvbnRlbnQ9IFwiRFJJVkVSIElEOiBcIiArIGRyaXZlci5pZC50b1N0cmluZygpO1xyXG4gICAgZHJpdmVyRGl2LmFwcGVuZENoaWxkKGRyaXZlcklEKTtcclxuICAgIFxyXG4gICAgLy8gY29uc3QgZHJpdmVyU3RhdHVzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsYWJlbFwiKTtcclxuICAgIC8vIGRyaXZlclN0YXR1cy5jbGFzc0xpc3QuYWRkKFwibGFiZWxcIik7XHJcbiAgICAvLyBkcml2ZXJTdGF0dXMudGV4dENvbnRlbnQ9IFwiU1RBVFVTOiBcIiArIGRyaXZlci5TdGF0dXMudG9VcHBlckNhc2UoKTtcclxuICAgIC8vIGRyaXZlckRpdi5hcHBlbmRDaGlsZChkcml2ZXJTdGF0dXMpO1xyXG4gICAgXHJcbiAgICBjb25zdCBmdWxsTmFtZUxhYmVsPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsYWJlbFwiKTtcclxuICAgIGZ1bGxOYW1lTGFiZWwuY2xhc3NMaXN0LmFkZChcImxhYmVsXCIpO1xyXG4gICAgZnVsbE5hbWVMYWJlbC50ZXh0Q29udGVudD1cIkZVTEwgTkFNRTogXCIgKyBkcml2ZXIuRnVsbE5hbWU7XHJcbiAgICBkcml2ZXJEaXYuYXBwZW5kQ2hpbGQoZnVsbE5hbWVMYWJlbCk7XHJcblxyXG4gICAgY29uc3QgZW1haWxMYWJlbD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGFiZWxcIik7XHJcbiAgICBlbWFpbExhYmVsLmNsYXNzTGlzdC5hZGQoXCJsYWJlbFwiKTtcclxuICAgIGVtYWlsTGFiZWwudGV4dENvbnRlbnQ9IFwiRU1BSUw6IFwiICsgZHJpdmVyLkVtYWlsO1xyXG4gICAgZHJpdmVyRGl2LmFwcGVuZENoaWxkKGVtYWlsTGFiZWwpO1xyXG5cclxuICAgIGNvbnN0IHBob25lTnVtYmVyTGFiZWw9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxhYmVsXCIpO1xyXG4gICAgcGhvbmVOdW1iZXJMYWJlbC5jbGFzc0xpc3QuYWRkKFwibGFiZWxcIik7XHJcbiAgICBwaG9uZU51bWJlckxhYmVsLnRleHRDb250ZW50PSBcIlBIT05FIE5VTUJFUjogXCIgKyBkcml2ZXIuUGhvbmVOdW1iZXI7XHJcbiAgICBkcml2ZXJEaXYuYXBwZW5kQ2hpbGQocGhvbmVOdW1iZXJMYWJlbCk7XHJcbiAgICBcclxuICAgIGlmKGRyaXZlci5TdGF0dXMgPT09ICdvblJvYWQnKSB7XHJcbiAgICBcclxuICAgICAgICBjb25zdCBhc3NpZ25lZFRydWNrTGFiZWw9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxhYmVsXCIpO1xyXG4gICAgICAgIGFzc2lnbmVkVHJ1Y2tMYWJlbC5jbGFzc0xpc3QuYWRkKFwibGFiZWxcIik7XHJcbiAgICAgICAgYXNzaWduZWRUcnVja0xhYmVsLnRleHRDb250ZW50PSBcIkFTU0lHTkVEIFRSVUNLOiBcIiArIGRyaXZlci5Bc3NpZ25lZFZlaGljbGVJRDtcclxuICAgICAgICBkcml2ZXJEaXYuYXBwZW5kQ2hpbGQoYXNzaWduZWRUcnVja0xhYmVsKTtcclxuXHJcbiAgICAgICAgY29uc3QgdHJhY2tCdXR0b249ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xyXG4gICAgICAgIHRyYWNrQnV0dG9uLnR5cGU9XCJidXR0b25cIjtcclxuICAgICAgICB0cmFja0J1dHRvbi52YWx1ZT1cIlRSQUNLIERSSVZFUlwiO1xyXG4gICAgICAgIGRyaXZlckRpdi5hcHBlbmRDaGlsZCh0cmFja0J1dHRvbik7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdHJhY2tCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgZ2V0VHJ1Y2soZHJpdmVyLkFzc2lnbmVkVmVoaWNsZUlEKS5zdWJzY3JpYmUocmVzcG9uc2UgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdHJ1Y2sgPSBuZXcgVHJ1Y2socmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgICAgdHJhY2tPcmRlcih0cnVjayk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZHJhd0RyaXZlcnMoZHJpdmVyczogRHJpdmVyW10sIGhvc3Q6IEhUTUxFbGVtZW50KSB7XHJcbiAgICBjb25zdCBkcml2ZXJzQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgIGRyaXZlcnNDb250YWluZXIuY2xhc3NMaXN0LmFkZChcImNvbnRhaW5lci1kaXZcIik7XHJcbiAgICBob3N0LmFwcGVuZENoaWxkKGRyaXZlcnNDb250YWluZXIpO1xyXG5cclxuICAgIGZvcihsZXQgZCBvZiBkcml2ZXJzKSB7XHJcbiAgICAgICAgY29uc3QgZHJpdmVyPW5ldyBEcml2ZXIoZCk7XHJcblxyXG4gICAgICAgIGRyYXdEcml2ZXIoZHJpdmVyLCBkcml2ZXJzQ29udGFpbmVyKTtcclxuICAgIH1cclxufVxyXG5cclxuIiwiaW1wb3J0IHsgT2JzZXJ2YWJsZSwgU3ViamVjdCwgZGVib3VuY2VUaW1lLCBmb3JrSm9pbiwgZnJvbSwgZnJvbUV2ZW50LCBtYXAsIG1lcmdlLCBtZXJnZUFsbCwgbWVyZ2VNYXAsIG9mLCB0YWtlVW50aWwsIHRhcCwgemlwIH0gZnJvbSBcInJ4anNcIjtcclxuaW1wb3J0IHsgZ2FyYWdlTG9jYXRpb24sIHZlaGljbGVzVVJMIH0gZnJvbSBcIi4uL2NvbmZpZ1wiO1xyXG5pbXBvcnQgeyBDb29yZGluYXRlcyB9IGZyb20gXCIuLi90ZXN0RnVuY3Rpb25zL2Nvb3JkaW5hdGVzXCI7XHJcbmltcG9ydCB7IGdldFRydWNrc0Zyb21TZXJ2ZXIsIGRlbGV0ZUNvbnRlbnQsIHVwZGF0ZVRydWNrUmVxdWVzdCwgZ2V0T3JkZXJzRnJvbVNlcnZlciwgZ2V0RHJpdmVyc0Zyb21TZXJ2ZXIsIHVwZGF0ZURyaXZlclJlcXVlc3QsIHVwZGF0ZU9yZGVyUmVxdWVzdCwgZ2V0VHJ1Y2ssIGdldERyaXZlciB9IGZyb20gXCIuL3NlcnZpY2VzXCI7XHJcbmltcG9ydCB7IERyaXZlciwgUGVyc29uIH0gZnJvbSBcIi4vcGVyc29uXCI7XHJcbmltcG9ydCB7IE9yZGVyIH0gZnJvbSBcIi4vb3JkZXJcIjtcclxuaW1wb3J0IHsgVHJ1Y2ssIFZlaGljbGUsIFZlaGljbGVTdGF0dXMgfSBmcm9tIFwiLi92ZWhpY2xlXCI7XHJcbmltcG9ydCB7IG9ic2VydmFibGVUb0JlRm4gfSBmcm9tIFwicnhqcy9pbnRlcm5hbC90ZXN0aW5nL1Rlc3RTY2hlZHVsZXJcIjtcclxuaW1wb3J0IHsgZHJhd0RyaXZlcnMsIGRyYXdPcmRlcnMsIGRyYXdUcnVja3MsIGluaXRpYWxpemVQYWdlIH0gZnJvbSBcIi4vRE9Nc3RydWN0dXJlXCI7XHJcbmltcG9ydCB7IG9yZGVyVHJhbnNpdFNpbXVsYXRpb24gfSBmcm9tIFwiLi9vcmRlclRyYWNraW5nXCI7XHJcbmltcG9ydCB7IHNldHVwTWFwIH0gZnJvbSBcIi4vbWFwTG9naWNcIjtcclxuXHJcbmNvbnN0IG1lbnVEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG5jb25zdCB0cnVja3NEaXY9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuY29uc3QgZHJpdmVyc0Rpdj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG5jb25zdCBvcmRlcnNEaXY9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuY29uc3QgY29udGVudERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbmNvbnN0IG1hcERpdj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG5tYXBEaXYuaWQ9XCJtYXBcIjtcclxubGV0IG1hcmtlcjtcclxuXHJcbmluaXRpYWxpemVQYWdlKG1lbnVEaXYsIHRydWNrc0RpdiwgZHJpdmVyc0Rpdiwgb3JkZXJzRGl2LCBjb250ZW50RGl2LCBtYXBEaXYpO1xyXG5cclxubGV0IHdvcmtpbmdNYXA6IGdvb2dsZS5tYXBzLk1hcDtcclxuKGFzeW5jIGZ1bmN0aW9uIGluaXRNYXAoKSB7XHJcbiAgICB3b3JraW5nTWFwID0gc2V0dXBNYXAobWFwRGl2KTtcclxufSkoKTtcclxuXHJcblxyXG5sZXQgYWxsVHJ1Y2tzOiBBcnJheTxUcnVjaz49W107XHJcbmxldCBhbGxPcmRlcnM6IEFycmF5PE9yZGVyPj1bXTtcclxubGV0IGFsbERyaXZlcnM6IEFycmF5PERyaXZlcj49W107XHJcblxyXG5jb25zdCB0cnVjayQ6IE9ic2VydmFibGU8VHJ1Y2tbXT4gPSBnZXRUcnVja3NGcm9tU2VydmVyKCk7XHJcbmNvbnN0IG9yZGVyJDogT2JzZXJ2YWJsZTxPcmRlcltdPiA9IGdldE9yZGVyc0Zyb21TZXJ2ZXIoKTtcclxuY29uc3QgZHJpdmVyJDogT2JzZXJ2YWJsZTxEcml2ZXJbXT4gPSBnZXREcml2ZXJzRnJvbVNlcnZlcigpO1xyXG5cclxuemlwKFt0cnVjayQsIG9yZGVyJCwgZHJpdmVyJF0pLnN1YnNjcmliZSgoW3RydWNrcywgb3JkZXJzLCBkcml2ZXJzXSkgPT4ge1xyXG4gICAgYWxsVHJ1Y2tzPXRydWNrcztcclxuICAgIGFsbE9yZGVycz1vcmRlcnM7XHJcbiAgICBhbGxEcml2ZXJzPWRyaXZlcnM7XHJcblxyXG4gICAgYWxsT3JkZXJzLmZvckVhY2gob3JkZXIgPT4ge1xyXG4gICAgICAgIGNvbnN0IHdvcmtpbmdPcmRlciA9IG5ldyBPcmRlcihvcmRlcik7XHJcbiAgICAgICAgaWYob3JkZXIuU3RhdHVzPT09J3NoaXBwZWQnKSB7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgb3JkZXJUcmFuc2l0U2ltdWxhdGlvbih3b3JraW5nT3JkZXIsIHdvcmtpbmdNYXApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmKG9yZGVyLlN0YXR1cz09PSdwZW5kaW5nJykge1xyXG4gICAgICAgICAgICBcclxuICAgICAgICB9XHJcbiAgICB9KVxyXG5cclxuXHJcbiAgICB0cnVja3NEaXYuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyBldmVudCA9PiB7XHJcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBkZWxldGVDb250ZW50KGV2ZW50LCAndHJ1Y2tzLWRpdicsIGNvbnRlbnREaXYpO1xyXG4gICAgICAgIFxyXG5cclxuICAgICAgICBkcmF3VHJ1Y2tzKGFsbFRydWNrcywgY29udGVudERpdik7XHJcbiAgICB9KVxyXG4gICAgICAgIFxyXG4gICAgZHJpdmVyc0Rpdi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGV2ZW50ID0+IHtcclxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIGRlbGV0ZUNvbnRlbnQoZXZlbnQsICdkcml2ZXJzLWRpdicsIGNvbnRlbnREaXYpO1xyXG4gICAgICAgIFxyXG5cclxuICAgICAgICBkcmF3RHJpdmVycyhhbGxEcml2ZXJzLCBjb250ZW50RGl2KTtcclxuICAgIH0pXHJcbiAgICBcclxuICAgIG9yZGVyc0Rpdi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgYXN5bmMgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBkZWxldGVDb250ZW50KGV2ZW50LCAnb3JkZXJzLWRpdicsIGNvbnRlbnREaXYpO1xyXG4gICAgXHJcbiAgICBcclxuICAgICAgICBkcmF3T3JkZXJzKGFsbE9yZGVycywgY29udGVudERpdiwgYWxsVHJ1Y2tzLCBhbGxEcml2ZXJzKTtcclxuICAgIH0pXHJcbn0pXHJcbiJdLCJuYW1lcyI6WyJleHRlbmRTdGF0aWNzIiwiZCIsImIiLCJPYmplY3QiLCJzZXRQcm90b3R5cGVPZiIsIl9fcHJvdG9fXyIsIkFycmF5IiwicCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsIl9fZXh0ZW5kcyIsIlR5cGVFcnJvciIsIlN0cmluZyIsIl9fIiwidGhpcyIsImNvbnN0cnVjdG9yIiwiY3JlYXRlIiwiX19nZW5lcmF0b3IiLCJ0aGlzQXJnIiwiYm9keSIsImYiLCJ5IiwidCIsImciLCJfIiwibGFiZWwiLCJzZW50IiwidHJ5cyIsIm9wcyIsIm5leHQiLCJ2ZXJiIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJuIiwidiIsIm9wIiwiZG9uZSIsInZhbHVlIiwicG9wIiwibGVuZ3RoIiwicHVzaCIsImUiLCJzdGVwIiwiX192YWx1ZXMiLCJvIiwicyIsIm0iLCJpIiwiX19yZWFkIiwiciIsImFyIiwiZXJyb3IiLCJfX3NwcmVhZEFycmF5IiwidG8iLCJmcm9tIiwicGFjayIsImFyZ3VtZW50cyIsImwiLCJzbGljZSIsImNvbmNhdCIsIl9fYXdhaXQiLCJpc0Z1bmN0aW9uIiwiY3JlYXRlRXJyb3JDbGFzcyIsImNyZWF0ZUltcGwiLCJjdG9yRnVuYyIsImluc3RhbmNlIiwiRXJyb3IiLCJzdGFjayIsIlN1cHByZXNzZWRFcnJvciIsIlVuc3Vic2NyaXB0aW9uRXJyb3IiLCJfc3VwZXIiLCJlcnJvcnMiLCJtZXNzYWdlIiwibWFwIiwiZXJyIiwidG9TdHJpbmciLCJqb2luIiwibmFtZSIsImFyclJlbW92ZSIsImFyciIsIml0ZW0iLCJpbmRleCIsImluZGV4T2YiLCJzcGxpY2UiLCJTdWJzY3JpcHRpb24iLCJpbml0aWFsVGVhcmRvd24iLCJjbG9zZWQiLCJfcGFyZW50YWdlIiwiX2ZpbmFsaXplcnMiLCJ1bnN1YnNjcmliZSIsImVfMSIsIl9hIiwiZV8yIiwiX2IiLCJpc0FycmF5IiwiX3BhcmVudGFnZV8xIiwiX3BhcmVudGFnZV8xXzEiLCJyZW1vdmUiLCJlXzFfMSIsInJldHVybiIsImluaXRpYWxGaW5hbGl6ZXIiLCJfZmluYWxpemVyc18xIiwiX2ZpbmFsaXplcnNfMV8xIiwiZmluYWxpemVyIiwiZXhlY0ZpbmFsaXplciIsImVfMl8xIiwiYWRkIiwidGVhcmRvd24iLCJfaGFzUGFyZW50IiwiX2FkZFBhcmVudCIsInBhcmVudCIsImluY2x1ZGVzIiwiX3JlbW92ZVBhcmVudCIsIkVNUFRZIiwiZW1wdHkiLCJFTVBUWV9TVUJTQ1JJUFRJT04iLCJpc1N1YnNjcmlwdGlvbiIsImNvbmZpZyIsIm9uVW5oYW5kbGVkRXJyb3IiLCJvblN0b3BwZWROb3RpZmljYXRpb24iLCJQcm9taXNlIiwidW5kZWZpbmVkIiwidXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZyIsInVzZURlcHJlY2F0ZWROZXh0Q29udGV4dCIsInRpbWVvdXRQcm92aWRlciIsInNldFRpbWVvdXQiLCJoYW5kbGVyIiwidGltZW91dCIsImFyZ3MiLCJfaSIsImRlbGVnYXRlIiwiYXBwbHkiLCJjbGVhclRpbWVvdXQiLCJoYW5kbGUiLCJyZXBvcnRVbmhhbmRsZWRFcnJvciIsIm5vb3AiLCJDT01QTEVURV9OT1RJRklDQVRJT04iLCJjcmVhdGVOb3RpZmljYXRpb24iLCJraW5kIiwiY29udGV4dCIsImVycm9yQ29udGV4dCIsImNiIiwiaXNSb290IiwiZXJyb3JUaHJvd24iLCJTdWJzY3JpYmVyIiwiZGVzdGluYXRpb24iLCJfdGhpcyIsImlzU3RvcHBlZCIsIkVNUFRZX09CU0VSVkVSIiwiY29tcGxldGUiLCJTYWZlU3Vic2NyaWJlciIsImhhbmRsZVN0b3BwZWROb3RpZmljYXRpb24iLCJuZXh0Tm90aWZpY2F0aW9uIiwiX25leHQiLCJfZXJyb3IiLCJfY29tcGxldGUiLCJfYmluZCIsIkZ1bmN0aW9uIiwiYmluZCIsImZuIiwiQ29uc3VtZXJPYnNlcnZlciIsInBhcnRpYWxPYnNlcnZlciIsImhhbmRsZVVuaGFuZGxlZEVycm9yIiwib2JzZXJ2ZXJPck5leHQiLCJjb250ZXh0XzEiLCJub3RpZmljYXRpb24iLCJzdWJzY3JpYmVyIiwib2JzZXJ2YWJsZSIsImlkZW50aXR5IiwieCIsIk9ic2VydmFibGUiLCJzdWJzY3JpYmUiLCJfc3Vic2NyaWJlIiwibGlmdCIsIm9wZXJhdG9yIiwic291cmNlIiwiaXNPYnNlcnZlciIsIl90cnlTdWJzY3JpYmUiLCJzaW5rIiwiZm9yRWFjaCIsInByb21pc2VDdG9yIiwiZ2V0UHJvbWlzZUN0b3IiLCJyZXNvbHZlIiwicmVqZWN0IiwicGlwZSIsIm9wZXJhdGlvbnMiLCJmbnMiLCJpbnB1dCIsInJlZHVjZSIsInByZXYiLCJ0b1Byb21pc2UiLCJpc0FycmF5TGlrZSIsImlzUHJvbWlzZSIsInRoZW4iLCJpc0ludGVyb3BPYnNlcnZhYmxlIiwiaXNBc3luY0l0ZXJhYmxlIiwib2JqIiwiYXN5bmNJdGVyYXRvciIsImNyZWF0ZUludmFsaWRPYnNlcnZhYmxlVHlwZUVycm9yIiwiaXNJdGVyYWJsZSIsInJlYWRhYmxlU3RyZWFtTGlrZVRvQXN5bmNHZW5lcmF0b3IiLCJyZWFkYWJsZVN0cmVhbSIsIl9hcmd1bWVudHMiLCJnZW5lcmF0b3IiLCJxIiwiYSIsInJlc3VtZSIsImZ1bGZpbGwiLCJzZXR0bGUiLCJzaGlmdCIsIl9fYXN5bmNHZW5lcmF0b3IiLCJyZWFkZXIiLCJnZXRSZWFkZXIiLCJyZWFkIiwicmVsZWFzZUxvY2siLCJpc1JlYWRhYmxlU3RyZWFtTGlrZSIsImlubmVyRnJvbSIsIm9icyIsImFycmF5IiwicHJvbWlzZSIsImZyb21Bc3luY0l0ZXJhYmxlIiwiaXRlcmFibGUiLCJpdGVyYWJsZV8xIiwiaXRlcmFibGVfMV8xIiwiYXN5bmNJdGVyYWJsZSIsImFzeW5jSXRlcmFibGVfMSIsImFzeW5jSXRlcmFibGVfMV8xIiwiUCIsIl9fYXN5bmNWYWx1ZXMiLCJmdWxmaWxsZWQiLCJyZWplY3RlZCIsInJlc3VsdCIsInByb2Nlc3MiLCJjYXRjaCIsImNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlciIsIm9uTmV4dCIsIm9uQ29tcGxldGUiLCJvbkVycm9yIiwib25GaW5hbGl6ZSIsIk9wZXJhdG9yU3Vic2NyaWJlciIsInNob3VsZFVuc3Vic2NyaWJlIiwiY2xvc2VkXzEiLCJpc1NjaGVkdWxlciIsInNjaGVkdWxlIiwibGFzdCIsInBvcFJlc3VsdFNlbGVjdG9yIiwicG9wU2NoZWR1bGVyIiwiemlwIiwicmVzdWx0U2VsZWN0b3IiLCJzb3VyY2VzIiwiYXJnc09yQXJnQXJyYXkiLCJidWZmZXJzIiwiY29tcGxldGVkIiwiX2xvb3BfMSIsInNvdXJjZUluZGV4IiwiZXZlcnkiLCJidWZmZXIiLCJzb21lIiwiZXhlY3V0ZVNjaGVkdWxlIiwicGFyZW50U3Vic2NyaXB0aW9uIiwic2NoZWR1bGVyIiwid29yayIsImRlbGF5IiwicmVwZWF0Iiwic2NoZWR1bGVTdWJzY3JpcHRpb24iLCJvcGVyYXRlIiwiaW5pdCIsImhhc0xpZnQiLCJsaWZ0ZWRTb3VyY2UiLCJvYnNlcnZlT24iLCJzdWJzY3JpYmVPbiIsInNjaGVkdWxlQXN5bmNJdGVyYWJsZSIsInNjaGVkdWxlT2JzZXJ2YWJsZSIsInNjaGVkdWxlQXJyYXkiLCJzY2hlZHVsZVByb21pc2UiLCJzY2hlZHVsZUl0ZXJhYmxlIiwic2NoZWR1bGVSZWFkYWJsZVN0cmVhbUxpa2UiLCJzY2hlZHVsZWQiLCJ2ZWhpY2xlc1VSTCIsImRyaXZlcnNVUkwiLCJnYXJhZ2VMb2NhdGlvbiIsImxhdCIsImxuZyIsIlNoaXBtZW50U3RhdHVzIiwiZ2V0VHJ1Y2siLCJyZWdpc3RyYXRpb25JRCIsImZldGNoIiwidmVoaWNsZSIsIm9rIiwianNvbiIsImNvbnNvbGUiLCJ1cGRhdGVUcnVja1JlcXVlc3QiLCJ0cnVjayIsImlkIiwibWV0aG9kIiwiaGVhZGVycyIsIkpTT04iLCJzdHJpbmdpZnkiLCJuZXdUcnVja0RhdGEiLCJ1cGRhdGVUcnVja0RhdGEiLCJ1cGRhdGVPcmRlclJlcXVlc3QiLCJvcmRlciIsIm5ld09yZGVyRGF0YSIsInVwZGF0ZU9yZGVyRGF0YSIsInVwZGF0ZURyaXZlclJlcXVlc3QiLCJkcml2ZXIiLCJuZXdEcml2ZXJEYXRhIiwidXBkYXRlRHJpdmVyRGF0YSIsImRlbGV0ZUNvbnRlbnQiLCJldmVudCIsImNsYXNzTmFtZSIsImhvc3QiLCJ0YXJnZXQiLCJmaXJzdENoaWxkIiwiY2xhc3NMaXN0IiwiY29udGFpbnMiLCJyZW1vdmVDaGlsZCIsImxhc3RDaGlsZCIsImN1cnJlbnRMb2NhdGlvbk1hcmtlciIsImlkT3JPcmRlckRhdGEiLCJzdGF0dXMiLCJ0b3RhbExvYWQiLCJhc3NpZ25lZERyaXZlciIsImFzc2lnbmVkVmVoaWNsZSIsIlN0YXR1cyIsIlRvdGFsTG9hZCIsIkRlc3RpbmF0aW9uIiwiQXNzaWduZWREcml2ZXJJRCIsIkFzc2lnbmVkVHJ1Y2tJRCIsImdvb2dsZSIsIm1hcHMiLCJMYXRMbmciLCJwbGFjZU5ld09yZGVyIiwiT3JkZXIiLCJzaGlwT3JkZXIiLCJhbGxUcnVja3MiLCJhbGxEcml2ZXJzIiwiYXNzaWduZWRUcnVjayIsImZpbmQiLCJDYXBhY2l0eSIsIkxvYWQiLCJGaW5hbERlc3RpbmF0aW9uIiwiQXNzaWduZWRWZWhpY2xlSUQiLCJkZXN0aW5hdGlvblJlYWNoZWRVcGRhdGUiLCJ0cmFja09yZGVyIiwibXlNYXAiLCJNYXAiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiY2VudGVyIiwiem9vbSIsIk1hcmtlciIsInBvc2l0aW9uIiwiQ3VycmVudExvY2F0aW9uIiwic2V0SW50ZXJ2YWwiLCJzZXRQb3NpdGlvbiIsImxvZyIsImdldFByb3RvdHlwZU9mIiwib2JqZWN0UHJvdG8iLCJnZXRLZXlzIiwia2V5cyIsInByb2plY3QiLCJPYmplY3RVbnN1YnNjcmliZWRFcnJvciIsIlN1YmplY3QiLCJjdXJyZW50T2JzZXJ2ZXJzIiwib2JzZXJ2ZXJzIiwiaGFzRXJyb3IiLCJ0aHJvd25FcnJvciIsInN1YmplY3QiLCJBbm9ueW1vdXNTdWJqZWN0IiwiX3Rocm93SWZDbG9zZWQiLCJfYyIsImRlZmluZVByb3BlcnR5IiwiZ2V0IiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsIl9jaGVja0ZpbmFsaXplZFN0YXR1c2VzIiwiX2lubmVyU3Vic2NyaWJlIiwiYXNPYnNlcnZhYmxlIiwiQWN0aW9uIiwic3RhdGUiLCJpbnRlcnZhbFByb3ZpZGVyIiwiY2xlYXJJbnRlcnZhbCIsIkFzeW5jQWN0aW9uIiwicGVuZGluZyIsInJlY3ljbGVBc3luY0lkIiwicmVxdWVzdEFzeW5jSWQiLCJfaWQiLCJmbHVzaCIsIl9zY2hlZHVsZXIiLCJleGVjdXRlIiwiX2V4ZWN1dGUiLCJfZGVsYXkiLCJlcnJvclZhbHVlIiwiZXJyb3JlZCIsImFjdGlvbnMiLCJkYXRlVGltZXN0YW1wUHJvdmlkZXIiLCJub3ciLCJEYXRlIiwiU2NoZWR1bGVyIiwic2NoZWR1bGVyQWN0aW9uQ3RvciIsImFzeW5jU2NoZWR1bGVyIiwiQXN5bmNTY2hlZHVsZXIiLCJTY2hlZHVsZXJBY3Rpb24iLCJfYWN0aXZlIiwiYWN0aW9uIiwiaW50ZXJ2YWwiLCJwZXJpb2QiLCJkdWVUaW1lIiwiaW50ZXJ2YWxPclNjaGVkdWxlciIsImludGVydmFsRHVyYXRpb24iLCJkdWUiLCJpc05hTiIsInRpbWVyIiwidGFrZVVudGlsIiwibm90aWZpZXIiLCJtZXJnZU1hcCIsImNvbmN1cnJlbnQiLCJJbmZpbml0eSIsImlpIiwib25CZWZvcmVOZXh0IiwiZXhwYW5kIiwiaW5uZXJTdWJTY2hlZHVsZXIiLCJhZGRpdGlvbmFsRmluYWxpemVyIiwiYWN0aXZlIiwiaXNDb21wbGV0ZSIsImNoZWNrQ29tcGxldGUiLCJvdXRlck5leHQiLCJkb0lubmVyU3ViIiwiaW5uZXJDb21wbGV0ZSIsImlubmVyVmFsdWUiLCJidWZmZXJlZFZhbHVlIiwibWVyZ2VJbnRlcm5hbHMiLCJjb25jYXRBbGwiLCJ0YXAiLCJ0YXBPYnNlcnZlciIsImlzVW5zdWIiLCJmaW5hbGl6ZSIsInNraXBVbnRpbCIsInRha2luZyIsInNraXBTdWJzY3JpYmVyIiwib2YiLCJlbmRXaXRoIiwidmFsdWVzIiwiRHJpdmVyU3RhdHVzIiwiVmVoaWNsZVN0YXR1cyIsImRyaXZlckRhdGEiLCJGdWxsTmFtZSIsIlBob25lTnVtYmVyIiwiRW1haWwiLCJEYXRlT2ZCaXJ0aCIsImFzc2lnblNoaXBtZW50Iiwic2hpcG1lbnRJRCIsIm5ld0RhdGEiLCJSZWdpc3RyYXRpb25FeHBpcnlEYXRlIiwiTW9kZWwiLCJDdXJyZW50U3BlZWQiLCJHYXNMZXZlbCIsInRyYWNrVHJ1Y2tMb2NhdGlvbiIsIklEIiwidHJ1Y2tPbk1hcCIsIm9yZGVyVHJhbnNpdFNpbXVsYXRpb24iLCJvcmRlckZvclRyYWNraW5nIiwid29ya2luZ01hcCIsInRydWNrJCIsImRyaXZlciQiLCJkcml2ZXJJRCIsImZpcnN0XzEiLCJrZXkiLCJhcmdzQXJnQXJyYXlPck9iamVjdCIsInJlbWFpbmluZ0NvbXBsZXRpb25zIiwicmVtYWluaW5nRW1pc3Npb25zIiwiaGFzVmFsdWUiLCJjcmVhdGVPYmplY3QiLCJjYWxsT3JBcHBseSIsImZvcmtKb2luIiwiY2FsbGJhY2siLCJwcmVkaWNhdGUiLCJtb3ZpbmdUcnVjayIsImdhc0xldmVsJCIsInNwZWVkJCIsImRlc3RpbmF0aW9uUmVhY2hlZFN1YmplY3QiLCJ0cnVja0RhdGEiLCJUcnVjayIsIkRyaXZlciIsInRpdGxlIiwic3RhcnRXaXRoIiwiYWNjdW11bGF0b3IiLCJzZWVkIiwiaGFzU2VlZCIsImVtaXRPbk5leHQiLCJlbWl0QmVmb3JlQ29tcGxldGUiLCJoYXNTdGF0ZSIsInNjYW5JbnRlcm5hbHMiLCJzY2FuIiwibmV3R2FzTGV2ZWwiLCJjdXJyZW50R2FzTGV2ZWwiLCJuZXdTcGVlZCIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsImN1cnJlbnRTcGVlZCIsImdhc0xldmVsIiwic3BlZWRJbk1ldGVyc1BlclNlY29uZCIsImxhdEluY3JlbWVudCIsImdlb21ldHJ5Iiwic3BoZXJpY2FsIiwiY29tcHV0ZURpc3RhbmNlQmV0d2VlbiIsImxuZ0luY3JlbWVudCIsImN1cnJlbnRMb2NhdGlvbiIsIm5ld0xvY2F0aW9uIiwiYWJzIiwibG9jYXRpb24iLCJpbm5lclN1YnNjcmliZXIiLCJzZXRUaXRsZSIsImRyYXdUcnVjayIsInRydWNrRGl2IiwiY3JlYXRlRWxlbWVudCIsImFwcGVuZENoaWxkIiwidHJ1Y2tOYW1lIiwidGV4dENvbnRlbnQiLCJ0cnVja01vZGVsIiwiY3VycmVudExvY2F0aW9uTGFiZWwiLCJkZXN0aW5hdGlvbkxhYmVsIiwic3BlZWRMYWJlbCIsImdhc0xldmVsTGFiZWwiLCJ0cmFja0J1dHRvbiIsInR5cGUiLCJhZGRFdmVudExpc3RlbmVyIiwiZHJhd09yZGVyIiwib3JkZXJEaXYiLCJvcmRlcklEIiwib3JkZXJTdGF0dXMiLCJ0b1VwcGVyQ2FzZSIsInJlc3BvbnNlIiwic2hpcEJ1dHRvbiIsInBlbmRpbmdPcmRlciIsImRyYXdEcml2ZXIiLCJkcml2ZXJEaXYiLCJmdWxsTmFtZUxhYmVsIiwiZW1haWxMYWJlbCIsInBob25lTnVtYmVyTGFiZWwiLCJhc3NpZ25lZFRydWNrTGFiZWwiLCJtZW51RGl2IiwidHJ1Y2tzRGl2IiwiZHJpdmVyc0RpdiIsIm9yZGVyc0RpdiIsImNvbnRlbnREaXYiLCJtYXBEaXYiLCJtYWluRGl2IiwibWVudUgiLCJzdHlsZSIsIm1hcmdpbkJvdHRvbSIsIndlbGNvbWVMYWJlbCIsImluaXRpYWxpemVQYWdlIiwic2V0dXBNYXAiLCJhbGxPcmRlcnMiLCJ0cnVja3MiLCJvcmRlcnMiLCJkcml2ZXJzIiwid29ya2luZ09yZGVyIiwicHJldmVudERlZmF1bHQiLCJ0cnVja3NDb250YWluZXIiLCJkcmF3VHJ1Y2tzIiwiZHJpdmVyc0NvbnRhaW5lciIsImRyYXdEcml2ZXJzIiwibmV3T3JkZXJEaXYiLCJ0b3RhbExvYWREaXYiLCJ0b3RhbExvYWRMYWJlbCIsInRvdGFsTG9hZElucHV0IiwiZGVzdGluYXRpb25EaXYiLCJsYXRJbnB1dCIsImxuZ0lucHV0IiwibmV3T3JkZXJCdXR0b24iLCJvcmRlcnNDb250YWluZXIiLCJuZXdPcmRlciIsInBhcnNlSW50IiwicGFyc2VGbG9hdCIsIm5ld09yZGVyUmVxdWVzdCIsImRyYXdPcmRlcnMiXSwic291cmNlUm9vdCI6IiJ9